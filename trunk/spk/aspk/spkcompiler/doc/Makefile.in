SUFFIXES = .dox
.html.dox : 
	doxygen $<

SOURCE = ../libspkcompiler/client.h \
         ../libspkcompiler/ClientTranslator.h \
         ../driver/compiler.cpp \
         ../libspkcompiler/emit_IndData.h \
         ../libspkcompiler/ExpNodeCarrier.h \
         ../libspkcompiler/ExpTreeGenerator.h \
         ../libspkcompiler/read_content.h \
         ../libspkcompiler/explang.cpp \
         ../libspkcompiler/lex_explang.c \
         ../libspkcompiler/nonmem/nonmem.h \
         ../libspkcompiler/nonmem/explang.ypp \
         ../libspkcompiler/nonmem/lex_explang.l \
         ../libspkcompiler/nonmem/NonmemTranslator.h \
         ../libspkcompiler/nonmem/read_nonmem_data.h \
         ../libspkcompiler/nonmem/read_nonmem_driver.h \
         ../libspkcompiler/nonmem/read_nonmem_model.h \
         ../libspkcompiler/nonmem/emit_nonmem_driver.h \
         ../libspkcompiler/nonmem/emit_nonmem_model.h \
         ../libspkcompiler/SpkCompilerUtil.h \
         ../libspkcompiler/SpkMLToCpp.h \
         ../libspkcompiler/SpkParameters.h \
         ../libspkcompiler/Symbol.h \
         ../libspkcompiler/SymbolTable.h \
	 SpkML.dtd

html : SpkCompiler.dox $(SOURCE) 
	doxygen SpkCompiler.dox
	java -classpath ./tools/dtddoc/java/dtdparser119.jar:./tools/dtddoc/java/jakarta-oro-2.0.6.jar:.:./tools/dtddoc/java DTDDoc SpkML.dtd SpkML_html
clean : 
	rm -r html
	rm -r latex

all  : SpkCompiler.dox
	rm -r html
	rm -r latex
	doxygen SpkCompiler.dox 
