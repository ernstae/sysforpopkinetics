<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on April 2, 2002 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU Emacs Manual: Sending Mail</TITLE>

<META NAME="description" CONTENT="GNU Emacs Manual: Sending Mail">
<META NAME="keywords" CONTENT="GNU Emacs Manual: Sending Mail">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC363"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_28.html#SEC362"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC364"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_28.html#SEC358"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> Z. Sending Mail </H1>
<!--docid::SEC363::-->
<P>

  To send a message in Emacs, you start by typing a command (<KBD>C-x m</KBD>)
to select and initialize the <SAMP>`*mail*'</SAMP> buffer.  Then you edit the text
and headers of the message in this buffer, and type another command
(<KBD>C-c C-s</KBD> or <KBD>C-c C-c</KBD>) to send the message.
</P><P>

<DL COMPACT>
<DT><KBD>C-x m</KBD>
<DD>Begin composing a message to send (<CODE>compose-mail</CODE>).
<DT><KBD>C-x 4 m</KBD>
<DD>Likewise, but display the message in another window
(<CODE>compose-mail-other-window</CODE>).
<DT><KBD>C-x 5 m</KBD>
<DD>Likewise, but make a new frame (<CODE>compose-mail-other-frame</CODE>).
<DT><KBD>C-c C-s</KBD>
<DD>In Mail mode, send the message (<CODE>mail-send</CODE>).
<DT><KBD>C-c C-c</KBD>
<DD>Send the message and bury the mail buffer (<CODE>mail-send-and-exit</CODE>).
</DL>
<P>

<A NAME="IDX1818"></A>
<A NAME="IDX1819"></A>
<A NAME="IDX1820"></A>
<A NAME="IDX1821"></A>
<A NAME="IDX1822"></A>
<A NAME="IDX1823"></A>
  The command <KBD>C-x m</KBD> (<CODE>compose-mail</CODE>) selects a buffer named
<SAMP>`*mail*'</SAMP> and initializes it with the skeleton of an outgoing
message.  <KBD>C-x 4 m</KBD> (<CODE>compose-mail-other-window</CODE>) selects the
<SAMP>`*mail*'</SAMP> buffer in a different window, leaving the previous current
buffer visible.  <KBD>C-x 5 m</KBD> (<CODE>compose-mail-other-frame</CODE>) creates
a new frame to select the <SAMP>`*mail*'</SAMP> buffer.
</P><P>

  Because the mail-composition buffer is an ordinary Emacs buffer, you can
switch to other buffers while in the middle of composing mail, and switch
back later (or never).  If you use the <KBD>C-x m</KBD> command again when you
have been composing another message but have not sent it, you are asked to
confirm before the old message is erased.  If you answer <KBD>n</KBD>, the
<SAMP>`*mail*'</SAMP> buffer is left selected with its old contents, so you can
finish the old message and send it.  <KBD>C-u C-x m</KBD> is another way to do
this.  Sending the message marks the <SAMP>`*mail*'</SAMP> buffer "unmodified,"
which avoids the need for confirmation when <KBD>C-x m</KBD> is next used.
</P><P>

  If you are composing a message in the <SAMP>`*mail*'</SAMP> buffer and want to
send another message before finishing the first, rename the
<SAMP>`*mail*'</SAMP> buffer using <KBD>M-x rename-uniquely</KBD> (see section <A HREF="emacs_17.html#SEC175">N.3 Miscellaneous Buffer Operations</A>).  Then you can use <KBD>C-x m</KBD> or its variants described above
to make a new <SAMP>`*mail*'</SAMP> buffer.  Once you've done that, you can work
with each mail buffer independently.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC364">Z.1 The Format of the Mail Buffer</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Format of the mail being composed.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC365">Z.2 Mail Header Fields</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Details of permitted mail header fields.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC366">Z.3 Mail Aliases</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Abbreviating and grouping mail addresses.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC367">Z.4 Mail Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Special commands for editing mail being composed.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC372">Z.5 Mail Amusements</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Distracting the NSA; adding fortune messages.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC373">Z.6 Mail-Composition Methods</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Using alternative mail-composition methods.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Mail Format"></A>
<HR SIZE="6">
<A NAME="SEC364"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC365"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.1 The Format of the Mail Buffer </H2>
<!--docid::SEC364::-->
<P>

  In addition to the <EM>text</EM> or <EM>body</EM>, a message has <EM>header
fields</EM> which say who sent it, when, to whom, why, and so on.  Some
header fields, such as <SAMP>`Date'</SAMP> and <SAMP>`Sender'</SAMP>, are created
automatically when you send the message.  Others, such as the recipient
names, must be specified by you in order to send the message properly.
</P><P>

  Mail mode provides a few commands to help you edit some header fields,
and some are preinitialized in the buffer automatically at times.  You can
insert and edit header fields using ordinary editing commands.
</P><P>

  The line in the buffer that says
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>--text follows this line--
</pre></td></tr></table></P><P>

is a special delimiter that separates the headers you have specified from
the text.  Whatever follows this line is the text of the message; the
headers precede it.  The delimiter line itself does not appear in the
message actually sent.  The text used for the delimiter line is controlled
by the variable <CODE>mail-header-separator</CODE>.
</P><P>

Here is an example of what the headers and text in the mail buffer
might look like.
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>To: gnu@gnu.org
CC: lungfish@spam.org, byob@spam.org
Subject: The Emacs Manual
--Text follows this line--
Please ignore this message.
</pre></td></tr></table></P><P>

<A NAME="Mail Headers"></A>
<HR SIZE="6">
<A NAME="SEC365"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC364"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC366"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC366"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.2 Mail Header Fields </H2>
<!--docid::SEC365::-->
<P>

  A header field in the mail buffer starts with a field name at the
beginning of a line, terminated by a colon.  Upper and lower case are
equivalent in field names (and in mailing addresses also).  After the
colon and optional whitespace comes the contents of the field.
</P><P>

  You can use any name you like for a header field, but normally people
use only standard field names with accepted meanings.  Here is a table
of fields commonly used in outgoing messages.
</P><P>

<DL COMPACT>
<DT><SAMP>`To'</SAMP>
<DD>This field contains the mailing addresses to which the message is
addressed.  If you list more than one address, use commas, not spaces,
to separate them.
<P>

<DT><SAMP>`Subject'</SAMP>
<DD>The contents of the <SAMP>`Subject'</SAMP> field should be a piece of text
that says what the message is about.  The reason <SAMP>`Subject'</SAMP> fields
are useful is that most mail-reading programs can provide a summary of
messages, listing the subject of each message but not its text.
<P>

<DT><SAMP>`CC'</SAMP>
<DD>This field contains additional mailing addresses to send the message to,
like <SAMP>`To'</SAMP> except that these readers should not regard the message
as directed at them.
<P>

<DT><SAMP>`BCC'</SAMP>
<DD>This field contains additional mailing addresses to send the message to,
which should not appear in the header of the message actually sent.
Copies sent this way are called <EM>blind carbon copies</EM>.
<P>

<A NAME="IDX1824"></A>
<A NAME="IDX1825"></A>
To send a blind carbon copy of every outgoing message to yourself, set
the variable <CODE>mail-self-blind</CODE> to <CODE>t</CODE>.  To send a blind carbon
copy of every message to some other <VAR>address</VAR>, set the variable
<CODE>mail-default-headers</CODE> to <CODE>"Bcc: <VAR>address</VAR>\n"</CODE>.
</P><P>

<DT><SAMP>`FCC'</SAMP>
<DD>This field contains the name of one file and directs Emacs to append a
copy of the message to that file when you send the message.  If the file
is in Rmail format, Emacs writes the message in Rmail format; otherwise,
Emacs writes the message in system mail file format.  To specify
more than one file, use several <SAMP>`FCC'</SAMP> fields, with one file
name in each field.
<P>

<A NAME="IDX1826"></A>
To put a fixed file name in the <SAMP>`FCC'</SAMP> field each time you start
editing an outgoing message, set the variable
<CODE>mail-archive-file-name</CODE> to that file name.  Unless you remove the
<SAMP>`FCC'</SAMP> field before sending, the message will be written into that
file when it is sent.
</P><P>

<DT><SAMP>`From'</SAMP>
<DD>Use the <SAMP>`From'</SAMP> field to say who you are, when the account you are
using to send the mail is not your own.  The contents of the <SAMP>`From'</SAMP>
field should be a valid mailing address, since replies will normally go
there.  If you don't specify the <SAMP>`From'</SAMP> field yourself, Emacs uses
the value of <CODE>user-mail-address</CODE> as the default.
<P>

<DT><SAMP>`Reply-to'</SAMP>
<DD>Use this field to direct replies to a different address.  Most
mail-reading programs (including Rmail) automatically send replies to
the <SAMP>`Reply-to'</SAMP> address in preference to the <SAMP>`From'</SAMP> address.
By adding a <SAMP>`Reply-to'</SAMP> field to your header, you can work around
any problems your <SAMP>`From'</SAMP> address may cause for replies.
<P>

<A NAME="IDX1827"></A>
<A NAME="IDX1828"></A>
To put a fixed <SAMP>`Reply-to'</SAMP> address into every outgoing message, set
the variable <CODE>mail-default-reply-to</CODE> to that address (as a string).
Then <CODE>mail</CODE> initializes the message with a <SAMP>`Reply-to'</SAMP> field as
specified.  You can delete or alter that header field before you send
the message, if you wish.  When Emacs starts up, if the environment
variable <CODE>REPLYTO</CODE> is set, <CODE>mail-default-reply-to</CODE> is
initialized from that environment variable.
</P><P>

<DT><SAMP>`In-reply-to'</SAMP>
<DD>This field contains a piece of text describing the message you are
replying to.  Some mail systems can use this information to correlate
related pieces of mail.  Normally this field is filled in by Rmail
when you reply to a message in Rmail, and you never need to
think about it (see section <A HREF="emacs_30.html#SEC374">AA. Reading Mail with Rmail</A>).
<P>

<DT><SAMP>`References'</SAMP>
<DD>This field lists the message IDs of related previous messages.  Rmail
sets up this field automatically when you reply to a message.
</DL>
<P>

  The <SAMP>`To'</SAMP>, <SAMP>`CC'</SAMP>, and <SAMP>`BCC'</SAMP> header fields can appear
any number of times, and each such header field can contain multiple
addresses, separated by commas.  This way, you can specify any number
of places to send the message.  These fields can also have
continuation lines: one or more lines starting with whitespace,
following the starting line of the field, are considered part of the
field.  Here's an example of a <SAMP>`To'</SAMP> field with a continuation
line:</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>To: foo@here.net, this@there.net,
  me@gnu.cambridge.mass.usa.earth.spiral3281
</pre></td></tr></table></P><P>

<A NAME="IDX1829"></A>
  When you send the message, if you didn't write a <SAMP>`From'</SAMP> field
yourself, Emacs puts in one for you.  The variable
<CODE>mail-from-style</CODE> controls the format:
</P><P>

<DL COMPACT>
<DT><CODE>nil</CODE>
<DD>Use just the email address, as in <SAMP>`king@grassland.com'</SAMP>.
<DT><CODE>parens</CODE>
<DD>Use both email address and full name, as in <SAMP>`king@grassland.com (Elvis
Parsley)'</SAMP>.
<DT><CODE>angles</CODE>
<DD>Use both email address and full name, as in <SAMP>`Elvis Parsley
&#60;king@grassland.com&#62;'</SAMP>.
<DT><CODE>system-default</CODE>
<DD>Allow the system to insert the <SAMP>`From'</SAMP> field.
</DL>
<P>

<A NAME="IDX1830"></A>
  You can direct Emacs to insert certain default headers into the
outgoing message by setting the variable <CODE>mail-default-headers</CODE>
to a string.  Then <CODE>C-x m</CODE> inserts this string into the message
headers.  If the default header fields are not appropriate for a
particular message, edit them as appropriate before sending the
message.
</P><P>

<A NAME="Mail Aliases"></A>
<HR SIZE="6">
<A NAME="SEC366"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC365"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.3 Mail Aliases </H2>
<!--docid::SEC366::-->
<P>

  You can define <EM>mail aliases</EM> in a file named <TT>`~/.mailrc'</TT>.
These are short mnemonic names which stand for mail addresses or groups of
mail addresses.  Like many other mail programs, Emacs expands aliases
when they occur in the <SAMP>`To'</SAMP>, <SAMP>`From'</SAMP>, <SAMP>`CC'</SAMP>, <SAMP>`BCC'</SAMP>, and
<SAMP>`Reply-to'</SAMP> fields, plus their <SAMP>`Resent-'</SAMP> variants.
</P><P>

  To define an alias in <TT>`~/.mailrc'</TT>, write a line in the following
format:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>alias <VAR>shortaddress</VAR> <VAR>fulladdresses</VAR>
</pre></td></tr></table></P><P>

Here <VAR>fulladdresses</VAR> stands for one or more mail addresses for
<VAR>shortaddress</VAR> to expand into.  Separate multiple addresses with
spaces; if an address contains a space, quote the whole address with a
pair of double-quotes.
</P><P>

For instance, to make <CODE>maingnu</CODE> stand for
<CODE>gnu@gnu.org</CODE> plus a local address of your own, put in
this line:</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>alias maingnu gnu@gnu.org local-gnu
</pre></td></tr></table></P><P>

  Emacs also recognizes include commands in <SAMP>`.mailrc'</SAMP> files.
They look like this:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>source <VAR>filename</VAR>
</pre></td></tr></table></P><P>

The file <TT>`~/.mailrc'</TT> is used primarily by other mail-reading
programs; it can contain various other commands.  Emacs ignores
everything in it except for alias definitions and include commands.
</P><P>

<A NAME="IDX1831"></A>
  Another way to define a mail alias, within Emacs alone, is with the
<CODE>define-mail-alias</CODE> command.  It prompts for the alias and then the
full address.  You can use it to define aliases in your <TT>`.emacs'</TT>
file, like this:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(define-mail-alias "maingnu" "gnu@gnu.org")
</pre></td></tr></table></P><P>

<A NAME="IDX1832"></A>
  <CODE>define-mail-alias</CODE> records aliases by adding them to a
variable named <CODE>mail-aliases</CODE>.  If you are comfortable with
manipulating Lisp lists, you can set <CODE>mail-aliases</CODE> directly.  The
initial value of <CODE>mail-aliases</CODE> is <CODE>t</CODE>, which means that
Emacs should read <TT>`.mailrc'</TT> to get the proper value.
</P><P>

<A NAME="IDX1833"></A>
  You can specify a different file name to use instead of
<TT>`~/.mailrc'</TT> by setting the variable
<CODE>mail-personal-alias-file</CODE>.
</P><P>

<A NAME="IDX1834"></A>
  Normally, Emacs expands aliases when you send the message.  You do not
need to expand mail aliases before sending the message, but you can
expand them if you want to see where the mail will actually go.  To do
this, use the command <KBD>M-x expand-mail-aliases</KBD>; it expands all mail
aliases currently present in the mail headers that hold addresses.
</P><P>

  If you like, you can have mail aliases expand as abbrevs, as soon as
you type them in (see section <A HREF="emacs_27.html#SEC350">X. Abbrevs</A>).  To enable this feature, execute the
following:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(add-hook 'mail-mode-hook 'mail-abbrevs-setup)
</pre></td></tr></table></P><P>

<A NAME="IDX1835"></A>
<A NAME="IDX1836"></A>
This can go in your <TT>`.emacs'</TT> file.  See section <A HREF="emacs_33.html#SEC484">AD.2.3 Hooks</A>.  If you use this
feature, you must use <CODE>define-mail-abbrev</CODE> instead of
<CODE>define-mail-alias</CODE>; the latter does not work with this package.
Note that the mail abbreviation package uses the variable
<CODE>mail-abbrevs</CODE> instead of <CODE>mail-aliases</CODE>, and that all alias
names are converted to lower case.
</P><P>

<A NAME="IDX1837"></A>
<A NAME="IDX1838"></A>
  The mail abbreviation package also provides the <KBD>C-c C-a</KBD>
(<CODE>mail-interactive-insert-alias</CODE>) command, which reads an alias
name (with completion) and inserts its definition at point.  This is
useful when editing the message text itself or a header field such as
<SAMP>`Subject'</SAMP> in which Emacs does not normally expand aliases.
</P><P>

  Note that abbrevs expand only if you insert a word-separator character
afterward.  However, you can rebind <KBD>C-n</KBD> and <KBD>M-&#62;</KBD> to cause
expansion as well.  Here's how to do that:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(add-hook 'mail-mode-hook
          (lambda ()
            (substitute-key-definition
              'next-line 'mail-abbrev-next-line
              mail-mode-map global-map)
            (substitute-key-definition
              'end-of-buffer 'mail-abbrev-end-of-buffer
              mail-mode-map global-map)))
</FONT></pre></td></tr></table></P><P>

<A NAME="Mail Mode"></A>
<HR SIZE="6">
<A NAME="SEC367"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC366"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC368"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.4 Mail Mode </H2>
<!--docid::SEC367::-->
<P>

  The major mode used in the mail buffer is Mail mode, which is much
like Text mode except that various special commands are provided on the
<KBD>C-c</KBD> prefix.  These commands all have to do specifically with
editing or sending the message.  In addition, Mail mode defines the
character <SAMP>`%'</SAMP> as a word separator; this is helpful for using the
word commands to edit mail addresses.
</P><P>

  Mail mode is normally used in buffers set up automatically by the
<CODE>mail</CODE> command and related commands.  However, you can also switch
to Mail mode in a file-visiting buffer.  This is a useful thing to do if
you have saved the text of a draft message in a file.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC368">Z.4.1 Mail Sending</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to send the message.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC369">Z.4.2 Mail Header Editing</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to move to header fields and edit them.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC370">Z.4.3 Citing Mail</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Copying all or part of a message you are replying to.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_29.html#SEC371">Z.4.4 Mail Mode Miscellany</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Spell checking, signatures, etc.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Mail Sending"></A>
<HR SIZE="6">
<A NAME="SEC368"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC369"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> Z.4.1 Mail Sending </H3>
<!--docid::SEC368::-->
<P>

  Mail mode has two commands for sending the message you have been
editing:
</P><P>

<DL COMPACT>
<DT><KBD>C-c C-s</KBD>
<DD>Send the message, and leave the mail buffer selected (<CODE>mail-send</CODE>).
<DT><KBD>C-c C-c</KBD>
<DD>Send the message, and select some other buffer (<CODE>mail-send-and-exit</CODE>).
</DL>
<P>

<A NAME="IDX1839"></A>
<A NAME="IDX1840"></A>
<A NAME="IDX1841"></A>
<A NAME="IDX1842"></A>
  <KBD>C-c C-s</KBD> (<CODE>mail-send</CODE>) sends the message and marks the mail
buffer unmodified, but leaves that buffer selected so that you can
modify the message (perhaps with new recipients) and send it again.
<KBD>C-c C-c</KBD> (<CODE>mail-send-and-exit</CODE>) sends and then deletes the
window or switches to another buffer.  It puts the mail buffer at the
lowest priority for reselection by default, since you are finished with
using it.  This is the usual way to send the message.
</P><P>

  In a file-visiting buffer, sending the message does not clear the
modified flag, because only saving the file should do that.  As a
result, you don't get a warning if you try to send the same message
twice.
</P><P>

  When you send a message that contains non-ASCII characters, they need
to be encoded with a coding system (see section <A HREF="emacs_20.html#SEC220">Q.7 Coding Systems</A>).  Usually
the coding system is specified automatically by your chosen language
environment (see section <A HREF="emacs_20.html#SEC216">Q.3 Language Environments</A>).  You can explicitly specify
the coding system for outgoing mail by setting the variable
<CODE>sendmail-coding-system</CODE> (see section <A HREF="emacs_20.html#SEC221">Q.8 Recognizing Coding Systems</A>).
</P><P>

  If the coding system thus determined does not handle the characters in
a particular message, Emacs asks you to select the coding system to use,
showing a list of possible coding systems.
</P><P>

<A NAME="Header Editing"></A>
<HR SIZE="6">
<A NAME="SEC369"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC368"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC370"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC370"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> Z.4.2 Mail Header Editing </H3>
<!--docid::SEC369::-->
<P>

  Mail mode provides special commands to move to particular header
fields and to complete addresses in headers.
</P><P>

<DL COMPACT>
<DT><KBD>C-c C-f C-t</KBD>
<DD>Move to the <SAMP>`To'</SAMP> header field, creating one if there is none
(<CODE>mail-to</CODE>).
<DT><KBD>C-c C-f C-s</KBD>
<DD>Move to the <SAMP>`Subject'</SAMP> header field, creating one if there is
none (<CODE>mail-subject</CODE>).
<DT><KBD>C-c C-f C-c</KBD>
<DD>Move to the <SAMP>`CC'</SAMP> header field, creating one if there is none
(<CODE>mail-cc</CODE>).
<DT><KBD>C-c C-f C-b</KBD>
<DD>Move to the <SAMP>`BCC'</SAMP> header field, creating one if there is none
(<CODE>mail-bcc</CODE>).
<DT><KBD>C-c C-f C-f</KBD>
<DD>Move to the <SAMP>`FCC'</SAMP> header field, creating one if there is none
(<CODE>mail-fcc</CODE>).
<DT><KBD>M-<KBD>TAB</KBD></KBD>
<DD>Complete a mailing address (<CODE>mail-complete</CODE>).
</DL>
<P>

<A NAME="IDX1843"></A>
<A NAME="IDX1844"></A>
<A NAME="IDX1845"></A>
<A NAME="IDX1846"></A>
<A NAME="IDX1847"></A>
<A NAME="IDX1848"></A>
<A NAME="IDX1849"></A>
<A NAME="IDX1850"></A>
<A NAME="IDX1851"></A>
<A NAME="IDX1852"></A>
  There are five commands to move point to particular header fields, all
based on the prefix <KBD>C-c C-f</KBD> (<SAMP>`C-f'</SAMP> is for "field").  They
are listed in the table above.  If the field in question does not exist,
these commands create one.  We provide special motion commands for these
particular fields because they are the fields users most often want to
edit.
</P><P>

<A NAME="IDX1853"></A>
<A NAME="IDX1854"></A>
  While editing a header field that contains mailing addresses, such as
<SAMP>`To:'</SAMP>, <SAMP>`CC:'</SAMP> and <SAMP>`BCC:'</SAMP>, you can complete a mailing
address by typing <KBD>M-<KBD>TAB</KBD></KBD> (<CODE>mail-complete</CODE>).  It inserts
the full name corresponding to the address, if it can determine the full
name.  The variable <CODE>mail-complete-style</CODE> controls whether to insert
the full name, and what style to use, as in <CODE>mail-from-style</CODE>
(see section <A HREF="emacs_29.html#SEC365">Z.2 Mail Header Fields</A>).
</P><P>

  For completion purposes, the valid mailing addresses are taken to be
the local users' names plus your personal mail aliases.  You can
specify additional sources of valid addresses; look at the customization
group <SAMP>`mailalias'</SAMP> to see the options for this
(see section <A HREF="emacs_33.html#SEC480">AD.2.2.1 Customization Groups</A>).
</P><P>

  If you type <KBD>M-<KBD>TAB</KBD></KBD> in the body of the message,
<CODE>mail-complete</CODE> invokes <CODE>ispell-complete-word</CODE>, as in Text
mode.
</P><P>

<A NAME="Citing Mail"></A>
<HR SIZE="6">
<A NAME="SEC370"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC369"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC371"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC371"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> Z.4.3 Citing Mail </H3>
<!--docid::SEC370::-->
<P>

  Mail mode also has commands for yanking or <EM>citing</EM> all or part of
a message that you are replying to.  These commands are active only when
you started sending a message using an Rmail command.
</P><P>

<DL COMPACT>
<DT><KBD>C-c C-y</KBD>
<DD>Yank the selected message from Rmail (<CODE>mail-yank-original</CODE>).
<DT><KBD>C-c C-r</KBD>
<DD>Yank the region from the Rmail buffer (<CODE>mail-yank-region</CODE>).
<DT><KBD>C-c C-q</KBD>
<DD>Fill each paragraph cited from another message
(<CODE>mail-fill-yanked-message</CODE>).
</DL>
<P>

<A NAME="IDX1855"></A>
<A NAME="IDX1856"></A>
  When mail sending is invoked from the Rmail mail reader using an Rmail
command, <KBD>C-c C-y</KBD> can be used inside the mail buffer to insert
the text of the message you are replying to.  Normally it indents each line
of that message three spaces and eliminates most header fields.  A numeric
argument specifies the number of spaces to indent.  An argument of just
<KBD>C-u</KBD> says not to indent at all and not to eliminate anything.
<KBD>C-c C-y</KBD> always uses the current message from the Rmail buffer,
so you can insert several old messages by selecting one in Rmail,
switching to <SAMP>`*mail*'</SAMP> and yanking it, then switching back to
Rmail to select another.
</P><P>

<A NAME="IDX1857"></A>
  You can specify the text for <KBD>C-c C-y</KBD> to insert at the beginning
of each line: set <CODE>mail-yank-prefix</CODE> to the desired string.  (A
value of <CODE>nil</CODE> means to use indentation; this is the default.)
However, <KBD>C-u C-c C-y</KBD> never adds anything at the beginning of the
inserted lines, regardless of the value of <CODE>mail-yank-prefix</CODE>.
</P><P>

<A NAME="IDX1858"></A>
<A NAME="IDX1859"></A>
  To yank just a part of an incoming message, set the region in Rmail to
the part you want; then go to the <SAMP>`*Mail*'</SAMP> message and type
<KBD>C-c C-r</KBD> (<CODE>mail-yank-region</CODE>).  Each line that is copied is
indented or prefixed according to <CODE>mail-yank-prefix</CODE>.
</P><P>

<A NAME="IDX1860"></A>
<A NAME="IDX1861"></A>
  After using <KBD>C-c C-y</KBD> or <KBD>C-c C-r</KBD>, you can type <KBD>C-c C-q</KBD>
(<CODE>mail-fill-yanked-message</CODE>) to fill the paragraphs of the yanked
old message or messages.  One use of <KBD>C-c C-q</KBD> fills all such
paragraphs, each one individually.  To fill a single paragraph of the
quoted message, use <KBD>M-q</KBD>.  If filling does not automatically
handle the type of citation prefix you use, try setting the fill prefix
explicitly.  See section <A HREF="emacs_23.html#SEC238">T.5 Filling Text</A>.
</P><P>

<A NAME="Mail Mode Misc"></A>
<HR SIZE="6">
<A NAME="SEC371"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC370"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC367"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> Z.4.4 Mail Mode Miscellany </H3>
<!--docid::SEC371::-->
<P>

<DL COMPACT>
<DT><KBD>C-c C-t</KBD>
<DD>Move to the beginning of the message body text (<CODE>mail-text</CODE>).
<DT><KBD>C-c C-w</KBD>
<DD>Insert the file <TT>`~/.signature'</TT> at the end of the message text
(<CODE>mail-signature</CODE>).
<DT><KBD>C-c C-i <VAR>file</VAR> <KBD>RET</KBD></KBD>
<DD>Insert the contents of <VAR>file</VAR> at the end of the outgoing message
(<CODE>mail-attach-file</CODE>).
<DT><KBD>M-x ispell-message</KBD>
<DD>Perform spelling correction on the message text, but not on citations from
other messages.
</DL>
<P>

<A NAME="IDX1862"></A>
<A NAME="IDX1863"></A>
  <KBD>C-c C-t</KBD> (<CODE>mail-text</CODE>) moves point to just after the header
separator line--that is, to the beginning of the message body text.
</P><P>

<A NAME="IDX1864"></A>
<A NAME="IDX1865"></A>
<A NAME="IDX1866"></A>
  <KBD>C-c C-w</KBD> (<CODE>mail-signature</CODE>) adds a standard piece of text at
the end of the message to say more about who you are.  The text comes
from the file <TT>`~/.signature'</TT> in your home directory.  To insert
your signature automatically, set the variable <CODE>mail-signature</CODE> to
<CODE>t</CODE>; after that, starting a mail message automatically inserts the
contents of your <TT>`~/.signature'</TT> file.  If you want to omit your
signature from a particular message, delete it from the buffer before
you send the message.
</P><P>

  You can also set <CODE>mail-signature</CODE> to a string; then that string
is inserted automatically as your signature when you start editing a
message to send.  If you set it to some other Lisp expression, the
expression is evaluated each time, and its value (which should be a
string) specifies the signature.
</P><P>

<A NAME="IDX1867"></A>
  You can do spelling correction on the message text you have written
with the command <KBD>M-x ispell-message</KBD>.  If you have yanked an
incoming message into the outgoing draft, this command skips what was
yanked, but it checks the text that you yourself inserted.  (It looks
for indentation or <CODE>mail-yank-prefix</CODE> to distinguish the cited
lines from your input.)  See section <A HREF="emacs_15.html#SEC109">L.4 Checking and Correcting Spelling</A>.
</P><P>

<A NAME="IDX1868"></A>
<A NAME="IDX1869"></A>
  To include a file in the outgoing message, you can use <KBD>C-x i</KBD>,
the usual command to insert a file in the current buffer.  But it is
often more convenient to use a special command, <KBD>C-c C-i</KBD>
(<CODE>mail-attach-file</CODE>).  This command inserts the file contents at
the end of the buffer, after your signature if any, with a delimiter
line that includes the file name.
</P><P>

<A NAME="IDX1870"></A>
<A NAME="IDX1871"></A>
  Turning on Mail mode (which <KBD>C-x m</KBD> does automatically) runs the
normal hooks <CODE>text-mode-hook</CODE> and <CODE>mail-mode-hook</CODE>.
Initializing a new outgoing message runs the normal hook
<CODE>mail-setup-hook</CODE>; if you want to add special fields to your mail
header or make other changes to the appearance of the mail buffer, use
that hook.  See section <A HREF="emacs_33.html#SEC484">AD.2.3 Hooks</A>.
</P><P>

  The main difference between these hooks is just when they are
invoked.  Whenever you type <KBD>M-x mail</KBD>, <CODE>mail-mode-hook</CODE> runs
as soon as the <SAMP>`*mail*'</SAMP> buffer is created.  Then the
<CODE>mail-setup</CODE> function inserts the default contents of the buffer.
After these default contents are inserted, <CODE>mail-setup-hook</CODE> runs.
</P><P>

<A NAME="Mail Amusements"></A>
<HR SIZE="6">
<A NAME="SEC372"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC371"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC373"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC373"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.5 Mail Amusements </H2>
<!--docid::SEC372::-->
<P>

<A NAME="IDX1872"></A>
<A NAME="IDX1873"></A>
  <KBD>M-x spook</KBD> adds a line of randomly chosen keywords to an outgoing
mail message.  The keywords are chosen from a list of words that suggest
you are discussing something subversive.
</P><P>

  The idea behind this feature is the suspicion that the
NSA<A NAME="DOCF13" HREF="emacs_fot.html#FOOT13">(13)</A> snoops on
all electronic mail messages that contain keywords suggesting they might
find them interesting.  (The NSA says they don't, but that's what they
<EM>would</EM> say.)  The idea is that if lots of people add suspicious
words to their messages, the NSA will get so busy with spurious input
that they will have to give up reading it all.
</P><P>

  Here's how to insert spook keywords automatically whenever you start
entering an outgoing message:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(add-hook 'mail-setup-hook 'spook)
</pre></td></tr></table></P><P>

  Whether or not this confuses the NSA, it at least amuses people.
</P><P>

<A NAME="IDX1874"></A>
<A NAME="IDX1875"></A>
  You can use the <CODE>fortune</CODE> program to put a "fortune cookie"
message into outgoing mail.  To do this, add
<CODE>fortune-to-signature</CODE> to <CODE>mail-setup-hook</CODE>:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(add-hook 'mail-setup-hook 'fortune-to-signature)
</pre></td></tr></table></P><P>

<A NAME="Mail Methods"></A>
<HR SIZE="6">
<A NAME="SEC373"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC372"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> Z.6 Mail-Composition Methods </H2>
<!--docid::SEC373::-->
<P>

<A NAME="IDX1876"></A>
<A NAME="IDX1877"></A>
  In this chapter we have described the usual Emacs mode for editing
and sending mail--Mail mode.  Emacs has alternative facilities for
editing and sending mail, including
MH-E and Message mode, not documented in this manual.
See section `MH-E' in <CITE>The Emacs Interface to MH</CITE>.  See section `Message' in <CITE>Message Manual</CITE>.  You can choose any of them as your preferred method.
The commands <CODE>C-x m</CODE>, <CODE>C-x 4 m</CODE> and <CODE>C-x 5 m</CODE> use
whichever agent you have specified, as do various other Emacs commands
and facilities that send mail.
</P><P>

<A NAME="IDX1878"></A>
  To specify your mail-composition method, customize the variable
<CODE>mail-user-agent</CODE>.  Currently legitimate values include
<CODE>sendmail-user-agent</CODE> (Mail mode), <CODE>mh-e-user-agent</CODE>,
<CODE>message-user-agent</CODE> and <CODE>gnus-user-agent</CODE>.
</P><P>

  If you select a different mail-composition method, the information
in this chapter about the <SAMP>`*mail*'</SAMP> buffer and Mail mode does not
apply; the other methods use a different format of text in a different
buffer, and their commands are different as well.
</P><P>

<A NAME="Rmail"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_29.html#SEC363"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
on <I>April 2, 2002</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
