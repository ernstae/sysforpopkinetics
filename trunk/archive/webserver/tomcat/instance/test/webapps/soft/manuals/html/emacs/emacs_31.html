<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on April 2, 2002 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU Emacs Manual: Dired</TITLE>

<META NAME="description" CONTENT="GNU Emacs Manual: Dired">
<META NAME="keywords" CONTENT="GNU Emacs Manual: Dired">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC396"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC395"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC397"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_30.html#SEC374"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> AB. Dired, the Directory Editor </H1>
<!--docid::SEC396::-->
<P>

  Dired makes an Emacs buffer containing a listing of a directory, and
optionally some of its subdirectories as well.  You can use the normal
Emacs commands to move around in this buffer, and special Dired commands
to operate on the files listed.
</P><P>

    The Dired buffer is "read-only," and inserting text in it is not
useful, so ordinary printing characters such as <KBD>d</KBD> and <KBD>x</KBD> are
used for special Dired commands.  Some Dired commands <EM>mark</EM> or
<EM>flag</EM> the <EM>current file</EM> (that is, the file on the current
line); other commands operate on the marked files or on the flagged
files.
</P><P>

  The Dired-X package provides various extra features for Dired mode.
See section `Top' in <CITE>Dired Extra Version 2 User's Manual</CITE>.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC397">AB.1 Entering Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How to invoke Dired.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC398">AB.2 Navigation in the Dired Buffer</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Special motion commands in the Dired buffer.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC399">AB.3 Deleting Files with Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Deleting files with Dired.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC400">AB.4 Flagging Many Files at Once</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Flagging files based on their names.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC401">AB.5 Visiting Files in Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Other file operations through Dired.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC402">AB.6 Dired Marks vs. Flags</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Flagging for deletion vs marking.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC403">AB.7 Operating on Files</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How to copy, rename, print, compress, etc.
			        either one file or several files.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC404">AB.8 Shell Commands in Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Running a shell command on the marked files.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC405">AB.9 Transforming File Names in Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Using patterns to rename multiple files.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC406">AB.10 File Comparison with Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Running `diff' by way of Dired.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC407">AB.11 Subdirectories in Dired</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Adding subdirectories to the Dired buffer.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC408">AB.12 Moving Over Subdirectories</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Moving across subdirectories, and up and down.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC409">AB.13 Hiding Subdirectories</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Making subdirectories visible or invisible.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC410">AB.14 Updating the Dired Buffer</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Discarding lines for files of no interest.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_31.html#SEC411">AB.15 Dired and <CODE>find</CODE></A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Using `find' to choose the files for Dired.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Dired Enter"></A>
<HR SIZE="6">
<A NAME="SEC397"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.1 Entering Dired </H2>
<!--docid::SEC397::-->
<P>

<A NAME="IDX2005"></A>
<A NAME="IDX2006"></A>
<A NAME="IDX2007"></A>
  To invoke Dired, do <KBD>C-x d</KBD> or <KBD>M-x dired</KBD>.  The command reads
a directory name or wildcard file name pattern as a minibuffer argument
to specify which files to list.  Where <CODE>dired</CODE> differs from
<CODE>list-directory</CODE> is in putting the buffer into Dired mode so that
the special commands of Dired are available.
</P><P>

  The variable <CODE>dired-listing-switches</CODE> specifies the options to
give to <CODE>ls</CODE> for listing directory; this string <EM>must</EM> contain
<SAMP>`-l'</SAMP>.  If you use a numeric prefix argument with the <CODE>dired</CODE>
command, you can specify the <CODE>ls</CODE> switches with the minibuffer
before you enter the directory specification.
</P><P>

<A NAME="IDX2008"></A>
<A NAME="IDX2009"></A>
<A NAME="IDX2010"></A>
<A NAME="IDX2011"></A>
  To display the Dired buffer in another window rather than in the
selected window, use <KBD>C-x 4 d</KBD> (<CODE>dired-other-window</CODE>) instead
of <KBD>C-x d</KBD>.  <KBD>C-x 5 d</KBD> (<CODE>dired-other-frame</CODE>) uses a
separate frame to display the Dired buffer.
</P><P>

<A NAME="Dired Navigation"></A>
<HR SIZE="6">
<A NAME="SEC398"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC397"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC399"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC399"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.2 Navigation in the Dired Buffer </H2>
<!--docid::SEC398::-->
<P>

<A NAME="IDX2012"></A>
<A NAME="IDX2013"></A>
  All the usual Emacs cursor motion commands are available in Dired
buffers.  Some special-purpose cursor motion commands are also
provided.  The keys <KBD>C-n</KBD> and <KBD>C-p</KBD> are redefined to put the
cursor at the beginning of the file name on the line, rather than at the
beginning of the line.
</P><P>

<A NAME="IDX2014"></A>
  For extra convenience, <KBD>SPC</KBD> and <KBD>n</KBD> in Dired are equivalent
to <KBD>C-n</KBD>.  <KBD>p</KBD> is equivalent to <KBD>C-p</KBD>.  (Moving by lines is
so common in Dired that it deserves to be easy to type.)  <KBD>DEL</KBD>
(move up and unflag) is often useful simply for moving up.
</P><P>

  Some additional navigation commands are available when the Dired
buffer includes several directories.  See section <A HREF="emacs_31.html#SEC408">AB.12 Moving Over Subdirectories</A>.
</P><P>

<A NAME="Dired Deletion"></A>
<HR SIZE="6">
<A NAME="SEC399"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC400"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC400"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.3 Deleting Files with Dired </H2>
<!--docid::SEC399::-->
<P>

  One of the most frequent uses of Dired is to first <EM>flag</EM> files for
deletion, then delete the files that were flagged.
</P><P>

<DL COMPACT>
<DT><KBD>d</KBD>
<DD>Flag this file for deletion.
<DT><KBD>u</KBD>
<DD>Remove deletion flag on this line.
<DT><KBD><KBD>DEL</KBD></KBD>
<DD>Move point to previous line and remove the deletion flag on that line.
<DT><KBD>x</KBD>
<DD>Delete the files that are flagged for deletion.
</DL>
<P>

<A NAME="IDX2015"></A>
<A NAME="IDX2016"></A>
  You can flag a file for deletion by moving to the line describing the
file and typing <KBD>d</KBD> (<CODE>dired-flag-file-deletion</CODE>).  The deletion flag is visible as a <SAMP>`D'</SAMP> at
the beginning of the line.  This command moves point to the next line,
so that repeated <KBD>d</KBD> commands flag successive files.  A numeric
argument serves as a repeat count.
</P><P>

<A NAME="IDX2017"></A>
<A NAME="IDX2018"></A>
  The variable <CODE>dired-recursive-deletes</CODE> controls whether the
delete command will delete non-empty directories (including their
contents).  The default is to delete only empty directories.
</P><P>

<A NAME="IDX2019"></A>
<A NAME="IDX2020"></A>
  The files are flagged for deletion rather than deleted immediately to
reduce the danger of deleting a file accidentally.  Until you direct
Dired to delete the flagged files, you can remove deletion flags using
the commands <KBD>u</KBD> and <KBD>DEL</KBD>.  <KBD>u</KBD> (<CODE>dired-unmark</CODE>) works
just like <KBD>d</KBD>, but removes flags rather than making flags.
<KBD>DEL</KBD> (<CODE>dired-unmark-backward</CODE>) moves upward, removing flags;
it is like <KBD>u</KBD> with argument -1.
</P><P>

<A NAME="IDX2021"></A>
<A NAME="IDX2022"></A>
<A NAME="IDX2023"></A>
  To delete the flagged files, type <KBD>x</KBD> (<CODE>dired-do-flagged-delete</CODE>).
(This is also known as <EM>expunging</EM>.)
This command first displays a list of all the file names flagged for
deletion, and requests confirmation with <KBD>yes</KBD>.  If you confirm,
Dired deletes the flagged files, then deletes their lines from the text
of the Dired buffer.  The shortened Dired buffer remains selected.
</P><P>

  If you answer <KBD>no</KBD> or quit with <KBD>C-g</KBD> when asked to confirm, you
return immediately to Dired, with the deletion flags still present in
the buffer, and no files actually deleted.
</P><P>

<A NAME="Flagging Many Files"></A>
<HR SIZE="6">
<A NAME="SEC400"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC399"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC401"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC401"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.4 Flagging Many Files at Once </H2>
<!--docid::SEC400::-->
<P>

<DL COMPACT>
<DT><KBD>#</KBD>
<DD>Flag all auto-save files (files whose names start and end with <SAMP>`#'</SAMP>)
for deletion (see section <A HREF="emacs_16.html#SEC122">M.5 Auto-Saving: Protection Against Disasters</A>).
<P>

<DT><KBD>~</KBD>
<DD>Flag all backup files (files whose names end with <SAMP>`~'</SAMP>) for deletion
(see section <A HREF="emacs_16.html#SEC114">M.3.1 Backup Files</A>).
<P>

<DT><KBD>&#38;</KBD>
<DD>Flag for deletion all files with certain kinds of names, names that
suggest you could easily create the files again.
<P>

<DT><KBD>. (Period)</KBD>
<DD>Flag excess numeric backup files for deletion.  The oldest and newest
few backup files of any one file are exempt; the middle ones are
flagged.
<P>

<DT><KBD>% d <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>Flag for deletion all files whose names match the regular expression
<VAR>regexp</VAR>.
</DL>
<P>

  The <KBD>#</KBD>, <KBD>~</KBD>, <KBD>&#38;</KBD>, and <KBD>.</KBD> commands flag many files for
deletion, based on their file names.  These commands are useful
precisely because they do not themselves delete any files; you can
remove the deletion flags from any flagged files that you really wish to
keep.</P><P>

<A NAME="IDX2024"></A>
<A NAME="IDX2025"></A>
<A NAME="IDX2026"></A>
<A NAME="IDX2027"></A>
  <KBD>&#38;</KBD> (<CODE>dired-flag-garbage-files</CODE>) flags files whose names
match the regular expression specified by the variable
<CODE>dired-garbage-files-regexp</CODE>.  By default, this matches certain
files produced by TeX, <SAMP>`.bak'</SAMP> files, and the <SAMP>`.orig'</SAMP> and
<SAMP>`.rej'</SAMP> files produced by <CODE>patch</CODE>.
</P><P>

<A NAME="IDX2028"></A>
<A NAME="IDX2029"></A>
<A NAME="IDX2030"></A>
  <KBD>#</KBD> (<CODE>dired-flag-auto-save-files</CODE>) flags for deletion all
files whose names look like auto-save files (see section <A HREF="emacs_16.html#SEC122">M.5 Auto-Saving: Protection Against Disasters</A>)---that
is, files whose names begin and end with <SAMP>`#'</SAMP>.
</P><P>

<A NAME="IDX2031"></A>
<A NAME="IDX2032"></A>
  <KBD>~</KBD> (<CODE>dired-flag-backup-files</CODE>) flags for deletion all files
whose names say they are backup files (see section <A HREF="emacs_16.html#SEC114">M.3.1 Backup Files</A>)---that is, files
whose names end in <SAMP>`~'</SAMP>.
</P><P>

<A NAME="IDX2033"></A>
<A NAME="IDX2034"></A>
<A NAME="IDX2035"></A>
  <KBD>.</KBD> (period, <CODE>dired-clean-directory</CODE>) flags just some of the
backup files for deletion: all but the oldest few and newest few backups
of any one file.  Normally <CODE>dired-kept-versions</CODE> (<STRONG>not</STRONG>
<CODE>kept-new-versions</CODE>; that applies only when saving) specifies the
number of newest versions of each file to keep, and
<CODE>kept-old-versions</CODE> specifies the number of oldest versions to
keep.
</P><P>

  Period with a positive numeric argument, as in <KBD>C-u 3 .</KBD>,
specifies the number of newest versions to keep, overriding
<CODE>dired-kept-versions</CODE>.  A negative numeric argument overrides
<CODE>kept-old-versions</CODE>, using minus the value of the argument to
specify the number of oldest versions of each file to keep.
</P><P>

<A NAME="IDX2036"></A>
<A NAME="IDX2037"></A>
  The <KBD>% d</KBD> command flags all files whose names match a specified
regular expression (<CODE>dired-flag-files-regexp</CODE>).  Only the
non-directory part of the file name is used in matching.  You can use
<SAMP>`^'</SAMP> and <SAMP>`$'</SAMP> to anchor matches.  You can exclude subdirectories
by hiding them (see section <A HREF="emacs_31.html#SEC409">AB.13 Hiding Subdirectories</A>).
</P><P>

<A NAME="Dired Visiting"></A>
<HR SIZE="6">
<A NAME="SEC401"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC400"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC402"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC402"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.5 Visiting Files in Dired </H2>
<!--docid::SEC401::-->
<P>

  There are several Dired commands for visiting or examining the files
listed in the Dired buffer.  All of them apply to the current line's
file; if that file is really a directory, these commands invoke Dired on
that subdirectory (making a separate Dired buffer).
</P><P>

<DL COMPACT>
<DT><KBD>f</KBD>
<DD><A NAME="IDX2038"></A>
<A NAME="IDX2039"></A>
Visit the file described on the current line, like typing <KBD>C-x C-f</KBD>
and supplying that file name (<CODE>dired-find-file</CODE>).  See section <A HREF="emacs_16.html#SEC112">M.2 Visiting Files</A>.
<P>

<DT><KBD><KBD>RET</KBD></KBD>
<DD><DT><KBD>e</KBD>
<DD><A NAME="IDX2040"></A>
<A NAME="IDX2041"></A>
Equivalent to <KBD>f</KBD>.
<P>

<DT><KBD>a</KBD>
<DD><A NAME="IDX2042"></A>
<A NAME="IDX2043"></A>
Like <KBD>f</KBD>, but replaces the contents of the Dired buffer with
that of an alternate file or directory (<CODE>dired-find-alternate-file</CODE>).
<P>

<DT><KBD>o</KBD>
<DD><A NAME="IDX2044"></A>
<A NAME="IDX2045"></A>
Like <KBD>f</KBD>, but uses another window to display the file's buffer
(<CODE>dired-find-file-other-window</CODE>).  The Dired buffer remains visible
in the first window.  This is like using <KBD>C-x 4 C-f</KBD> to visit the
file.  See section <A HREF="emacs_18.html#SEC183">O. Multiple Windows</A>.
<P>

<DT><KBD>C-o</KBD>
<DD><A NAME="IDX2046"></A>
<A NAME="IDX2047"></A>
Visit the file described on the current line, and display the buffer in
another window, but do not select that window (<CODE>dired-display-file</CODE>).
<P>

<DT><KBD>Mouse-2</KBD>
<DD><A NAME="IDX2048"></A>
Visit the file named by the line you click on
(<CODE>dired-mouse-find-file-other-window</CODE>).  This uses another window
to display the file, like the <KBD>o</KBD> command.
<P>

<DT><KBD>v</KBD>
<DD><A NAME="IDX2049"></A>
<A NAME="IDX2050"></A>
View the file described on the current line, using <KBD>M-x view-file</KBD>
(<CODE>dired-view-file</CODE>).
<P>

Viewing a file is like visiting it, but is slanted toward moving around
in the file conveniently and does not allow changing the file.
See section <A HREF="emacs_16.html#SEC165">Miscellaneous File Operations</A>.
</P><P>

<DT><KBD>^</KBD>
<DD><A NAME="IDX2051"></A>
<A NAME="IDX2052"></A>
Visit the parent directory of the current directory
(<CODE>dired-up-directory</CODE>).  This is more convenient than moving to
the parent directory's line and typing <KBD>f</KBD> there.
</DL>
<P>

<A NAME="Marks vs Flags"></A>
<HR SIZE="6">
<A NAME="SEC402"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC401"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC403"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC403"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.6 Dired Marks vs. Flags </H2>
<!--docid::SEC402::-->
<P>

<A NAME="IDX2053"></A>
  Instead of flagging a file with <SAMP>`D'</SAMP>, you can <EM>mark</EM> the
file with some other character (usually <SAMP>`*'</SAMP>).  Most Dired
commands to operate on files use the files marked with <SAMP>`*'</SAMP>, the
exception being <KBD>x</KBD> which deletes the flagged files.
</P><P>

  Here are some commands for marking with <SAMP>`*'</SAMP>, or for unmarking or
operating on marks.  (See section <A HREF="emacs_31.html#SEC399">AB.3 Deleting Files with Dired</A>, for commands to flag and
unflag files.)
</P><P>

<DL COMPACT>
<DT><KBD>m</KBD>
<DD><DT><KBD>* m</KBD>
<DD><A NAME="IDX2054"></A>
<A NAME="IDX2055"></A>
<A NAME="IDX2056"></A>
Mark the current file with <SAMP>`*'</SAMP> (<CODE>dired-mark</CODE>).  With a numeric
argument <VAR>n</VAR>, mark the next <VAR>n</VAR> files starting with the current
file.  (If <VAR>n</VAR> is negative, mark the previous -<VAR>n</VAR>
files.)
<P>

<DT><KBD>* *</KBD>
<DD><A NAME="IDX2057"></A>
<A NAME="IDX2058"></A>
<A NAME="IDX2059"></A>
Mark all executable files with <SAMP>`*'</SAMP>
(<CODE>dired-mark-executables</CODE>).  With a numeric argument, unmark all
those files.
<P>

<DT><KBD>* @</KBD>
<DD><A NAME="IDX2060"></A>
<A NAME="IDX2061"></A>
<A NAME="IDX2062"></A>
Mark all symbolic links with <SAMP>`*'</SAMP> (<CODE>dired-mark-symlinks</CODE>).
With a numeric argument, unmark all those files.
<P>

<DT><KBD>* /</KBD>
<DD><A NAME="IDX2063"></A>
<A NAME="IDX2064"></A>
<A NAME="IDX2065"></A>
Mark with <SAMP>`*'</SAMP> all files which are actually directories, except for
<TT>`.'</TT> and <TT>`..'</TT> (<CODE>dired-mark-directories</CODE>).  With a numeric
argument, unmark all those files.
<P>

<DT><KBD>* s</KBD>
<DD><A NAME="IDX2066"></A>
<A NAME="IDX2067"></A>
Mark all the files in the current subdirectory, aside from <TT>`.'</TT>
and <TT>`..'</TT> (<CODE>dired-mark-subdir-files</CODE>).
<P>

<DT><KBD>u</KBD>
<DD><DT><KBD>* u</KBD>
<DD><A NAME="IDX2068"></A>
<A NAME="IDX2069"></A>
<A NAME="IDX2070"></A>
Remove any mark on this line (<CODE>dired-unmark</CODE>).
<P>

<DT><KBD><KBD>DEL</KBD></KBD>
<DD><DT><KBD>* <KBD>DEL</KBD></KBD>
<DD><A NAME="IDX2071"></A>
<A NAME="IDX2072"></A>
<A NAME="IDX2073"></A>
Move point to previous line and remove any mark on that line
(<CODE>dired-unmark-backward</CODE>).
<P>

<DT><KBD>* !</KBD>
<DD><A NAME="IDX2074"></A>
<A NAME="IDX2075"></A>
Remove all marks from all the files in this Dired buffer
(<CODE>dired-unmark-all-marks</CODE>).
<P>

<DT><KBD>* ? <VAR>markchar</VAR></KBD>
<DD><A NAME="IDX2076"></A>
<A NAME="IDX2077"></A>
Remove all marks that use the character <VAR>markchar</VAR>
(<CODE>dired-unmark-all-files</CODE>).  The argument is a single
character--do not use <KBD>RET</KBD> to terminate it.  See the description
of the <KBD>* c</KBD> command below, which lets you replace one mark
character with another.
<P>

With a numeric argument, this command queries about each marked file,
asking whether to remove its mark.  You can answer <KBD>y</KBD> meaning yes,
<KBD>n</KBD> meaning no, or <KBD>!</KBD> to remove the marks from the remaining
files without asking about them.
</P><P>

<DT><KBD>* C-n</KBD>
<DD><A NAME="IDX2078"></A>
<A NAME="IDX2079"></A>
Move down to the next marked file (<CODE>dired-next-marked-file</CODE>)
A file is "marked" if it has any kind of mark.
<P>

<DT><KBD>* C-p</KBD>
<DD><A NAME="IDX2080"></A>
<A NAME="IDX2081"></A>
Move up to the previous marked file (<CODE>dired-prev-marked-file</CODE>)
<P>

<DT><KBD>* t</KBD>
<DD><A NAME="IDX2082"></A>
<A NAME="IDX2083"></A>
<A NAME="IDX2084"></A>
Toggle all marks (<CODE>dired-do-toggle</CODE>): files marked with <SAMP>`*'</SAMP>
become unmarked, and unmarked files are marked with <SAMP>`*'</SAMP>.  Files
marked in any other way are not affected.
<P>

<DT><KBD>* c <VAR>old-markchar</VAR> <VAR>new-markchar</VAR></KBD>
<DD><A NAME="IDX2085"></A>
<A NAME="IDX2086"></A>
Replace all marks that use the character <VAR>old-markchar</VAR> with marks
that use the character <VAR>new-markchar</VAR> (<CODE>dired-change-marks</CODE>).
This command is the primary way to create or use marks other than
<SAMP>`*'</SAMP> or <SAMP>`D'</SAMP>.  The arguments are single characters--do not use
<KBD>RET</KBD> to terminate them.
<P>

You can use almost any character as a mark character by means of this
command, to distinguish various classes of files.  If <VAR>old-markchar</VAR>
is a space (<SAMP>` '</SAMP>), then the command operates on all unmarked files;
if <VAR>new-markchar</VAR> is a space, then the command unmarks the files it
acts on.
</P><P>

To illustrate the power of this command, here is how to put <SAMP>`D'</SAMP>
flags on all the files that have no marks, while unflagging all those
that already have <SAMP>`D'</SAMP> flags:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>* c D t  * c SPC D  * c t SPC
</pre></td></tr></table></P><P>

This assumes that no files were already marked with <SAMP>`t'</SAMP>.
</P><P>

<DT><KBD>% m <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD><DT><KBD>* % <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2087"></A>
<A NAME="IDX2088"></A>
<A NAME="IDX2089"></A>
Mark (with <SAMP>`*'</SAMP>) all files whose names match the regular expression
<VAR>regexp</VAR> (<CODE>dired-mark-files-regexp</CODE>).  This command is like
<KBD>% d</KBD>, except that it marks files with <SAMP>`*'</SAMP> instead of flagging
with <SAMP>`D'</SAMP>.  See section <A HREF="emacs_31.html#SEC400">AB.4 Flagging Many Files at Once</A>.
<P>

Only the non-directory part of the file name is used in matching.  Use
<SAMP>`^'</SAMP> and <SAMP>`$'</SAMP> to anchor matches.  Exclude subdirectories by
hiding them (see section <A HREF="emacs_31.html#SEC409">AB.13 Hiding Subdirectories</A>).
</P><P>

<DT><KBD>% g <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2090"></A>
<A NAME="IDX2091"></A>
<A NAME="IDX2092"></A>
Mark (with <SAMP>`*'</SAMP>) all files whose <EM>contents</EM> contain a match for
the regular expression <VAR>regexp</VAR>
(<CODE>dired-mark-files-containing-regexp</CODE>).  This command is like
<KBD>% m</KBD>, except that it searches the file contents instead of the file
name.
<P>

<DT><KBD>C-_</KBD>
<DD><A NAME="IDX2093"></A>
<A NAME="IDX2094"></A>
Undo changes in the Dired buffer, such as adding or removing
marks (<CODE>dired-undo</CODE>).  <EM>This command does not revert the
actual file operations, nor recover lost files!</EM>  It just undoes
changes in the buffer itself.  For example, if used after renaming one
or more files, <CODE>dired-undo</CODE> restores the original names, which
will get the Dired buffer out of sync with the actual contents of the
directory.
</DL>
<P>

<A NAME="Operating on Files"></A>
<HR SIZE="6">
<A NAME="SEC403"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC402"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC404"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC404"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.7 Operating on Files </H2>
<!--docid::SEC403::-->
<P>

  This section describes the basic Dired commands to operate on one file
or several files.  All of these commands are capital letters; all of
them use the minibuffer, either to read an argument or to ask for
confirmation, before they act.  All of them give you several ways to
specify which files to manipulate:
</P><P>

<UL>
<LI>
If you give the command a numeric prefix argument <VAR>n</VAR>, it operates
on the next <VAR>n</VAR> files, starting with the current file.  (If <VAR>n</VAR>
is negative, the command operates on the -<VAR>n</VAR> files preceding
the current line.)
<P>

<LI>
Otherwise, if some files are marked with <SAMP>`*'</SAMP>, the command operates
on all those files.
<P>

<LI>
Otherwise, the command operates on the current file only.
</UL>
<P>

<A NAME="IDX2095"></A>
<A NAME="IDX2096"></A>
  Commands which ask for a destination directory, such as those which
copy and rename files or create links for them, try to guess the default
target directory for the operation.  Normally, they suggest the Dired
buffer's default directory, but if the variable <CODE>dired-dwim-target</CODE>
is non-<CODE>nil</CODE>, and if there is another Dired buffer displayed in the
next window, that other buffer's directory is suggested instead.
</P><P>

  Here are the file-manipulating commands that operate on files in this
way.  (Some other Dired commands, such as <KBD>!</KBD> and the <SAMP>`%'</SAMP>
commands, also use these conventions to decide which files to work on.)
</P><P>

<DL COMPACT>
<A NAME="IDX2097"></A>
<A NAME="IDX2098"></A>
<A NAME="IDX2099"></A>
<DT><KBD>C <VAR>new</VAR> <KBD>RET</KBD></KBD>
<DD>Copy the specified files (<CODE>dired-do-copy</CODE>).  The argument <VAR>new</VAR>
is the directory to copy into, or (if copying a single file) the new
name.
<P>

<A NAME="IDX2100"></A>
If <CODE>dired-copy-preserve-time</CODE> is non-<CODE>nil</CODE>, then copying with
this command sets the modification time of the new file to be the same
as that of the old file.
</P><P>

<A NAME="IDX2101"></A>
<A NAME="IDX2102"></A>
The variable <CODE>dired-recursive-copies</CODE> controls whether
directories are copied recursively.  The default is to not copy
recursively, which means that directories cannot be copied.
</P><P>

<DT><KBD>D</KBD>
<DD><A NAME="IDX2103"></A>
<A NAME="IDX2104"></A>
Delete the specified files (<CODE>dired-do-delete</CODE>).  Like the other
commands in this section, this command operates on the <EM>marked</EM>
files, or the next <VAR>n</VAR> files.  By contrast, <KBD>x</KBD>
(<CODE>dired-do-flagged-delete</CODE>) deletes all <EM>flagged</EM> files.
<P>

<A NAME="IDX2105"></A>
<A NAME="IDX2106"></A>
<A NAME="IDX2107"></A>
<DT><KBD>R <VAR>new</VAR> <KBD>RET</KBD></KBD>
<DD>Rename the specified files (<CODE>dired-do-rename</CODE>).  The argument
<VAR>new</VAR> is the directory to rename into, or (if renaming a single
file) the new name.
<P>

Dired automatically changes the visited file name of buffers associated
with renamed files so that they refer to the new names.
</P><P>

<A NAME="IDX2108"></A>
<A NAME="IDX2109"></A>
<A NAME="IDX2110"></A>
<DT><KBD>H <VAR>new</VAR> <KBD>RET</KBD></KBD>
<DD>Make hard links to the specified files (<CODE>dired-do-hardlink</CODE>).  The
argument <VAR>new</VAR> is the directory to make the links in, or (if making
just one link) the name to give the link.
<P>

<A NAME="IDX2111"></A>
<A NAME="IDX2112"></A>
<A NAME="IDX2113"></A>
<DT><KBD>S <VAR>new</VAR> <KBD>RET</KBD></KBD>
<DD>Make symbolic links to the specified files (<CODE>dired-do-symlink</CODE>).
The argument <VAR>new</VAR> is the directory to make the links in, or (if
making just one link) the name to give the link.
<P>

<A NAME="IDX2114"></A>
<A NAME="IDX2115"></A>
<A NAME="IDX2116"></A>
<DT><KBD>M <VAR>modespec</VAR> <KBD>RET</KBD></KBD>
<DD>Change the mode (also called "permission bits") of the specified files
(<CODE>dired-do-chmod</CODE>).  This uses the <CODE>chmod</CODE> program, so
<VAR>modespec</VAR> can be any argument that <CODE>chmod</CODE> can handle.
<P>

<A NAME="IDX2117"></A>
<A NAME="IDX2118"></A>
<A NAME="IDX2119"></A>
<DT><KBD>G <VAR>newgroup</VAR> <KBD>RET</KBD></KBD>
<DD>Change the group of the specified files to <VAR>newgroup</VAR>
(<CODE>dired-do-chgrp</CODE>).
<P>

<A NAME="IDX2120"></A>
<A NAME="IDX2121"></A>
<A NAME="IDX2122"></A>
<DT><KBD>O <VAR>newowner</VAR> <KBD>RET</KBD></KBD>
<DD>Change the owner of the specified files to <VAR>newowner</VAR>
(<CODE>dired-do-chown</CODE>).  (On most systems, only the superuser can do
this.)
<P>

<A NAME="IDX2123"></A>
The variable <CODE>dired-chown-program</CODE> specifies the name of the
program to use to do the work (different systems put <CODE>chown</CODE> in
different places).
</P><P>

<A NAME="IDX2124"></A>
<A NAME="IDX2125"></A>
<A NAME="IDX2126"></A>
<DT><KBD>P <VAR>command</VAR> <KBD>RET</KBD></KBD>
<DD>Print the specified files (<CODE>dired-do-print</CODE>).  You must specify the
command to print them with, but the minibuffer starts out with a
suitable guess made using the variables <CODE>lpr-command</CODE> and
<CODE>lpr-switches</CODE> (the same variables that <CODE>lpr-buffer</CODE> uses;
see section <A HREF="emacs_32.html#SEC458">AC.18 Hardcopy Output</A>).
<P>

<A NAME="IDX2127"></A>
<A NAME="IDX2128"></A>
<A NAME="IDX2129"></A>
<DT><KBD>Z</KBD>
<DD>Compress the specified files (<CODE>dired-do-compress</CODE>).  If the file
appears to be a compressed file already, it is uncompressed instead.
<P>

<A NAME="IDX2130"></A>
<A NAME="IDX2131"></A>
<A NAME="IDX2132"></A>
<DT><KBD>L</KBD>
<DD>Load the specified Emacs Lisp files (<CODE>dired-do-load</CODE>).
See section <A HREF="emacs_25.html#SEC328">V.7 Libraries of Lisp Code for Emacs</A>.
<P>

<A NAME="IDX2133"></A>
<A NAME="IDX2134"></A>
<A NAME="IDX2135"></A>
<DT><KBD>B</KBD>
<DD>Byte compile the specified Emacs Lisp files
(<CODE>dired-do-byte-compile</CODE>).  See section `Byte Compilation' in <CITE>The Emacs Lisp Reference Manual</CITE>.
<P>

<A NAME="IDX2136"></A>
<A NAME="IDX2137"></A>
<A NAME="IDX2138"></A>
<DT><KBD>A <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>Search all the specified files for the regular expression <VAR>regexp</VAR>
(<CODE>dired-do-search</CODE>).
<P>

This command is a variant of <CODE>tags-search</CODE>.  The search stops at
the first match it finds; use <KBD>M-,</KBD> to resume the search and find
the next match.  See section <A HREF="emacs_26.html#SEC340">W.2.6 Searching and Replacing with Tags Tables</A>.
</P><P>

<A NAME="IDX2139"></A>
<A NAME="IDX2140"></A>
<A NAME="IDX2141"></A>
<DT><KBD>Q <VAR>regexp</VAR> <KBD>RET</KBD> <VAR>to</VAR> <KBD>RET</KBD></KBD>
<DD>Perform <CODE>query-replace-regexp</CODE> on each of the specified files,
replacing matches for <VAR>regexp</VAR> with the string
<VAR>to</VAR> (<CODE>dired-do-query-replace-regexp</CODE>).
<P>

This command is a variant of <CODE>tags-query-replace</CODE>.  If you exit the
query replace loop, you can use <KBD>M-,</KBD> to resume the scan and replace
more matches.  See section <A HREF="emacs_26.html#SEC340">W.2.6 Searching and Replacing with Tags Tables</A>.
</DL>
<P>

<A NAME="IDX2142"></A>
<A NAME="IDX2143"></A>
  One special file-operation command is <KBD>+</KBD>
(<CODE>dired-create-directory</CODE>).  This command reads a directory name and
creates the directory if it does not already exist.
</P><P>

<A NAME="Shell Commands in Dired"></A>
<HR SIZE="6">
<A NAME="SEC404"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC403"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC405"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC405"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.8 Shell Commands in Dired </H2>
<!--docid::SEC404::-->
<P>

<A NAME="IDX2144"></A>
<A NAME="IDX2145"></A>
<A NAME="IDX2146"></A>
The Dired command <KBD>!</KBD> (<CODE>dired-do-shell-command</CODE>) reads a shell
command string in the minibuffer and runs that shell command on all the
specified files.  <KBD>X</KBD> is a synonym for <KBD>!</KBD>.  You can specify the
files to operate on in the usual ways for Dired commands
(see section <A HREF="emacs_31.html#SEC403">AB.7 Operating on Files</A>).  There are two ways of applying a shell
command to multiple files:
</P><P>

<UL>
<LI>
If you use <SAMP>`*'</SAMP> in the shell command, then it runs just once, with
the list of file names substituted for the <SAMP>`*'</SAMP>.  The order of file
names is the order of appearance in the Dired buffer.
<P>

Thus, <KBD>! tar cf foo.tar * <KBD>RET</KBD></KBD> runs <CODE>tar</CODE> on the entire
list of file names, putting them into one tar file <TT>`foo.tar'</TT>.
</P><P>

<LI>
If the command string doesn't contain <SAMP>`*'</SAMP>, then it runs once
<EM>for each file</EM>, with the file name added at the end.
<P>

For example, <KBD>! uudecode <KBD>RET</KBD></KBD> runs <CODE>uudecode</CODE> on each
file.
</UL>
<P>

What if you want to run the shell command once for each file, with the
file name inserted in the middle?  You can use <SAMP>`?'</SAMP> in the command
instead of <SAMP>`*'</SAMP>.  The current file name is substituted for
<SAMP>`?'</SAMP>.  You can use <SAMP>`?'</SAMP> more than once.  For instance, here is
how to uuencode each file, making the output file name by appending
<SAMP>`.uu'</SAMP> to the input file name:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>uuencode ? ? &#62; ?.uu
</pre></td></tr></table></P><P>

To use the file names in a more complicated fashion, you can use a
shell loop.  For example, this shell command is another way to
uuencode each file:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>for file in *; do uuencode "$file" "$file" >"$file".uu; done
</pre></td></tr></table></P><P>

The working directory for the shell command is the top-level directory
of the Dired buffer.
</P><P>

The <KBD>!</KBD> command does not attempt to update the Dired buffer to show
new or modified files, because it doesn't really understand shell
commands, and does not know what files the shell command changed.  Use
the <KBD>g</KBD> command to update the Dired buffer (see section <A HREF="emacs_31.html#SEC410">AB.14 Updating the Dired Buffer</A>).
</P><P>

<A NAME="Transforming File Names"></A>
<HR SIZE="6">
<A NAME="SEC405"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC404"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC406"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.9 Transforming File Names in Dired </H2>
<!--docid::SEC405::-->
<P>

  This section describes Dired commands which alter file names in a
systematic way.
</P><P>

  Like the basic Dired file-manipulation commands (see section <A HREF="emacs_31.html#SEC403">AB.7 Operating on Files</A>), the commands described here operate either on the next
<VAR>n</VAR> files, or on all files marked with <SAMP>`*'</SAMP>, or on the current
file.  (To mark files, use the commands described in <A HREF="emacs_31.html#SEC402">AB.6 Dired Marks vs. Flags</A>.)
</P><P>

  All of the commands described in this section work
<EM>interactively</EM>: they ask you to confirm the operation for each
candidate file.  Thus, you can select more files than you actually
need to operate on (e.g., with a regexp that matches many files), and
then refine the selection by typing <KBD>y</KBD> or <KBD>n</KBD> when the
command prompts for confirmation.
</P><P>

<DL COMPACT>
<A NAME="IDX2147"></A>
<A NAME="IDX2148"></A>
<A NAME="IDX2149"></A>
<DT><KBD>% u</KBD>
<DD>Rename each of the selected files to an upper-case name
(<CODE>dired-upcase</CODE>).  If the old file names are <TT>`Foo'</TT>
and <TT>`bar'</TT>, the new names are <TT>`FOO'</TT> and <TT>`BAR'</TT>.
<P>

<DT><KBD>% l</KBD>
<DD><A NAME="IDX2150"></A>
<A NAME="IDX2151"></A>
<A NAME="IDX2152"></A>
Rename each of the selected files to a lower-case name
(<CODE>dired-downcase</CODE>).  If the old file names are <TT>`Foo'</TT> and
<TT>`bar'</TT>, the new names are <TT>`foo'</TT> and <TT>`bar'</TT>.
<P>

<DT><KBD>% R <VAR>from</VAR> <KBD>RET</KBD> <VAR>to</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2153"></A>
<A NAME="IDX2154"></A>
<DT><KBD>% C <VAR>from</VAR> <KBD>RET</KBD> <VAR>to</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2155"></A>
<A NAME="IDX2156"></A>
<DT><KBD>% H <VAR>from</VAR> <KBD>RET</KBD> <VAR>to</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2157"></A>
<A NAME="IDX2158"></A>
<DT><KBD>% S <VAR>from</VAR> <KBD>RET</KBD> <VAR>to</VAR> <KBD>RET</KBD></KBD>
<DD><A NAME="IDX2159"></A>
<A NAME="IDX2160"></A>
These four commands rename, copy, make hard links and make soft links,
in each case computing the new name by regular-expression substitution
from the name of the old file.
</DL>
<P>

  The four regular-expression substitution commands effectively perform
a search-and-replace on the selected file names in the Dired buffer.
They read two arguments: a regular expression <VAR>from</VAR>, and a
substitution pattern <VAR>to</VAR>.
</P><P>

  The commands match each "old" file name against the regular
expression <VAR>from</VAR>, and then replace the matching part with <VAR>to</VAR>.
You can use <SAMP>`\&#38;'</SAMP> and <SAMP>`\<VAR>digit</VAR>'</SAMP> in <VAR>to</VAR> to refer to
all or part of what the pattern matched in the old file name, as in
<CODE>replace-regexp</CODE> (see section <A HREF="emacs_14.html#SEC101">K.7.2 Regexp Replacement</A>).  If the regular expression
matches more than once in a file name, only the first match is replaced.
</P><P>

  For example, <KBD>% R ^.*$ <KBD>RET</KBD> x-\&#38; <KBD>RET</KBD></KBD> renames each
selected file by prepending <SAMP>`x-'</SAMP> to its name.  The inverse of this,
removing <SAMP>`x-'</SAMP> from the front of each file name, is also possible:
one method is <KBD>% R ^x-\(.*\)$ <KBD>RET</KBD> \1 <KBD>RET</KBD></KBD>; another is
<KBD>% R ^x- <KBD>RET</KBD> <KBD>RET</KBD></KBD>.  (Use <SAMP>`^'</SAMP> and <SAMP>`$'</SAMP> to anchor
matches that should span the whole filename.)
</P><P>

  Normally, the replacement process does not consider the files'
directory names; it operates on the file name within the directory.  If
you specify a numeric argument of zero, then replacement affects the
entire absolute file name including directory name.  (Non-zero
argument specifies the number of files to operate on.)
</P><P>

  Often you will want to select the set of files to operate on using the
same <VAR>regexp</VAR> that you will use to operate on them.  To do this,
mark those files with <KBD>% m <VAR>regexp</VAR> <KBD>RET</KBD></KBD>, then use the
same regular expression in the command to operate on the files.  To make
this easier, the <KBD>%</KBD> commands to operate on files use the last
regular expression specified in any <KBD>%</KBD> command as a default.
</P><P>

<A NAME="Comparison in Dired"></A>
<HR SIZE="6">
<A NAME="SEC406"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC405"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC407"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.10 File Comparison with Dired </H2>
<!--docid::SEC406::-->
<P>

  Here are two Dired commands that compare specified files using
<CODE>diff</CODE>.
</P><P>

<DL COMPACT>
<DT><KBD>=</KBD>
<DD><A NAME="IDX2161"></A>
<A NAME="IDX2162"></A>
Compare the current file (the file at point) with another file (the file
at the mark) using the <CODE>diff</CODE> program (<CODE>dired-diff</CODE>).  The
file at the mark is the first argument of <CODE>diff</CODE>, and the file at
point is the second argument.  Use <KBD>C-<KBD>SPC</KBD></KBD>
(<CODE>set-mark-command</CODE>) to set the mark at the first file's line
(see section <A HREF="emacs_11.html#SEC53">H.1 Setting the Mark</A>), since <CODE>dired-diff</CODE> ignores the files marked
with the Dired's <KBD>m</KBD> command.
<P>

<A NAME="IDX2163"></A>
<A NAME="IDX2164"></A>
<DT><KBD>M-=</KBD>
<DD>Compare the current file with its latest backup file
(<CODE>dired-backup-diff</CODE>).  If the current file is itself a backup,
compare it with the file it is a backup of; this way, you can compare
a file with any backup version of your choice.
<P>

The backup file is the first file given to <CODE>diff</CODE>.
</DL>
<P>

<A NAME="Subdirectories in Dired"></A>
<HR SIZE="6">
<A NAME="SEC407"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC406"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC408"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.11 Subdirectories in Dired </H2>
<!--docid::SEC407::-->
<P>

  A Dired buffer displays just one directory in the normal case;
but you can optionally include its subdirectories as well.
</P><P>

  The simplest way to include multiple directories in one Dired buffer is
to specify the options <SAMP>`-lR'</SAMP> for running <CODE>ls</CODE>.  (If you give a
numeric argument when you run Dired, then you can specify these options
in the minibuffer.)  That produces a recursive directory listing showing
all subdirectories at all levels.
</P><P>

  But usually all the subdirectories are too many; usually you will
prefer to include specific subdirectories only.  You can do this with
the <KBD>i</KBD> command:
</P><P>

<DL COMPACT>
<A NAME="IDX2165"></A>
<A NAME="IDX2166"></A>
<DT><KBD>i</KBD>
<DD><A NAME="IDX2167"></A>
<A NAME="IDX2168"></A>
Insert the contents of a subdirectory later in the buffer.
</DL>
<P>

Use the <KBD>i</KBD> (<CODE>dired-maybe-insert-subdir</CODE>) command on a line
that describes a file which is a directory.  It inserts the contents of
that directory into the same Dired buffer, and moves there.  Inserted
subdirectory contents follow the top-level directory of the Dired
buffer, just as they do in <SAMP>`ls -lR'</SAMP> output.
</P><P>

If the subdirectory's contents are already present in the buffer, the
<KBD>i</KBD> command just moves to it.
</P><P>

In either case, <KBD>i</KBD> sets the Emacs mark before moving, so <KBD>C-u
C-<KBD>SPC</KBD></KBD> takes you back to the old position in the buffer (the line
describing that subdirectory).
</P><P>

Use the <KBD>l</KBD> command (<CODE>dired-do-redisplay</CODE>) to update the
subdirectory's contents.  Use <KBD>C-u k</KBD> on the subdirectory header
line to delete the subdirectory.  See section <A HREF="emacs_31.html#SEC410">AB.14 Updating the Dired Buffer</A>.
</P><P>

<A NAME="Subdirectory Motion"></A>
<HR SIZE="6">
<A NAME="SEC408"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC407"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC409"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.12 Moving Over Subdirectories </H2>
<!--docid::SEC408::-->
<P>

  When a Dired buffer lists subdirectories, you can use the page motion
commands <KBD>C-x [</KBD> and <KBD>C-x ]</KBD> to move by entire directories
(see section <A HREF="emacs_23.html#SEC237">T.4 Pages</A>).
</P><P>

<A NAME="IDX2169"></A>
<A NAME="IDX2170"></A>
  The following commands move across, up and down in the tree of
directories within one Dired buffer.  They move to <EM>directory header
lines</EM>, which are the lines that give a directory's name, at the
beginning of the directory's contents.
</P><P>

<DL COMPACT>
<A NAME="IDX2171"></A>
<A NAME="IDX2172"></A>
<DT><KBD>C-M-n</KBD>
<DD>Go to next subdirectory header line, regardless of level
(<CODE>dired-next-subdir</CODE>).
<P>

<A NAME="IDX2173"></A>
<A NAME="IDX2174"></A>
<DT><KBD>C-M-p</KBD>
<DD>Go to previous subdirectory header line, regardless of level
(<CODE>dired-prev-subdir</CODE>).
<P>

<A NAME="IDX2175"></A>
<A NAME="IDX2176"></A>
<DT><KBD>C-M-u</KBD>
<DD>Go up to the parent directory's header line (<CODE>dired-tree-up</CODE>).
<P>

<A NAME="IDX2177"></A>
<A NAME="IDX2178"></A>
<DT><KBD>C-M-d</KBD>
<DD>Go down in the directory tree, to the first subdirectory's header line
(<CODE>dired-tree-down</CODE>).
<P>

<A NAME="IDX2179"></A>
<A NAME="IDX2180"></A>
<DT><KBD>&#60;</KBD>
<DD>Move up to the previous directory-file line (<CODE>dired-prev-dirline</CODE>).
These lines are the ones that describe a directory as a file in its
parent directory.
<P>

<A NAME="IDX2181"></A>
<A NAME="IDX2182"></A>
<DT><KBD>&#62;</KBD>
<DD>Move down to the next directory-file line (<CODE>dired-prev-dirline</CODE>).
</DL>
<P>

<A NAME="Hiding Subdirectories"></A>
<HR SIZE="6">
<A NAME="SEC409"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC408"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC410"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.13 Hiding Subdirectories </H2>
<!--docid::SEC409::-->
<P>

<A NAME="IDX2183"></A>
  <EM>Hiding</EM> a subdirectory means to make it invisible, except for its
header line, via selective display (see section <A HREF="emacs_13.html#SEC86">J.9 Selective Display</A>).
</P><P>

<DL COMPACT>
<DT><KBD>$</KBD>
<DD><A NAME="IDX2184"></A>
<A NAME="IDX2185"></A>
Hide or reveal the subdirectory that point is in, and move point to the
next subdirectory (<CODE>dired-hide-subdir</CODE>).  A numeric argument serves
as a repeat count.
<P>

<DT><KBD>M-$</KBD>
<DD><A NAME="IDX2186"></A>
<A NAME="IDX2187"></A>
Hide all subdirectories in this Dired buffer, leaving only their header
lines (<CODE>dired-hide-all</CODE>).  Or, if any subdirectory is currently
hidden, make all subdirectories visible again.  You can use this command
to get an overview in very deep directory trees or to move quickly to
subdirectories far away.
</DL>
<P>

  Ordinary Dired commands never consider files inside a hidden
subdirectory.  For example, the commands to operate on marked files
ignore files in hidden directories even if they are marked.  Thus you
can use hiding to temporarily exclude subdirectories from operations
without having to remove the markers.
</P><P>

  The subdirectory hiding commands toggle; that is, they hide what was
visible, and show what was hidden.
</P><P>

<A NAME="Dired Updating"></A>
<HR SIZE="6">
<A NAME="SEC410"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC409"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC411"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.14 Updating the Dired Buffer </H2>
<!--docid::SEC410::-->
<P>

  This section describes commands to update the Dired buffer to reflect
outside (non-Dired) changes in the directories and files, and to delete
part of the Dired buffer.
</P><P>

<DL COMPACT>
<DT><KBD>g</KBD>
<DD>Update the entire contents of the Dired buffer (<CODE>revert-buffer</CODE>).
<P>

<DT><KBD>l</KBD>
<DD>Update the specified files (<CODE>dired-do-redisplay</CODE>).
<P>

<DT><KBD>k</KBD>
<DD>Delete the specified <EM>file lines</EM>---not the files, just the lines
(<CODE>dired-do-kill-lines</CODE>).
<P>

<DT><KBD>s</KBD>
<DD>Toggle between alphabetical order and date/time order
(<CODE>dired-sort-toggle-or-edit</CODE>).
<P>

<DT><KBD>C-u s <VAR>switches</VAR> <KBD>RET</KBD></KBD>
<DD>Refresh the Dired buffer using <VAR>switches</VAR> as
<CODE>dired-listing-switches</CODE>.
</DL>
<P>

<A NAME="IDX2188"></A>
<A NAME="IDX2189"></A>
  Type <KBD>g</KBD> (<CODE>revert-buffer</CODE>) to update the contents of the
Dired buffer, based on changes in the files and directories listed.
This preserves all marks except for those on files that have vanished.
Hidden subdirectories are updated but remain hidden.
</P><P>

<A NAME="IDX2190"></A>
<A NAME="IDX2191"></A>
  To update only some of the files, type <KBD>l</KBD>
(<CODE>dired-do-redisplay</CODE>).  Like the Dired file-operating commands,
this command operates on the next <VAR>n</VAR> files (or previous
-<VAR>n</VAR> files), or on the marked files if any, or on the
current file.  Updating the files means reading their current status,
then updating their lines in the buffer to indicate that status.
</P><P>

  If you use <KBD>l</KBD> on a subdirectory header line, it updates the
contents of the corresponding subdirectory.
</P><P>

<A NAME="IDX2192"></A>
<A NAME="IDX2193"></A>
  To delete the specified <EM>file lines</EM> from the buffer--not
delete the files--type <KBD>k</KBD> (<CODE>dired-do-kill-lines</CODE>).  Like
the file-operating commands, this command operates on the next <VAR>n</VAR>
files, or on the marked files if any; but it does not operate on the
current file as a last resort.
</P><P>

  If you kill the line for a file that is a directory, the directory's
contents are also deleted from the buffer.  Typing <KBD>C-u k</KBD> on the
header line for a subdirectory is another way to delete a subdirectory
from the Dired buffer.
</P><P>

  The <KBD>g</KBD> command brings back any individual lines that you have
killed in this way, but not subdirectories--you must use <KBD>i</KBD> to
reinsert a subdirectory.
</P><P>

<A NAME="IDX2194"></A>
<A NAME="IDX2195"></A>
<A NAME="IDX2196"></A>
<A NAME="IDX2197"></A>
  The files in a Dired buffers are normally listed in alphabetical order
by file names.  Alternatively Dired can sort them by date/time.  The
Dired command <KBD>s</KBD> (<CODE>dired-sort-toggle-or-edit</CODE>) switches
between these two sorting modes.  The mode line in a Dired buffer
indicates which way it is currently sorted--by name, or by date.
</P><P>

  <KBD>C-u s <VAR>switches</VAR> <KBD>RET</KBD></KBD> lets you specify a new value for
<CODE>dired-listing-switches</CODE>.
</P><P>

<A NAME="Dired and Find"></A>
<HR SIZE="6">
<A NAME="SEC411"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC410"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC396"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> AB.15 Dired and <CODE>find</CODE> </H2>
<!--docid::SEC411::-->
<P>

  You can select a set of files for display in a Dired buffer more
flexibly by using the <CODE>find</CODE> utility to choose the files.
</P><P>

<A NAME="IDX2198"></A>
  To search for files with names matching a wildcard pattern use
<KBD>M-x find-name-dired</KBD>.  It reads arguments <VAR>directory</VAR> and
<VAR>pattern</VAR>, and chooses all the files in <VAR>directory</VAR> or its
subdirectories whose individual names match <VAR>pattern</VAR>.
</P><P>

  The files thus chosen are displayed in a Dired buffer in which the
ordinary Dired commands are available.
</P><P>

<A NAME="IDX2199"></A>
  If you want to test the contents of files, rather than their names,
use <KBD>M-x find-grep-dired</KBD>.  This command reads two minibuffer
arguments, <VAR>directory</VAR> and <VAR>regexp</VAR>; it chooses all the files in
<VAR>directory</VAR> or its subdirectories that contain a match for
<VAR>regexp</VAR>.  It works by running the programs <CODE>find</CODE> and
<CODE>grep</CODE>.  See also <KBD>M-x grep-find</KBD>, in <A HREF="emacs_25.html#SEC317">V.1 Running Compilations under Emacs</A>.
Remember to write the regular expression for <CODE>grep</CODE>, not for Emacs.
(An alternative method of showing files whose contents match a given
regexp is the <KBD>% g <VAR>regexp</VAR></KBD> command, see <A HREF="emacs_31.html#SEC402">AB.6 Dired Marks vs. Flags</A>.)
</P><P>

<A NAME="IDX2200"></A>
  The most general command in this series is <KBD>M-x find-dired</KBD>, which
lets you specify any condition that <CODE>find</CODE> can test.  It takes two
minibuffer arguments, <VAR>directory</VAR> and <VAR>find-args</VAR>; it runs
<CODE>find</CODE> in <VAR>directory</VAR>, passing <VAR>find-args</VAR> to tell
<CODE>find</CODE> what condition to test.  To use this command, you need to
know how to use <CODE>find</CODE>.
</P><P>

<A NAME="IDX2201"></A>
<A NAME="IDX2202"></A>
<A NAME="IDX2203"></A>
<A NAME="IDX2204"></A>
  <KBD>M-x locate</KBD> provides a similar interface to the <CODE>locate</CODE>
program.  <KBD>M-x locate-with-filter</KBD> is similar, but keeps only lines
matching a given regular expression.
</P><P>

<A NAME="IDX2205"></A>
  The format of listing produced by these commands is controlled by the
variable <CODE>find-ls-option</CODE>, whose default value specifies using
options <SAMP>`-ld'</SAMP> for <CODE>ls</CODE>.  If your listings are corrupted, you
may need to change the value of this variable.
<A NAME="Calendar/Diary"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_31.html#SEC398"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_32.html#SEC412"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
on <I>April 2, 2002</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
