<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>load_spktest.pl -- build a test database from a dump of the production database</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#abstract">ABSTRACT</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#default_file_name">DEFAULT FILE NAME</a></li>
		<li><a href="#optional_file_names">OPTIONAL FILE NAMES</a></li>
		<li><a href="#optional_database">OPTIONAL DATABASE</a></li>
		<li><a href="#optional_host_name">OPTIONAL HOST NAME</a></li>
		<li><a href="#optional_user_and_password">OPTIONAL USER AND PASSWORD</a></li>
		<li><a href="#dependencies">DEPENDENCIES</a></li>
	</ul>

</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<pre>
    load_spktest.pl -- build a test database from a dump of the production database</pre>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    load_spktest.pl [--schema name1] [--basedata name2] [--userdata name3] \
                    [ --modscript name4 \
                    [ --database name5] \
                    [--host name6] \
                    [ --user name7[ [--password --name8]</pre>
<p>
</p>
<hr />
<h1><a name="abstract">ABSTRACT</a></h1>
<pre>
    From a symbolic dump made previously from the production database,
    this program creates a test database.</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<pre>
    On localhost, in the database spktest, this program does the following:</pre>
<pre>
    1. Drops all tables
    2. Recreates the tables, using sql statements in the schema input file.
    3. Inserts non-transactional data into tables end, method and state, using sql
       statements in the basedata input file
    4. Inserts transactional data into the other tables, using sql statements in
       the userdata input files</pre>
<p>
</p>
<h2><a name="default_file_name">DEFAULT FILE NAME</a></h2>
<pre>
    The following default files are used:</pre>
<pre>
    schema:   schema.sql
    basedata: basedata.sql
    userdata: userdata.sql</pre>
<pre>
    In each of the three cases, either a file of that name must exist
    in the current directory, or the pathname of an existing file must
    be given in the optional corresponding command-line argument.</pre>
<pre>
    In addition, the following file is used</pre>
<pre>
  modscript:  modscript.sql</pre>
<pre>
    but only if it exists in the current directory or if the pathname of
    an existing file is given in the optional &quot;modscript&quot; command-line
    argument.  If neither the default modscript exists, nor a modscript
    is specified on the command-line, no modscript will be used.</pre>
<p>
</p>
<h2><a name="optional_file_names">OPTIONAL FILE NAMES</a></h2>
<pre>
    If present on the command line, the following options override the
    default file names.  The user can provide no optional arguments,
    or one, two or three of the following, in any order:</pre>
<pre>
    --schema name1
    --basedata name2
    --userdata name3</pre>
<p>
</p>
<h2><a name="optional_database">OPTIONAL DATABASE</a></h2>
<pre>
    By default, the program builds the database spktest.  The
    --database option allows another database to be built.</pre>
<p>
</p>
<h2><a name="optional_host_name">OPTIONAL HOST NAME</a></h2>
<pre>
    By default, the program assumes that the database is on localhost.
    The --host option allows another host to be designated.</pre>
<p>
</p>
<h2><a name="optional_user_and_password">OPTIONAL USER AND PASSWORD</a></h2>
<pre>
    The program has a default user and password for building spktest.
    The --user and --password options make it possible to use a
    different user/password pair.  In particular, this may be
    necessary if the --database option is used.</pre>
<p>
</p>
<h2><a name="dependencies">DEPENDENCIES</a></h2>
<pre>
    The program depends on a MySQL utility, mysql, to do the hard
    work.</pre>

</body>

</html>
