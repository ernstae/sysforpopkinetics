<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SPK Compiler API Documentation: NM_generateIndData.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">spkcompiler</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">nonmem</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">backup</a></div>
<h1>backup/NM_generateIndData.cpp</h1><div class="fragment"><pre class="fragment">00001 
00005 <span class="preprocessor">#include &lt;fstream&gt;</span>
00006 <span class="preprocessor">#include &lt;cassert&gt;</span>
00007 
00008 <span class="preprocessor">#include "<a class="code" href="NonmemTranslator_8h.html">NonmemTranslator.h</a>"</span>
00009 <span class="preprocessor">#include "<a class="code" href="SpkCompilerException_8h.html">SpkCompilerException.h</a>"</span>
00010 
00011 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00012 <span class="keyword">using</span> <span class="keyword">namespace </span>xercesc;
00013 <span class="comment">//=========================================================================================</span>
00014 <span class="comment">// </span>
00015 <span class="comment">// Generate IndData.h, a file declaring and defining IndData template class,</span>
00016 <span class="comment">// a class that represents a data set for a single individual.</span>
00017 <span class="comment">//</span>
00018 <span class="comment">// Pre-conditions  - The symbol table contains the NONMEM keywords and user defined variable</span>
00019 <span class="comment">//                   names needed by the user-provided model.</span>
00020 <span class="comment">//</span>
00021 <span class="comment">//                 - The symbol table contains entries for the data labels and aliases.</span>
00022 <span class="comment">//                   The data labels have to be retrievable by calling </span>
00023 <span class="comment">//                   SymbolTable::getlabels().  </span>
00024 <span class="comment">//          </span>
00025 <span class="comment">//                 - The vector returned by SymbolTable::getLables() must contain</span>
00026 <span class="comment">//                   the data labels in the order in which they define the data items </span>
00027 <span class="comment">//                   (ie. columns) in the data set.</span>
00028 <span class="comment">//</span>
00029 <span class="comment">//                 - The current working directory is writable.</span>
00030 <span class="comment">//</span>
00031 <span class="comment">// Post-conditions - A file, IndData.h, is saved in the current working directory.</span>
00032 <span class="comment">//=========================================================================================</span>
<a name="l00033"></a><a class="code" href="classNonmemTranslator.html#d18">00033</a> <span class="keywordtype">void</span> <a class="code" href="classNonmemTranslator.html#d18">NonmemTranslator::generateIndData</a>( )<span class="keyword"> const</span>
00034 <span class="keyword"></span>{
00035   <span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
00036   <span class="comment">//</span>
00037   <span class="comment">// Preliminaries</span>
00038   <span class="comment">//</span>
00039   <span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
00040 
00041   <span class="comment">//</span>
00042   <span class="comment">// The only the "ID" data items have type of string</span>
00043   <span class="comment">// All others have double precision type.</span>
00044   <span class="comment">// When generating C++ source code, thus, the ID</span>
00045   <span class="comment">// data items have to be recognized and treated</span>
00046   <span class="comment">// differently.  We keep a pointer to the Symbol</span>
00047   <span class="comment">// object that holds "ID" data items handy for</span>
00048   <span class="comment">// frequent references.</span>
00049   <span class="comment">//</span>
00050   <span class="keyword">const</span> <a class="code" href="classSymbol.html">Symbol</a> * pID = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::ID );
00051 
00052   <span class="comment">//</span>
00053   <span class="comment">// DV has to be declared non-constant if simulated data replaces it.</span>
00054   <span class="comment">//</span>
00055   <span class="keyword">const</span> <a class="code" href="classSymbol.html">Symbol</a> * pDV = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::DV );
00056   <span class="keyword">const</span> <a class="code" href="classSymbol.html">Symbol</a> * pORGDV = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::ORGDV );
00057 
00058   <span class="comment">//</span>
00059   <span class="comment">// The order in which the label strings appear is significant.</span>
00060   <span class="comment">// So, get a constant pointer to the list so that I cannot </span>
00061   <span class="comment">// mess it up.</span>
00062   <span class="comment">//</span>
00063   <span class="keyword">const</span> vector&lt;string&gt; * labels = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a7">getLabels</a>();
00064   vector&lt;string&gt;::const_iterator pLabel;
00065 
00066   <span class="comment">//</span>
00067   <span class="comment">// Just a sanity check: there has be one and only one "ID" entry in the label list.</span>
00068   <span class="comment">//</span>
00069 <span class="preprocessor">#ifndef NDEBUG</span>
00070 <span class="preprocessor"></span>  <span class="keywordtype">int</span> cnt=0;
00071   <span class="keywordflow">for</span>( pLabel = labels-&gt;begin(); pLabel != labels-&gt;end(); pLabel++ )
00072     {
00073       <span class="keywordflow">if</span>( *pLabel == pID-&gt;<a class="code" href="classSymbol.html#o0">name</a> )
00074     ++cnt;
00075     }
00076   <span class="keywordflow">if</span>( cnt != 1 )
00077     {
00078       <span class="keywordtype">char</span> mess[ <a class="code" href="classSpkCompilerError.html#e3">SpkCompilerError::maxMessageLen</a>() ];
00079       snprintf( mess, 
00080         SpkCompilerError::maxMessageLen(),
00081         <span class="stringliteral">"There may be one and only one \"%s\" label."</span>, pID-&gt;<a class="code" href="classSymbol.html#o0">name</a>.c_str() );
00082       <a class="code" href="classSpkCompilerException.html">SpkCompilerException</a> e ( SpkCompilerError::ASPK_SOURCEML_ERR, mess, __LINE__, __FILE__ );
00083       <span class="keywordflow">throw</span> e;
00084     }
00085 <span class="preprocessor">#endif</span>
00086 <span class="preprocessor"></span>
00087   <span class="comment">// </span>
00088   <span class="comment">// A SymbolTable object uses a std::map object as the actual</span>
00089   <span class="comment">// table.  The usual way of retrieving the entries in the internal</span>
00090   <span class="comment">// table is though member functions provided by SymbolTable class.</span>
00091   <span class="comment">// Another way, which is used here, is to access the internal</span>
00092   <span class="comment">// table directly, which is faster and convenient.</span>
00093   <span class="comment">//</span>
00094   <span class="keyword">const</span> map&lt;const string, Symbol&gt; * <span class="keyword">const</span> internalTable = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a8">getTable</a>();
00095   map&lt;const string, Symbol&gt;::const_iterator pInternalTable;
00096 
00097   <span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
00098   <span class="comment">//</span>
00099   <span class="comment">// Write into IndData.h</span>
00100   <span class="comment">//</span>
00101   <span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
00102 
00103   <span class="comment">//</span>
00104   <span class="comment">// Declare and define IndData template class.</span>
00105   <span class="comment">// For name binding reason, the declaration and the definition</span>
00106   <span class="comment">// are both stored in a single file: IndData.h</span>
00107   <span class="comment">//</span>
00108   <span class="comment">// Variable names strictly preserve the names defined/typed by the user.</span>
00109   <span class="comment">//</span>
00110   ofstream oIndData_h( <a class="code" href="classNonmemTranslator.html#v1">fIndData_h</a> );
00111   <span class="keywordflow">if</span>( !oIndData_h.good() )
00112     {
00113       <span class="keywordtype">char</span> mess[ <a class="code" href="classSpkCompilerError.html#e3">SpkCompilerError::maxMessageLen</a>() ];
00114       snprintf( mess, 
00115         SpkCompilerError::maxMessageLen(),
00116         <span class="stringliteral">"Failed to create a file, %s."</span>, <a class="code" href="classNonmemTranslator.html#v1">fIndData_h</a> );
00117       <a class="code" href="classSpkCompilerException.html">SpkCompilerException</a> e( SpkCompilerError::ASPK_STD_ERR, mess, __LINE__, __FILE__ );
00118       <span class="keywordflow">throw</span> e;
00119     }
00120   
00121   <span class="comment">//---------------------------------------------------------------------------------------</span>
00122   <span class="comment">//</span>
00123   <span class="comment">// Print out some description for this file.</span>
00124   <span class="comment">//</span>
00125   <span class="comment">//---------------------------------------------------------------------------------------</span>
00126   oIndData_h &lt;&lt; <span class="stringliteral">"/* "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r2">myDescription</a> &lt;&lt; <span class="stringliteral">"*/"</span> &lt;&lt; endl;
00127 
00128   <span class="comment">//---------------------------------------------------------------------------------------</span>
00129   <span class="comment">// </span>
00130   <span class="comment">// Header include statements.</span>
00131   <span class="comment">//</span>
00132   <span class="comment">//---------------------------------------------------------------------------------------</span>
00133   oIndData_h &lt;&lt; <span class="stringliteral">"#ifndef INDDATA_H"</span> &lt;&lt; endl;
00134   oIndData_h &lt;&lt; <span class="stringliteral">"#define INDDATA_H"</span> &lt;&lt; endl;
00135   oIndData_h &lt;&lt; endl;
00136 
00137   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;vector&gt;"</span> &lt;&lt; endl;
00138   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;map&gt;"</span> &lt;&lt; endl;
00139   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;spk/SpkValarray.h&gt;"</span> &lt;&lt; endl;
00140   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;spk/cholesky.h&gt;"</span> &lt;&lt; endl;
00141   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;spk/multiply.h&gt;"</span> &lt;&lt; endl;
00142   oIndData_h &lt;&lt; <span class="stringliteral">"#include &lt;CppAD/CppAD.h&gt;"</span> &lt;&lt; endl;
00143   oIndData_h &lt;&lt; endl;
00144   
00145   <span class="comment">//---------------------------------------------------------------------------------------</span>
00146   <span class="comment">//</span>
00147   <span class="comment">// Declaration of IndData class</span>
00148   <span class="comment">//</span>
00149   <span class="comment">// The template argument (ie. "ValueType" in this case)</span>
00150   <span class="comment">// must be something guaranteed that the user</span>
00151   <span class="comment">// do not use for one of their user-defined variables.</span>
00152   <span class="comment">//</span>
00153   <span class="comment">// The specification for SpkSourceML where the </span>
00154   <span class="comment">// definition of PRED or other models appears</span>
00155   <span class="comment">// restricts user use of variable names beginning</span>
00156   <span class="comment">// with "spk_", let's take advantage of it here.</span>
00157   <span class="comment">//</span>
00158   <span class="comment">//---------------------------------------------------------------------------------------</span>
00159   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00160   oIndData_h &lt;&lt; <span class="stringliteral">"class IndData{"</span> &lt;&lt; endl;
00161   
00162   <span class="comment">//----------------------------------------</span>
00163   <span class="comment">// Public member declarations.</span>
00164   <span class="comment">//----------------------------------------</span>
00165   oIndData_h &lt;&lt; <span class="stringliteral">"public:"</span> &lt;&lt; endl;
00166 
00167   <span class="comment">// -----------</span>
00168   <span class="comment">// Constructor</span>
00169   <span class="comment">// -----------</span>
00170   <span class="comment">// A constructor that takes the number of measurements</span>
00171   <span class="comment">// for this particular individual's data set </span>
00172   <span class="comment">// and the data item values (from the data file).</span>
00173   <span class="comment">// The prototype varies depending on different data sets.</span>
00174   <span class="comment">// The following example shows the contructor prototype</span>
00175   <span class="comment">// for a data set which has three data items: ID, d1 and d2.</span>
00176   <span class="comment">// The data labels d1 and d2 have aliases "d1_alias" and </span>
00177   <span class="comment">// "d2_alias", respectively.</span>
00178   <span class="comment">// </span>
00179   <span class="comment">// IndData( int nRecordsIn,</span>
00180   <span class="comment">//          const vector&lt;char*&gt;         &amp;IDIn,</span>
00181   <span class="comment">//          const vector&lt;spk_ValueType&gt; &amp;d1In,  // data item 1</span>
00182   <span class="comment">//          const vector&lt;spk_ValueType&gt; &amp;d2In   // data item 2 )</span>
00183   <span class="comment">// : n(nRecordsIn), d1(d1In), d1_alias(d1In), d2(d2In), d2_alias(d2In)</span>
00184   <span class="comment">// {...}</span>
00185   <span class="comment">// </span>
00186   oIndData_h &lt;&lt; <span class="stringliteral">"   IndData( int nRecordsIn"</span>;
00187   pLabel = labels-&gt;begin();
00188   <span class="keywordflow">for</span>( ; pLabel != labels-&gt;end(); pLabel++ )
00189     {
00190       <span class="keywordtype">bool</span> isID  = ( *pLabel == pID-&gt;<a class="code" href="classSymbol.html#o0">name</a> );
00191       <span class="keywordtype">bool</span> isInt = ( *pLabel==nonmem::EVID || *pLabel == nonmem::CMT || *pLabel == nonmem::PCMT );
00192       oIndData_h &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; endl;
00193       
00194       <span class="comment">//</span>
00195       <span class="comment">// If the label is of "ID", then, the data type is char*.</span>
00196       <span class="comment">// Otherwise, all others have double precision.</span>
00197       <span class="comment">//</span>
00198       oIndData_h &lt;&lt; <span class="charliteral">'\t'</span> &lt;&lt; <span class="stringliteral">"   const std::vector&lt;"</span>;
00199       <span class="keywordflow">if</span>( isID )
00200     oIndData_h &lt;&lt; <span class="stringliteral">"char*"</span>;
00201       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( isInt )
00202     oIndData_h &lt;&lt; <span class="stringliteral">"int"</span>;
00203       <span class="keywordflow">else</span>
00204         oIndData_h &lt;&lt; <span class="stringliteral">"spk_ValueType"</span>;
00205       oIndData_h &lt;&lt; <span class="stringliteral">"&gt;"</span>;
00206       oIndData_h &lt;&lt; <span class="stringliteral">" &amp; "</span> &lt;&lt; *pLabel &lt;&lt; <span class="stringliteral">"In"</span>;
00207     }
00208   oIndData_h &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00209   oIndData_h &lt;&lt; endl;
00210 
00211   <span class="comment">// </span>
00212   <span class="comment">// Declare member variables whose names resemble the data labels and their</span>
00213   <span class="comment">// corresponding synonyms if they have.  They are all have double</span>
00214   <span class="comment">// precision except for the ID data item which has char* type.</span>
00215   <span class="comment">//</span>
00216   <span class="keywordflow">for</span>( pInternalTable=internalTable-&gt;begin(); pInternalTable != internalTable-&gt;end(); pInternalTable++ )
00217     {
00218       <span class="keyword">const</span> string varName         = pInternalTable-&gt;second.name;
00219       <span class="keyword">const</span> string varAlias        = pInternalTable-&gt;second.synonym;
00220       <span class="keyword">enum</span> Symbol::ObjectType objectType = pInternalTable-&gt;second.object_type;
00221       <span class="keyword">enum</span> Symbol::Ownership  owner      = pInternalTable-&gt;second.owner;
00222       
00223       <span class="keywordflow">if</span>( varName == nonmem::EVID || varName == nonmem::CMT || varName == nonmem::PCMT )
00224     {
00225       oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;int&gt; "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00226       <span class="keywordflow">if</span>( varAlias != <span class="stringliteral">""</span> )
00227         oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;int&gt; "</span> &lt;&lt; varAlias &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00228       <span class="keywordflow">continue</span>;
00229     }
00230       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( varName == nonmem::ID )
00231     {
00232       oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;char*&gt; "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00233       <span class="keywordflow">if</span>( varAlias != <span class="stringliteral">""</span> )
00234         oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;char*&gt; "</span> &lt;&lt; varAlias &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00235       <span class="keywordflow">continue</span>;
00236     }
00237 
00238       <span class="keywordflow">if</span>( objectType == Symbol::VECTOR )
00239     {
00240       <span class="keywordflow">if</span>( owner == Symbol::DATASET )
00241         {
00242           oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;spk_ValueType&gt; "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00243           <span class="keywordflow">if</span>( varAlias != <span class="stringliteral">""</span> )
00244         oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;spk_ValueType&gt; "</span> &lt;&lt; varAlias &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00245         }
00246       <span class="keywordflow">else</span>
00247         {
00248           oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt; std::vector&lt;spk_ValueType&gt; &gt; "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00249           <span class="keywordflow">if</span>( varAlias != <span class="stringliteral">""</span> )
00250         oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt; std::vector&lt;spk_ValueType&gt; &gt; "</span> &lt;&lt; varAlias &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00251         }
00252     }
00253       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( objectType == Symbol::SCALAR )
00254     {
00255       oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;spk_ValueType&gt; "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00256       <span class="keywordflow">if</span>( varAlias != <span class="stringliteral">""</span> )
00257         oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;spk_ValueType&gt; "</span> &lt;&lt; varAlias &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00258       
00259     }
00260       <span class="keywordflow">else</span> <span class="comment">// Matrix</span>
00261     {
00262       <span class="comment">// OMEGA and SIGMA are the only legal matrices.</span>
00263       <span class="keywordflow">if</span>( !( varName == nonmem::OMEGA || varName == nonmem::SIGMA ) )
00264         {
00265           <span class="keywordtype">char</span> m[ <a class="code" href="classSpkCompilerError.html#e3">SpkCompilerError::maxMessageLen</a>() ];
00266           snprintf( m, 
00267             SpkCompilerError::maxMessageLen(),
00268             <span class="stringliteral">"Matrix(%s) is not allowed here!"</span>, varName.c_str() );
00269           <span class="keywordflow">throw</span> <a class="code" href="classSpkCompilerException.html">SpkCompilerException</a>( SpkCompilerError::ASPK_PROGRAMMER_ERR, m, __LINE__, __FILE__ );
00270         }
00271     }
00272     }
00273 
00274   oIndData_h &lt;&lt; endl;
00275   
00276   <span class="comment">// ----------</span>
00277   <span class="comment">// Destructor</span>
00278   <span class="comment">// ----------</span>
00279   oIndData_h &lt;&lt; <span class="stringliteral">"   ~IndData();"</span> &lt;&lt; endl;
00280 
00281   <span class="comment">//----------------------------------------</span>
00282   <span class="comment">// Public member declarations</span>
00283   <span class="comment">//----------------------------------------</span>
00284   oIndData_h &lt;&lt; <span class="stringliteral">"   int getNRecords() const;"</span> &lt;&lt; endl;
00285   oIndData_h &lt;&lt; <span class="stringliteral">"   int getNObservs() const;"</span> &lt;&lt; endl;
00286   oIndData_h &lt;&lt; <span class="stringliteral">"   const SPK_VA::valarray&lt;double&gt; getMeasurements() const;"</span>          &lt;&lt; endl;
00287   oIndData_h &lt;&lt; <span class="stringliteral">"   int getRecordIndex( int measurementIndex ) const;"</span>                &lt;&lt; endl;
00288   oIndData_h &lt;&lt; <span class="stringliteral">"   int getMeasurementIndex( int recordIndex ) const;"</span>                &lt;&lt; endl;
00289   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceMeasurements( const SPK_VA::valarray&lt;double&gt;&amp; yyi );"</span> &lt;&lt; endl;
00290   oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePred   ( const SPK_VA::valarray&lt;double&gt;&amp; predIn );"</span>   &lt;&lt; endl;
00291   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceRes    ( const SPK_VA::valarray&lt;double&gt;&amp; ResIn );"</span>    &lt;&lt; endl;
00292   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceWRes   ( const SPK_VA::valarray&lt;double&gt;&amp; WresIn );"</span>   &lt;&lt; endl;
00293   oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePPred  ( const SPK_VA::valarray&lt;double&gt;&amp; pPredIn );"</span>  &lt;&lt; endl;
00294   oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePRes   ( const SPK_VA::valarray&lt;double&gt;&amp; pResIn );"</span>   &lt;&lt; endl;
00295   oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePWRes  ( const SPK_VA::valarray&lt;double&gt;&amp; pWResIn );"</span>  &lt;&lt; endl;
00296   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceIPred  ( const SPK_VA::valarray&lt;double&gt;&amp; iPredIn );"</span>  &lt;&lt; endl;
00297   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceIRes   ( const SPK_VA::valarray&lt;double&gt;&amp; iResIn );"</span>   &lt;&lt; endl;
00298   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceIWRes  ( const SPK_VA::valarray&lt;double&gt;&amp; iWresIn );"</span>  &lt;&lt; endl;
00299   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceCPred  ( const SPK_VA::valarray&lt;double&gt;&amp; cPredIn );"</span>  &lt;&lt; endl;
00300   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceCRes   ( const SPK_VA::valarray&lt;double&gt;&amp; cResIn );"</span>   &lt;&lt; endl;
00301   oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceCWRes  ( const SPK_VA::valarray&lt;double&gt;&amp; cWresIn );"</span>  &lt;&lt; endl;
00302   <span class="keywordflow">if</span>( <a class="code" href="classClientTranslator.html#a13">getTarget</a>() == POP )
00303     {
00304       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceEta     ( const SPK_VA::valarray&lt;double&gt;&amp; etaIn );"</span>      &lt;&lt; endl;
00305       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceEtaRes  ( const SPK_VA::valarray&lt;double&gt;&amp; EtaresIn );"</span>  &lt;&lt; endl;
00306       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceWEtaRes ( const SPK_VA::valarray&lt;double&gt;&amp; WetaresIn );"</span> &lt;&lt; endl;
00307       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceIEtaRes ( const SPK_VA::valarray&lt;double&gt;&amp; iEtaresIn );"</span>  &lt;&lt; endl;
00308       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceIWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; iWetaresIn );"</span> &lt;&lt; endl;
00309       oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePEtaRes ( const SPK_VA::valarray&lt;double&gt;&amp; pEtaResIn );"</span>  &lt;&lt; endl;
00310       oIndData_h &lt;&lt; <span class="stringliteral">"   void replacePWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; pWEtaResIn );"</span> &lt;&lt; endl;
00311       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceCEtaRes ( const SPK_VA::valarray&lt;double&gt;&amp; cEtaResIn );"</span>  &lt;&lt; endl;
00312       oIndData_h &lt;&lt; <span class="stringliteral">"   void replaceCWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; cWEtaResIn );"</span> &lt;&lt; endl;
00313     }
00314   oIndData_h &lt;&lt; endl;
00315 
00316   <span class="comment">//----------------------------------------</span>
00317   <span class="comment">// Protected member declarations.</span>
00318   <span class="comment">//----------------------------------------</span>
00319   oIndData_h &lt;&lt; <span class="stringliteral">"protected:"</span> &lt;&lt; endl;
00320   oIndData_h &lt;&lt; <span class="stringliteral">"   IndData();"</span> &lt;&lt; endl;
00321   oIndData_h &lt;&lt; <span class="stringliteral">"   IndData( const IndData&amp; );"</span> &lt;&lt; endl;
00322   oIndData_h &lt;&lt; <span class="stringliteral">"   IndData&amp; operator=( const IndData&amp; );"</span> &lt;&lt; endl;
00323   oIndData_h &lt;&lt; endl;
00324   oIndData_h &lt;&lt; <span class="stringliteral">"   int nY; // #of measurements (DVs where MDV=0)."</span> &lt;&lt; endl;
00325   oIndData_h &lt;&lt; <span class="stringliteral">"   SPK_VA::valarray&lt;double&gt; measurements;"</span> &lt;&lt; endl;
00326 
00327   <span class="comment">//----------------------------------------</span>
00328   <span class="comment">// Private member declarations.</span>
00329   <span class="comment">//----------------------------------------</span>
00330   oIndData_h &lt;&lt; <span class="stringliteral">"private:"</span> &lt;&lt; endl;
00331   oIndData_h &lt;&lt; <span class="stringliteral">"   const int nRecords; // the number of data records."</span> &lt;&lt; endl;
00332   oIndData_h &lt;&lt; <span class="stringliteral">"   void assign( double&amp;, const CppAD::AD&lt;double&gt;&amp; ) const;"</span> &lt;&lt; endl;
00333   oIndData_h &lt;&lt; <span class="stringliteral">"   void assign( double&amp;, double ) const;"</span> &lt;&lt; endl;
00334   oIndData_h &lt;&lt; <span class="stringliteral">"   /////////////////////////////////////////////////////////"</span> &lt;&lt; endl;
00335   oIndData_h &lt;&lt; <span class="stringliteral">"   //      original                     y"</span>                    &lt;&lt; endl;
00336   oIndData_h &lt;&lt; <span class="stringliteral">"   //  -------------------      -------------------"</span>          &lt;&lt; endl;
00337   oIndData_h &lt;&lt; <span class="stringliteral">"   //   j    i   MDV   DV         j'  j   i   DV"</span>             &lt;&lt; endl;
00338   oIndData_h &lt;&lt; <span class="stringliteral">"   //  -------------------      -------------------"</span>          &lt;&lt; endl;
00339   oIndData_h &lt;&lt; <span class="stringliteral">"   //   0    0    0    0.1        0   0   0   0.1"</span>            &lt;&lt; endl;
00340   oIndData_h &lt;&lt; <span class="stringliteral">"   //   1    0    1               1   2   0   0.2"</span>            &lt;&lt; endl;
00341   oIndData_h &lt;&lt; <span class="stringliteral">"   //   2    0    0    0.2        2   4   0   0.3"</span>            &lt;&lt; endl;
00342   oIndData_h &lt;&lt; <span class="stringliteral">"   //   3    0    1"</span>                                          &lt;&lt; endl;
00343   oIndData_h &lt;&lt; <span class="stringliteral">"   //   4    0    0    0.3"</span>                                   &lt;&lt; endl;
00344   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span>                                                        &lt;&lt; endl;
00345   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span>                                                        &lt;&lt; endl;
00346   oIndData_h &lt;&lt; <span class="stringliteral">"   //   jTojPrime            jPrimeToj"</span>                       &lt;&lt; endl;
00347   oIndData_h &lt;&lt; <span class="stringliteral">"   //  -----------          -----------"</span>                      &lt;&lt; endl;
00348   oIndData_h &lt;&lt; <span class="stringliteral">"   //    j    j'              j'   j"</span>                         &lt;&lt; endl;
00349   oIndData_h &lt;&lt; <span class="stringliteral">"   //  -----------          -----------"</span>                      &lt;&lt; endl;
00350   oIndData_h &lt;&lt; <span class="stringliteral">"   //    0    0               0    0"</span>                         &lt;&lt; endl;
00351   oIndData_h &lt;&lt; <span class="stringliteral">"   //    1   -1*              1    2"</span>                         &lt;&lt; endl;
00352   oIndData_h &lt;&lt; <span class="stringliteral">"   //    2    1               2    4"</span>                         &lt;&lt; endl;
00353   oIndData_h &lt;&lt; <span class="stringliteral">"   //    3   -1*"</span>                                             &lt;&lt; endl;
00354   oIndData_h &lt;&lt; <span class="stringliteral">"   //    4    2"</span>                                              &lt;&lt; endl;
00355   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span>                                                        &lt;&lt; endl;
00356   oIndData_h &lt;&lt; <span class="stringliteral">"   //  * (-1) points to no j', i.e. MDV=1"</span>                    &lt;&lt; endl;
00357   oIndData_h &lt;&lt; <span class="stringliteral">"   /////////////////////////////////////////////////////////"</span> &lt;&lt; endl;
00358   oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;int&gt; jTojPrime;"</span> &lt;&lt; endl;
00359   oIndData_h &lt;&lt; <span class="stringliteral">"   std::vector&lt;int&gt; jPrimeToj;"</span> &lt;&lt; endl;
00360   oIndData_h &lt;&lt; <span class="stringliteral">"};"</span> &lt;&lt; endl;
00361 
00362 
00363   <span class="comment">//---------------------------------------------------------------------------------------</span>
00364   <span class="comment">//</span>
00365   <span class="comment">// Definition of IndData class</span>
00366   <span class="comment">//</span>
00367   <span class="comment">//---------------------------------------------------------------------------------------</span>
00368 
00369   <span class="comment">// -----------</span>
00370   <span class="comment">// Constructor</span>
00371   <span class="comment">// -----------</span>
00372   <span class="comment">//</span>
00373   <span class="comment">// Prototype:</span>
00374   <span class="comment">// Pay extra attention to the order of arguments.</span>
00375   <span class="comment">// The declaration portiona was done using the vector of labels</span>
00376   <span class="comment">// returned by SymbolTable::getLabels().  Use the</span>
00377   <span class="comment">// same exact vector to ensure the order consistency.</span>
00378   <span class="comment">//</span>
00379   string synonym;
00380   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00381   oIndData_h &lt;&lt; <span class="stringliteral">"IndData&lt;spk_ValueType&gt;::IndData( int nRecordsIn"</span>;
00382   pLabel = labels-&gt;begin();
00383   <span class="keywordflow">for</span>( ; pLabel != labels-&gt;end(); pLabel++ )
00384     {
00385       <span class="keywordtype">bool</span> isID  = ( *pLabel == pID-&gt;<a class="code" href="classSymbol.html#o0">name</a> );
00386       <span class="keywordtype">bool</span> isInt = ( *pLabel == nonmem::EVID || *pLabel == nonmem::CMT || *pLabel == nonmem::PCMT );
00387       oIndData_h &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; endl;
00388 
00389       <span class="comment">//</span>
00390       <span class="comment">// If the label string is of "ID", then the data type is char*.</span>
00391       <span class="comment">// Othewise, double.</span>
00392       <span class="comment">//</span>
00393       oIndData_h &lt;&lt; <span class="stringliteral">"const std::vector&lt;"</span>;
00394       <span class="keywordflow">if</span>( isID )
00395     oIndData_h &lt;&lt; <span class="stringliteral">"char*"</span>;
00396       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( isInt )
00397     oIndData_h &lt;&lt; <span class="stringliteral">"int"</span>;
00398       <span class="keywordflow">else</span>
00399     oIndData_h &lt;&lt; <span class="stringliteral">"spk_ValueType"</span>;
00400       oIndData_h &lt;&lt; <span class="stringliteral">"&gt; "</span>;
00401       oIndData_h &lt;&lt; <span class="stringliteral">"&amp; "</span> &lt;&lt; *pLabel &lt;&lt; <span class="stringliteral">"In"</span>;
00402     }
00403   oIndData_h &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; endl;
00404   oIndData_h &lt;&lt; <span class="stringliteral">": nRecords( nRecordsIn ), // # of records (including MDV=0)"</span> &lt;&lt; endl;
00405   oIndData_h &lt;&lt; <span class="stringliteral">"  nY( 0 )   // # of measurements"</span> &lt;&lt; endl;
00406 
00407   <span class="comment">//</span>
00408   <span class="comment">// Constructor initialization:</span>
00409   <span class="comment">// Assign the argument values to the internal valarray variables.</span>
00410   <span class="comment">// Also assign the same values to equivalent (synonym) variables</span>
00411   <span class="comment">// if the variable has a synonym defined.</span>
00412   <span class="comment">// NOTE: Yes, I know if the values were pointed by pointers</span>
00413   <span class="comment">// the primary variable and alias can share the same objects.</span>
00414   <span class="comment">// But, since they are of type of, essentially, double, </span>
00415   <span class="comment">// copying would not be a big deal; as a matter of fact, </span>
00416   <span class="comment">// it may be actually faster than accessing via pointers.</span>
00417   <span class="comment">//</span>
00418   pLabel = labels-&gt;begin();
00419   <span class="keywordflow">for</span>( ; pLabel != labels-&gt;end(); pLabel++ )
00420     {
00421       oIndData_h &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; endl;
00422       oIndData_h &lt;&lt; *pLabel;
00423       oIndData_h &lt;&lt; <span class="stringliteral">"( "</span> &lt;&lt; *pLabel &lt;&lt; <span class="stringliteral">"In"</span> &lt;&lt; <span class="stringliteral">" )"</span>;
00424 
00425       <span class="comment">//</span>
00426       <span class="comment">// If the label has a synonym, apply the same value to the synonym.</span>
00427       <span class="comment">//</span>
00428       <span class="keywordflow">if</span>( ( synonym = <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( *pLabel )-&gt;<a class="code" href="classSymbol.html#o1">synonym</a> ) != <span class="stringliteral">""</span> )
00429     {
00430       oIndData_h &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; endl;
00431       oIndData_h &lt;&lt; synonym;
00432       oIndData_h &lt;&lt; <span class="stringliteral">"( "</span> &lt;&lt; *pLabel &lt;&lt; <span class="stringliteral">"In"</span> &lt;&lt; <span class="stringliteral">" )"</span>;
00433     }
00434     }
00435 
00436   <span class="comment">//</span>
00437   <span class="comment">// Constructor body:</span>
00438   <span class="comment">// Initialize the sizes of the user defined variables that</span>
00439   <span class="comment">// appear in the model definition.</span>
00440   <span class="comment">// We don't know the values yet, so just assign the size,</span>
00441   <span class="comment">// which is the same as the number of data records for a subject.</span>
00442   <span class="comment">//</span>
00443   <span class="comment">// These arrays will be internally (ie. PRED routine) used to store </span>
00444   <span class="comment">// intermediate values.  The intermediate values are</span>
00445   <span class="comment">// returned to the user for tabular display or plot display.</span>
00446   <span class="comment">// They need corresponding shadow placeholders so that</span>
00447   <span class="comment">// if an iteration fails, the system can return the previously</span>
00448   <span class="comment">// successfully computed values.</span>
00449   <span class="comment">//</span>
00450   pInternalTable = internalTable-&gt;begin();
00451   <span class="keywordflow">for</span>( ; pInternalTable != internalTable-&gt;end(); pInternalTable++ )
00452     {
00453       <span class="keyword">const</span> string label    = pInternalTable-&gt;second.name;
00454       <span class="keywordflow">if</span>( label == nonmem::OMEGA || label == nonmem::SIGMA )
00455     {
00456       <span class="keywordflow">continue</span>;
00457     }
00458 
00459       <span class="comment">//</span>
00460       <span class="comment">// Initialize sizes of place holders for computed values.</span>
00461       <span class="comment">//</span>
00462       <span class="keywordflow">if</span>( find( labels-&gt;begin(), labels-&gt;end(), pInternalTable-&gt;second.name ) 
00463       == labels-&gt;end() )
00464     oIndData_h &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; endl &lt;&lt; label &lt;&lt; <span class="stringliteral">"( nRecordsIn )"</span>;
00465     }
00466   oIndData_h &lt;&lt; endl;
00467 
00468   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00469   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int j=0; j&lt;nRecords; j++ )"</span> &lt;&lt; endl;
00470   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00471   oIndData_h &lt;&lt; <span class="stringliteral">"      if( "</span> &lt;&lt; nonmem::MDV &lt;&lt; <span class="stringliteral">"[j] == 0 )"</span> &lt;&lt; endl;
00472   oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00473   oIndData_h &lt;&lt; <span class="stringliteral">"         nY++;"</span> &lt;&lt; endl;
00474   oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00475   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00476   oIndData_h &lt;&lt; <span class="stringliteral">"   measurements.resize( nY );"</span> &lt;&lt; endl;
00477 
00478   <span class="comment">// Initialize place holders for scalar variables.</span>
00479   <span class="comment">//</span>
00480   <span class="comment">// getScalars()</span>
00481   <span class="comment">//</span>
00482   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span> &lt;&lt; endl;
00483   oIndData_h &lt;&lt; <span class="stringliteral">"   // Initialize scalar variables with a value that indicates"</span> &lt;&lt; endl;
00484   oIndData_h &lt;&lt; <span class="stringliteral">"   // undefined values. "</span> &lt;&lt; endl;
00485   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span> &lt;&lt; endl;
00486   oIndData_h &lt;&lt; <span class="stringliteral">"   double zero = 0.0;"</span> &lt;&lt; endl;
00487   oIndData_h &lt;&lt; <span class="stringliteral">"   double notANumber = zero / zero;"</span> &lt;&lt; endl;
00488   pInternalTable = internalTable-&gt;begin();
00489   <span class="keywordflow">for</span>( ; pInternalTable != internalTable-&gt;end(); pInternalTable++ )
00490     {
00491       <span class="keyword">const</span> string varName    = pInternalTable-&gt;second.name;
00492       <span class="keyword">enum</span> Symbol::ObjectType objectType = pInternalTable-&gt;second.object_type;
00493       <span class="keyword">enum</span> Symbol::Ownership  owner      = pInternalTable-&gt;second.owner;
00494 
00495       <span class="keywordflow">if</span>( owner != Symbol::DATASET &amp;&amp; objectType != Symbol::VECTOR &amp;&amp; objectType != Symbol::MATRIX )
00496     {
00497       oIndData_h &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">".begin(), "</span> &lt;&lt; varName &lt;&lt; <span class="stringliteral">".end(), notANumber );"</span> &lt;&lt; endl;
00498     }
00499     }
00500   oIndData_h &lt;&lt; endl;
00501 
00502 
00503   <span class="comment">// Save DV values in ORGDV so that the original data set values are kept in case</span>
00504   <span class="comment">// simulation overwrites DV.</span>
00505   oIndData_h &lt;&lt; <span class="stringliteral">"copy( "</span> &lt;&lt; nonmem::DV &lt;&lt; <span class="stringliteral">".begin(), "</span> &lt;&lt; nonmem::DV &lt;&lt; <span class="stringliteral">".end(), "</span>;
00506   oIndData_h &lt;&lt; nonmem::ORGDV &lt;&lt; <span class="stringliteral">".begin() );"</span> &lt;&lt; endl;
00507   oIndData_h &lt;&lt; endl;
00508 
00509   <span class="comment">// Resize and initialize (with notANumber) vector variables.</span>
00510   <span class="comment">//</span>
00511   <span class="comment">//  table-&gt;getVectors();</span>
00512   <span class="comment">//</span>
00513   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span> &lt;&lt; endl;
00514   oIndData_h &lt;&lt; <span class="stringliteral">"   // Resize and initialize vector variables"</span> &lt;&lt; endl;
00515   oIndData_h &lt;&lt; <span class="stringliteral">"   //"</span> &lt;&lt; endl;
00516   oIndData_h &lt;&lt; <span class="stringliteral">"   jTojPrime.resize( nRecords );"</span> &lt;&lt; endl;
00517   oIndData_h &lt;&lt; <span class="stringliteral">"   jPrimeToj.resize( nY );"</span> &lt;&lt; endl;
00518   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int j=0, jPrime=0; j&lt;nRecords; j++ )"</span> &lt;&lt; endl;
00519   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00520   <span class="keywordflow">if</span>( <a class="code" href="classNonmemTranslator.html#r19">myThetaLen</a> &gt; 0 )
00521     {
00522       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::THETA &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r19">myThetaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00523       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::THETA &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::THETA &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00524     }
00525   <span class="keywordflow">if</span>( <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &gt; 0 )
00526     {
00527       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::ETA     &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00528       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::ETA &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::ETA &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00529       <span class="keywordflow">if</span>( <a class="code" href="classClientTranslator.html#a13">getTarget</a>() == POP )
00530     {
00531       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::ETARES   &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00532       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::WETARES  &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00533       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::IETARES  &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00534       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::IWETARES &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00535       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::PETARES  &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00536       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::PWETARES &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00537       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::CETARES  &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00538       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::CWETARES &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00539       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::ETARES   &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00540       oIndData_h &lt;&lt; nonmem::ETARES   &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00541       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::WETARES  &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00542       oIndData_h &lt;&lt; nonmem::WETARES  &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00543       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::IETARES  &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00544       oIndData_h &lt;&lt; nonmem::IETARES  &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00545       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::IWETARES &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00546       oIndData_h &lt;&lt; nonmem::IWETARES &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00547       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::PETARES  &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00548       oIndData_h &lt;&lt; nonmem::PETARES  &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00549       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::PWETARES &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00550       oIndData_h &lt;&lt; nonmem::PWETARES &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00551       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::CETARES  &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00552       oIndData_h &lt;&lt; nonmem::CETARES  &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00553       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::CWETARES &lt;&lt; <span class="stringliteral">"[j].begin(), "</span>;
00554       oIndData_h &lt;&lt; nonmem::CWETARES &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00555     }
00556     }
00557   <span class="keywordflow">if</span>( <a class="code" href="classNonmemTranslator.html#r29">myEpsLen</a> &gt; 0 )
00558     {
00559       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::EPS   &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r29">myEpsLen</a> &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00560       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::EPS   &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::EPS &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00561     }
00562   
00563   <span class="keywordflow">if</span>( myModelSpec == <a class="code" href="classNonmemTranslator.html#w19w6">ADVAN6</a> || myModelSpec == <a class="code" href="classNonmemTranslator.html#w19w8">ADVAN8</a> || myModelSpec == ADVAN9 )
00564     {
00565       assert( <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::DADT ) != <a class="code" href="classSymbol.html#e0">Symbol::empty</a>() );
00566       assert( <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::A    ) != <a class="code" href="classSymbol.html#e0">Symbol::empty</a>() );
00567       assert( <a class="code" href="classNonmemTranslator.html#r1">table</a>-&gt;<a class="code" href="classSymbolTable.html#a1">find</a>( nonmem::P    ) != <a class="code" href="classSymbol.html#e0">Symbol::empty</a>() );
00568       
00569       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::DADT &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r48">myCompModel</a>-&gt;<a class="code" href="classCompModelInfo.html#a4">getNCompartments</a>()  &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00570       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::A    &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r48">myCompModel</a>-&gt;<a class="code" href="classCompModelInfo.html#a4">getNCompartments</a>()  &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00571       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; nonmem::P    &lt;&lt; <span class="stringliteral">"[j].resize( "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r48">myCompModel</a>-&gt;<a class="code" href="classCompModelInfo.html#a5">getNParameters</a>()    &lt;&lt; <span class="stringliteral">" );"</span> &lt;&lt; endl;
00572       
00573       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::DADT &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::DADT &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00574       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::A    &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::A    &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00575       oIndData_h &lt;&lt; <span class="stringliteral">"      "</span> &lt;&lt; <span class="stringliteral">"fill( "</span> &lt;&lt; nonmem::P    &lt;&lt; <span class="stringliteral">"[j].begin(), "</span> &lt;&lt; nonmem::P    &lt;&lt; <span class="stringliteral">"[j].end(), notANumber );"</span> &lt;&lt; endl;
00576       
00577     }
00578   
00579   oIndData_h &lt;&lt; <span class="stringliteral">"        if( "</span> &lt;&lt; nonmem::MDV &lt;&lt; <span class="stringliteral">"[j] == 0 )"</span> &lt;&lt; endl;
00580   oIndData_h &lt;&lt; <span class="stringliteral">"        {"</span> &lt;&lt; endl;
00581   oIndData_h &lt;&lt; <span class="stringliteral">"           assign( measurements[jPrime], "</span> &lt;&lt; nonmem::DV &lt;&lt; <span class="stringliteral">"[j] );"</span> &lt;&lt; endl;
00582   oIndData_h &lt;&lt; <span class="stringliteral">"           jPrimeToj[jPrime] = j;"</span> &lt;&lt; endl;
00583   oIndData_h &lt;&lt; <span class="stringliteral">"           jTojPrime[j] = jPrime;"</span> &lt;&lt; endl;
00584   oIndData_h &lt;&lt; <span class="stringliteral">"           jPrime++;"</span> &lt;&lt; endl;
00585   oIndData_h &lt;&lt; <span class="stringliteral">"        }"</span> &lt;&lt; endl;
00586   oIndData_h &lt;&lt; <span class="stringliteral">"        else"</span> &lt;&lt; endl;
00587   oIndData_h &lt;&lt; <span class="stringliteral">"        {"</span> &lt;&lt; endl;
00588   oIndData_h &lt;&lt; <span class="stringliteral">"           jTojPrime[j] = -1;"</span> &lt;&lt; endl;
00589   oIndData_h &lt;&lt; <span class="stringliteral">"        }"</span> &lt;&lt; endl;
00590   oIndData_h &lt;&lt; <span class="stringliteral">"   } // end of FOR loop over vector variables"</span> &lt;&lt; endl;
00591   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00592   oIndData_h &lt;&lt; endl;
00593 
00594   <span class="comment">// ----------</span>
00595   <span class="comment">// Destructor</span>
00596   <span class="comment">// ---------</span>
00597   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00598   oIndData_h &lt;&lt; <span class="stringliteral">"IndData&lt;spk_ValueType&gt;::~IndData(){}"</span> &lt;&lt; endl;
00599 
00600   <span class="comment">// -------------------</span>
00601   <span class="comment">// Default constructor</span>
00602   <span class="comment">// (protected)</span>
00603   <span class="comment">// -------------------</span>
00604   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00605   oIndData_h &lt;&lt; <span class="stringliteral">"IndData&lt;spk_ValueType&gt;::IndData(){}"</span> &lt;&lt; endl;
00606 
00607   <span class="comment">// ----------------</span>
00608   <span class="comment">// Copy constructor</span>
00609   <span class="comment">// (protected)</span>
00610   <span class="comment">// ---------------</span>
00611   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00612   oIndData_h &lt;&lt; <span class="stringliteral">"IndData&lt;spk_ValueType&gt;::IndData( const IndData&lt;spk_ValueType&gt;&amp; ){}"</span> &lt;&lt; endl;
00613 
00614   <span class="comment">// -------------------</span>
00615   <span class="comment">// Assignment operator</span>
00616   <span class="comment">// (protected)</span>
00617   <span class="comment">// -------------------</span>
00618   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00619   oIndData_h &lt;&lt; <span class="stringliteral">"IndData&lt;spk_ValueType&gt;&amp; IndData&lt;spk_ValueType&gt;::operator=( const IndData&lt;spk_ValueType&gt;&amp; ){}"</span> &lt;&lt; endl;
00620 
00621   <span class="comment">//------------------</span>
00622   <span class="comment">// getNRecords()</span>
00623   <span class="comment">//------------------</span>
00624   oIndData_h &lt;&lt; <span class="stringliteral">"// return the number of data records (include MDV=1)"</span> &lt;&lt; endl;
00625   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00626   oIndData_h &lt;&lt; <span class="stringliteral">"int IndData&lt;spk_ValueType&gt;::getNRecords() const "</span> &lt;&lt; endl;
00627   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00628   oIndData_h &lt;&lt; <span class="stringliteral">"   return nRecords;"</span> &lt;&lt; endl;
00629   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00630 
00631   <span class="comment">//------------------</span>
00632   <span class="comment">// getNObservs()</span>
00633   <span class="comment">//------------------</span>
00634   oIndData_h &lt;&lt; <span class="stringliteral">"// return the number of measurements (only ones with MDV=0)"</span> &lt;&lt; endl;
00635   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00636   oIndData_h &lt;&lt; <span class="stringliteral">"int IndData&lt;spk_ValueType&gt;::getNObservs() const "</span> &lt;&lt; endl;
00637   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00638   oIndData_h &lt;&lt; <span class="stringliteral">"   return nY;"</span> &lt;&lt; endl;
00639   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00640 
00641   <span class="comment">//----------------------------------------</span>
00642   <span class="comment">// getMeasurementIndex( int j' )</span>
00643   <span class="comment">//----------------------------------------</span>
00644   oIndData_h &lt;&lt; <span class="stringliteral">"// Return an index to y (measurements/DVs) vector, j, such that "</span> &lt;&lt; endl;
00645   oIndData_h &lt;&lt; <span class="stringliteral">"// the value of j-th element in y corresponds to the DV value of "</span> &lt;&lt; endl;
00646   oIndData_h &lt;&lt; <span class="stringliteral">"// the j'-th record in the data set .  "</span> &lt;&lt; endl;
00647   oIndData_h &lt;&lt; <span class="stringliteral">"// If the j'-th record does not have a DV value, the returned value is -1."</span> &lt;&lt; endl;
00648   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00649   oIndData_h &lt;&lt; <span class="stringliteral">"int IndData&lt;spk_ValueType&gt;::getMeasurementIndex( int recordIndex ) const"</span> &lt;&lt; endl;
00650   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00651   oIndData_h &lt;&lt; <span class="stringliteral">"   return jTojPrime[recordIndex];"</span> &lt;&lt; endl;
00652   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00653 
00654   <span class="comment">//----------------------------------------</span>
00655   <span class="comment">// getRecordIndex( int j )</span>
00656   <span class="comment">//----------------------------------------</span>
00657   oIndData_h &lt;&lt; <span class="stringliteral">"// Return the index, j', to a record in the dataset to which the value of "</span> &lt;&lt; endl;
00658   oIndData_h &lt;&lt; <span class="stringliteral">"// the j-th element of y (measurements/DVs) vector belongs."</span> &lt;&lt; endl;
00659   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00660   oIndData_h &lt;&lt; <span class="stringliteral">"int IndData&lt;spk_ValueType&gt;::getRecordIndex( int measurementIndex ) const"</span> &lt;&lt; endl;
00661   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00662   oIndData_h &lt;&lt; <span class="stringliteral">"   return jPrimeToj[measurementIndex];"</span> &lt;&lt; endl;
00663   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00664 
00665   <span class="comment">// -----------------</span>
00666   <span class="comment">// getMeasurements()</span>
00667   <span class="comment">// -----------------</span>
00668   oIndData_h &lt;&lt; <span class="stringliteral">"// Return SPK's y"</span> &lt;&lt; endl;
00669   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00670   oIndData_h &lt;&lt; <span class="stringliteral">"const SPK_VA::valarray&lt;double&gt; IndData&lt;spk_ValueType&gt;::getMeasurements() const"</span> &lt;&lt; endl;
00671   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00672   oIndData_h &lt;&lt; <span class="stringliteral">"   return measurements;"</span> &lt;&lt; endl;
00673   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00674   oIndData_h &lt;&lt; endl;
00675 
00676   <span class="comment">// ---------------------</span>
00677   <span class="comment">// replaceMeasurements()</span>
00678   <span class="comment">// ---------------------</span>
00679   <span class="comment">// Replace (the internally kept) y with the given y'.</span>
00680   <span class="comment">//</span>
00681   oIndData_h &lt;&lt; <span class="stringliteral">"// Replace y with the given y'."</span> &lt;&lt; endl;
00682   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00683   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceMeasurements( const SPK_VA::valarray&lt;double&gt;&amp; yyi )"</span> &lt;&lt; endl;
00684   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00685   <span class="keywordtype">bool</span> hasAlias = ( pDV-&gt;<a class="code" href="classSymbol.html#o1">synonym</a> != <span class="stringliteral">""</span> );
00686   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0, k=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00687   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00688   oIndData_h &lt;&lt; <span class="stringliteral">"      if( "</span> &lt;&lt; nonmem::MDV &lt;&lt; <span class="stringliteral">"[i] == 0 )"</span> &lt;&lt; endl;
00689   oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00690   oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::ORGDV &lt;&lt; <span class="stringliteral">"[i] = "</span> &lt;&lt; nonmem::DV &lt;&lt; <span class="stringliteral">"[i];"</span> &lt;&lt; endl;
00691   oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::DV &lt;&lt; <span class="stringliteral">"[i] = yyi[k];"</span> &lt;&lt; endl;
00692   <span class="keywordflow">if</span>( hasAlias )
00693     oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; pDV-&gt;<a class="code" href="classSymbol.html#o1">synonym</a> &lt;&lt; <span class="stringliteral">"[i] = yyi[k];"</span> &lt;&lt; endl;
00694   oIndData_h &lt;&lt; <span class="stringliteral">"         k++;"</span> &lt;&lt; endl;
00695   oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00696   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00697   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00698  
00699   <span class="comment">// --------------------</span>
00700   <span class="comment">// replacePred()</span>
00701   <span class="comment">// --------------------</span>
00702   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00703   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePred( const SPK_VA::valarray&lt;double&gt;&amp; predIn )"</span>     &lt;&lt; endl;
00704   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00705   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( predIn.size() == nRecords );"</span> &lt;&lt; endl;
00706   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::PRED &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00707   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::PRED &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00708   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00709   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = predIn[i];"</span> &lt;&lt; endl;
00710   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00711   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00712   oIndData_h &lt;&lt; endl;
00713 
00714   <span class="comment">// --------------------</span>
00715   <span class="comment">// replaceRes()</span>
00716   <span class="comment">// --------------------</span>
00717   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00718   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceRes( const SPK_VA::valarray&lt;double&gt;&amp; ResIn )"</span>     &lt;&lt; endl;
00719   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00720   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( ResIn.size() == nRecords );"</span> &lt;&lt; endl;
00721   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = "</span> &lt;&lt; nonmem::RES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00722   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != "</span> &lt;&lt; nonmem::RES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00723   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00724   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = ResIn[i];"</span> &lt;&lt; endl;
00725   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00726   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00727   oIndData_h &lt;&lt; endl;
00728 
00729   <span class="comment">// --------------------</span>
00730   <span class="comment">// replaceWRes()</span>
00731   <span class="comment">// --------------------</span>
00732   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00733   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceWRes( const SPK_VA::valarray&lt;double&gt;&amp; WResIn )"</span>    &lt;&lt; endl;
00734   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00735   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( WResIn.size() == nRecords );"</span> &lt;&lt; endl;
00736   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = "</span> &lt;&lt; nonmem::WRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00737   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != "</span> &lt;&lt; nonmem::WRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00738   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00739   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = WResIn[i];"</span> &lt;&lt; endl;
00740   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00741   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00742   oIndData_h &lt;&lt; endl;
00743 
00744   <span class="comment">// --------------------</span>
00745   <span class="comment">// replaceIPred()</span>
00746   <span class="comment">// --------------------</span>
00747   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00748   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceIPred( const SPK_VA::valarray&lt;double&gt;&amp; iPredIn )"</span>     &lt;&lt; endl;
00749   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00750   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( iPredIn.size() == nRecords );"</span> &lt;&lt; endl;
00751   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = "</span> &lt;&lt; nonmem::IPRED &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00752   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != "</span> &lt;&lt; nonmem::IPRED &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00753   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00754   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = iPredIn[i];"</span> &lt;&lt; endl;
00755   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00756   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00757   oIndData_h &lt;&lt; endl;
00758 
00759   <span class="comment">// --------------------</span>
00760   <span class="comment">// replaceIRes()</span>
00761   <span class="comment">// --------------------</span>
00762   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00763   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceIRes( const SPK_VA::valarray&lt;double&gt;&amp; iResIn )"</span>     &lt;&lt; endl;
00764   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00765   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( iResIn.size() == nRecords );"</span> &lt;&lt; endl;
00766   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = "</span> &lt;&lt; nonmem::IRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00767   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != "</span> &lt;&lt; nonmem::IRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00768   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00769   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = iResIn[i];"</span> &lt;&lt; endl;
00770   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00771   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00772   oIndData_h &lt;&lt; endl;
00773 
00774   <span class="comment">// --------------------</span>
00775   <span class="comment">// replaceIWRes()</span>
00776   <span class="comment">// --------------------</span>
00777   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00778   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceIWRes( const SPK_VA::valarray&lt;double&gt;&amp; iWResIn )"</span>    &lt;&lt; endl;
00779   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00780   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( iWResIn.size() == nRecords );"</span> &lt;&lt; endl;
00781   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = "</span> &lt;&lt; nonmem::IWRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00782   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != "</span> &lt;&lt; nonmem::IWRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00783   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00784   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = iWResIn[i];"</span> &lt;&lt; endl;
00785   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00786   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00787   oIndData_h &lt;&lt; endl;
00788 
00789   <span class="comment">// --------------------</span>
00790   <span class="comment">// replacePPred()</span>
00791   <span class="comment">// --------------------</span>
00792   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00793   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePPred( const SPK_VA::valarray&lt;double&gt;&amp; pPredIn )"</span>     &lt;&lt; endl;
00794   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00795   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( pPredIn.size() == nRecords );"</span> &lt;&lt; endl;
00796   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::PPRED &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00797   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::PPRED &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00798   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00799   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = pPredIn[i];"</span> &lt;&lt; endl;
00800   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00801   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00802   oIndData_h &lt;&lt; endl;
00803 
00804   <span class="comment">// --------------------</span>
00805   <span class="comment">// replacePRes()</span>
00806   <span class="comment">// --------------------</span>
00807   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00808   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePRes( const SPK_VA::valarray&lt;double&gt;&amp; pResIn )"</span>     &lt;&lt; endl;
00809   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00810   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( pResIn.size() == nRecords );"</span> &lt;&lt; endl;
00811   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::PRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00812   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::PRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00813   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00814   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = pResIn[i];"</span> &lt;&lt; endl;
00815   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00816   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00817   oIndData_h &lt;&lt; endl;
00818 
00819   <span class="comment">// --------------------</span>
00820   <span class="comment">// replacePWRes()</span>
00821   <span class="comment">// --------------------</span>
00822   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00823   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePWRes( const SPK_VA::valarray&lt;double&gt;&amp; pWResIn )"</span>    &lt;&lt; endl;
00824   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00825   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( pWResIn.size() == nRecords );"</span> &lt;&lt; endl;
00826   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::PWRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00827   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::PWRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00828   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00829   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = pWResIn[i];"</span> &lt;&lt; endl;
00830   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00831   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00832   oIndData_h &lt;&lt; endl;
00833 
00834   <span class="comment">// --------------------</span>
00835   <span class="comment">// replaceCPred()</span>
00836   <span class="comment">// --------------------</span>
00837   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00838   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceCPred( const SPK_VA::valarray&lt;double&gt;&amp; cPredIn )"</span>     &lt;&lt; endl;
00839   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00840   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( cPredIn.size() == nRecords );"</span> &lt;&lt; endl;
00841   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::CPRED &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00842   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::CPRED &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00843   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00844   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = cPredIn[i];"</span> &lt;&lt; endl;
00845   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00846   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00847   oIndData_h &lt;&lt; endl;
00848 
00849   <span class="comment">// --------------------</span>
00850   <span class="comment">// replaceCRes()</span>
00851   <span class="comment">// --------------------</span>
00852   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00853   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceCRes( const SPK_VA::valarray&lt;double&gt;&amp; cResIn )"</span>     &lt;&lt; endl;
00854   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00855   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( cResIn.size() == nRecords );"</span> &lt;&lt; endl;
00856   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::CRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00857   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::CRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00858   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00859   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = cResIn[i];"</span> &lt;&lt; endl;
00860   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00861   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00862   oIndData_h &lt;&lt; endl;
00863 
00864   <span class="comment">// --------------------</span>
00865   <span class="comment">// replaceCWRes()</span>
00866   <span class="comment">// --------------------</span>
00867   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00868   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceCWRes( const SPK_VA::valarray&lt;double&gt;&amp; cWResIn )"</span>    &lt;&lt; endl;
00869   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00870   oIndData_h &lt;&lt; <span class="stringliteral">"   assert( cWResIn.size() == nRecords );"</span> &lt;&lt; endl;
00871   oIndData_h &lt;&lt; <span class="stringliteral">"   typename std::vector&lt;spk_ValueType&gt;::iterator itr = this-&gt;"</span> &lt;&lt; nonmem::CWRES &lt;&lt; <span class="stringliteral">".begin();"</span> &lt;&lt; endl;
00872   oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; itr != this-&gt;"</span> &lt;&lt; nonmem::CWRES &lt;&lt; <span class="stringliteral">".end(); itr++, i++ )"</span> &lt;&lt; endl;
00873   oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00874   oIndData_h &lt;&lt; <span class="stringliteral">"      *itr = cWResIn[i];"</span> &lt;&lt; endl;
00875   oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00876   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00877   oIndData_h &lt;&lt; endl;
00878 
00879   <span class="keywordflow">if</span>( <a class="code" href="classClientTranslator.html#a13">getTarget</a>() == POP )
00880     {
00881       <span class="comment">// --------------------</span>
00882       <span class="comment">// replaceEta()</span>
00883       <span class="comment">// --------------------</span>
00884       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00885       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceEta( const SPK_VA::valarray&lt;double&gt;&amp; etaIn )"</span>    &lt;&lt; endl;
00886       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00887       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00888       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( etaIn.size() == nEta );"</span> &lt;&lt; endl;
00889       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00890       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00891       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00892       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00893       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::ETA &lt;&lt; <span class="stringliteral">"[i][j] = etaIn[j];"</span> &lt;&lt; endl;
00894       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00895       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00896       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00897       oIndData_h &lt;&lt; endl;
00898       
00899       <span class="comment">// --------------------</span>
00900       <span class="comment">// replaceEtaRes()</span>
00901       <span class="comment">// --------------------</span>
00902       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00903       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; EtaResIn )"</span>    &lt;&lt; endl;
00904       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00905       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00906       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( EtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00907       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00908       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00909       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00910       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00911       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::ETARES &lt;&lt; <span class="stringliteral">"[i][j] = EtaResIn[j];"</span> &lt;&lt; endl;
00912       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00913       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00914       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00915       oIndData_h &lt;&lt; endl;
00916       
00917       <span class="comment">// --------------------</span>
00918       <span class="comment">// replaceWEtaRes()</span>
00919       <span class="comment">// --------------------</span>
00920       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00921       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; WEtaResIn )"</span>    &lt;&lt; endl;
00922       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00923       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00924       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( WEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00925       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00926       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00927       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00928       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00929       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::WETARES &lt;&lt; <span class="stringliteral">"[i][j] = WEtaResIn[j];"</span> &lt;&lt; endl;
00930       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00931       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00932       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00933       oIndData_h &lt;&lt; endl;
00934 
00935       <span class="comment">// --------------------</span>
00936       <span class="comment">// replaceIEtaRes()</span>
00937       <span class="comment">// --------------------</span>
00938       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00939       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceIEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; iEtaResIn )"</span>    &lt;&lt; endl;
00940       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00941       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00942       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( iEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00943       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00944       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00945       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00946       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00947       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::IETARES &lt;&lt; <span class="stringliteral">"[i][j] = iEtaResIn[j];"</span> &lt;&lt; endl;
00948       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00949       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00950       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00951       oIndData_h &lt;&lt; endl;
00952       
00953       <span class="comment">// --------------------</span>
00954       <span class="comment">// replaceIWEtaRes()</span>
00955       <span class="comment">// --------------------</span>
00956       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00957       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceIWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; iWEtaResIn )"</span>    &lt;&lt; endl;
00958       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00959       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00960       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( iWEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00961       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00962       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00963       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00964       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00965       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::IWETARES &lt;&lt; <span class="stringliteral">"[i][j] = iWEtaResIn[j];"</span> &lt;&lt; endl;
00966       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00967       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00968       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00969       oIndData_h &lt;&lt; endl;
00970  
00971       <span class="comment">// --------------------</span>
00972       <span class="comment">// replacePEtaRes()</span>
00973       <span class="comment">// --------------------</span>
00974       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00975       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; pEtaResIn )"</span>    &lt;&lt; endl;
00976       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00977       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00978       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( pEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00979       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00980       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00981       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
00982       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
00983       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::PETARES &lt;&lt; <span class="stringliteral">"[i][j] = pEtaResIn[j];"</span> &lt;&lt; endl;
00984       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
00985       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
00986       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
00987       oIndData_h &lt;&lt; endl;
00988       
00989       <span class="comment">// --------------------</span>
00990       <span class="comment">// replacePWEtaRes()</span>
00991       <span class="comment">// --------------------</span>
00992       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
00993       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replacePWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; pWEtaResIn )"</span>    &lt;&lt; endl;
00994       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
00995       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
00996       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( pWEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
00997       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
00998       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
00999       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
01000       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
01001       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::PWETARES &lt;&lt; <span class="stringliteral">"[i][j] = pWEtaResIn[j];"</span> &lt;&lt; endl;
01002       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
01003       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
01004       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
01005       oIndData_h &lt;&lt; endl;
01006 
01007       <span class="comment">// --------------------</span>
01008       <span class="comment">// replaceCEtaRes()</span>
01009       <span class="comment">// --------------------</span>
01010       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
01011       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceCEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; cEtaResIn )"</span>    &lt;&lt; endl;
01012       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
01013       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
01014       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( cEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
01015       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
01016       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
01017       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
01018       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
01019       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::CETARES &lt;&lt; <span class="stringliteral">"[i][j] = cEtaResIn[j];"</span> &lt;&lt; endl;
01020       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
01021       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
01022       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
01023       oIndData_h &lt;&lt; endl;
01024       
01025       <span class="comment">// --------------------</span>
01026       <span class="comment">// replaceCWEtaRes()</span>
01027       <span class="comment">// --------------------</span>
01028       oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
01029       oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::replaceCWEtaRes( const SPK_VA::valarray&lt;double&gt;&amp; cWEtaResIn )"</span>    &lt;&lt; endl;
01030       oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
01031       oIndData_h &lt;&lt; <span class="stringliteral">"   const int nEta = "</span> &lt;&lt; <a class="code" href="classNonmemTranslator.html#r28">myEtaLen</a> &lt;&lt; <span class="stringliteral">";"</span> &lt;&lt; endl;
01032       oIndData_h &lt;&lt; <span class="stringliteral">"   assert( cWEtaResIn.size() == nEta );"</span> &lt;&lt; endl;
01033       oIndData_h &lt;&lt; <span class="stringliteral">"   for( int i=0; i&lt;nRecords; i++ )"</span> &lt;&lt; endl;
01034       oIndData_h &lt;&lt; <span class="stringliteral">"   {"</span> &lt;&lt; endl;
01035       oIndData_h &lt;&lt; <span class="stringliteral">"      for( int j=0; j&lt;nEta; j++ )"</span> &lt;&lt; endl;
01036       oIndData_h &lt;&lt; <span class="stringliteral">"      {"</span> &lt;&lt; endl;
01037       oIndData_h &lt;&lt; <span class="stringliteral">"         "</span> &lt;&lt; nonmem::CWETARES &lt;&lt; <span class="stringliteral">"[i][j] = cWEtaResIn[j];"</span> &lt;&lt; endl;
01038       oIndData_h &lt;&lt; <span class="stringliteral">"      }"</span> &lt;&lt; endl;
01039       oIndData_h &lt;&lt; <span class="stringliteral">"   }"</span> &lt;&lt; endl;
01040       oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
01041       oIndData_h &lt;&lt; endl;
01042     }
01043 
01044   <span class="comment">// -------------------</span>
01045   <span class="comment">// assignToDbl()</span>
01046   <span class="comment">// -------------------</span>
01047   <span class="comment">// This is to make an assignment operation, a = b, transparent for situations where a is double and b is CppAD&lt;double&gt;</span>
01048   <span class="comment">// and a an b are both double.</span>
01049   <span class="comment">//</span>
01050   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
01051   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::assign( double &amp; d, const CppAD::AD&lt;double&gt;&amp; ad ) const"</span> &lt;&lt; endl;
01052   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
01053   oIndData_h &lt;&lt; <span class="stringliteral">"   d = CppAD::Value( ad );"</span> &lt;&lt; endl;
01054   oIndData_h &lt;&lt; <span class="stringliteral">"   return;"</span> &lt;&lt; endl;
01055   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
01056   oIndData_h &lt;&lt; endl;
01057   oIndData_h &lt;&lt; <span class="stringliteral">"template &lt;class spk_ValueType&gt;"</span> &lt;&lt; endl;
01058   oIndData_h &lt;&lt; <span class="stringliteral">"void IndData&lt;spk_ValueType&gt;::assign( double &amp; left, double right ) const"</span> &lt;&lt; endl;
01059   oIndData_h &lt;&lt; <span class="stringliteral">"{"</span> &lt;&lt; endl;
01060   oIndData_h &lt;&lt; <span class="stringliteral">"   left = right;"</span> &lt;&lt; endl;
01061   oIndData_h &lt;&lt; <span class="stringliteral">"   return;"</span> &lt;&lt; endl;
01062   oIndData_h &lt;&lt; <span class="stringliteral">"}"</span> &lt;&lt; endl;
01063   oIndData_h &lt;&lt; endl;
01064 
01065   oIndData_h &lt;&lt; <span class="stringliteral">"#endif"</span> &lt;&lt; endl;
01066 
01067   oIndData_h.close();
01068 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jul 10 16:48:16 2007 for SPK Compiler API Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
