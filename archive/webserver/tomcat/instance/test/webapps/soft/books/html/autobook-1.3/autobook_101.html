<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on May, 24  2001 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>Autoconf, Automake, and Libtool: What goes in</TITLE>

<META NAME="description" CONTENT="Autoconf, Automake, and Libtool: What goes in">
<META NAME="keywords" CONTENT="Autoconf, Automake, and Libtool: What goes in">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">
<script language="Javascript">
<!--    
// Check the browser version.

    function checkVersion() {
      if (navigator.appVersion.charAt(0)>=3) return true;
      if (navigator.appVersion.charAt(0)>=4) return true;
      else return false;
    }

      if (checkVersion()) {
             homeon = new Image();
             homeon.src = "homeon.png";

             homeoff = new Image();
             homeoff.src = "home.png";

             tocon = new Image();
             tocon.src = "tocon.png";

             tocoff = new Image();
             tocoff.src = "toc.png";

             indexon = new Image();
             indexon.src = "indexon.png";

             indexoff = new Image();
             indexoff.src = "index.png";

             helpon = new Image();
             helpon.src = "helpon.png";

             helpoff = new Image();
             helpoff.src = "help.png";

             backon = new Image();
             backon.src = "backon.png";

             backoff = new Image();
             backoff.src = "back.png";

             forwardon = new Image();
             forwardon.src = "forwardon.png";

             forwardoff = new Image();
             forwardoff.src = "forward.png";

             prevon = new Image();
             prevon.src = "prevon.png";

             prevoff = new Image();
             prevoff.src = "prev.png";

             nexton = new Image();
             nexton.src = "nexton.png";

             nextoff = new Image();
             nextoff.src = "next.png";

             upon = new Image();
             upon.src = "upon.png";

             upoff = new Image();
             upoff.src = "up.png";
         }

     function img_act(imgName) {
             if (checkVersion()) {
             imgOn = eval(imgName + "on.src");
             document [imgName].src = imgOn;
             }
     }

     function img_inact(imgName) {
             if (checkVersion()) {
             imgOff = eval(imgName + "off.src");
             document [imgName].src = imgOff;
             }
     }
// -->
</SCRIPT>

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#6688AA" VLINK="#336688" ALINK="#808080">

<A NAME="SEC101"></A>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=10>
<TR VALIGN="TOP">
<TD ALIGN="MIDDLE" WIDTH=50 BGCOLOR="#e6e6e6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_100.html#SEC100" onMouseover="img_act('prev')" onMouseout="img_inact('prev')"><IMG SRC="prev.png" BORDER="0" ALT="Back: Introduction to Distributions" ALIGN="MIDDLE" NAME="prev"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_102.html#SEC102" onMouseover="img_act('next')" onMouseout="img_inact('next')"><IMG SRC="next.png" BORDER="0" ALT="Forward: The distcheck rule" ALIGN="MIDDLE" NAME="next"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_102.html#SEC102" onMouseover="img_act('back')" onMouseout="img_inact('back')"><IMG SRC="back.png" BORDER="0" ALT="FastBack: The distcheck rule" ALIGN="MIDDLE" NAME="back"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_99.html#SEC99" onMouseover="img_act('up')" onMouseout="img_inact('up')"><IMG SRC="up.png" BORDER="0" ALT="Up: Rolling Distribution Tarballs" ALIGN="MIDDLE" NAME="up"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_105.html#SEC105" onMouseover="img_act('forward')" onMouseout="img_inact('forward')"><IMG SRC="forward.png" BORDER="0" ALT="FastForward: Installing and Uninstalling" ALIGN="MIDDLE" NAME="forward"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook.html#SEC_Top" onMouseover="img_act('home')" onMouseout="img_inact('home')"><IMG SRC="home.png" BORDER="0" ALT="Top: Autoconf, Automake, and Libtool" ALIGN="MIDDLE" NAME="home"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_toc.html#SEC_Contents" onMouseover="img_act('toc')" onMouseout="img_inact('toc')"><IMG SRC="toc.png" BORDER="0" ALT="Contents: Table of Contents" ALIGN="MIDDLE" NAME="toc"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_285.html#SEC285" onMouseover="img_act('index')" onMouseout="img_inact('index')"><IMG SRC="index.png" BORDER="0" ALT="Index: Index" ALIGN="MIDDLE" NAME="index"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_abt.html#SEC_About" onMouseover="img_act('help')" onMouseout="img_inact('help')"><IMG SRC="help.png" BORDER="0" ALT="About: About this document" ALIGN="MIDDLE" NAME="help"></A></TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="LEFT">
<H2> 13.2 What goes in </H2>
<!--docid::SEC101::-->
<P>

Automake tries to make creating a distribution as easy as possible.  The
rules are set up by default to distribute those things which Automake
knows belong in a distribution.  For instance, Automake always
distributes your <TT>`configure'</TT> script and your <TT>`NEWS'</TT> file.  All
the files Automake automatically distributes are shown by <CODE>automake
--help</CODE>:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>$ automake --help
...
Files which are automatically distributed, if found:
  ABOUT-GNU         README           config.guess      ltconfig
  ABOUT-NLS         THANKS           config.h.bot      ltmain.sh
  AUTHORS           TODO             config.h.top      mdate-sh
  BACKLOG           acconfig.h       config.sub        missing
  COPYING           acinclude.m4     configure         mkinstalldirs
  COPYING.LIB       aclocal.m4       configure.in      stamp-h.in
  ChangeLog         ansi2knr.1       elisp-comp        stamp-vti
  INSTALL           ansi2knr.c       install-sh        texinfo.tex
  NEWS              compile          libversion.in     ylwrap
...
</pre></td></tr></table></P><P>

Automake also distributes some files about which it has no built-in
knowledge, but about which it learns from your <TT>`Makefile.am'</TT>.  For
instance, the source files listed in a <SAMP>`_SOURCES'</SAMP> variable go into
the distribution.  This is why you ought to list uninstalled header
files in the <SAMP>`_SOURCES'</SAMP> variable: otherwise you'll just have to
introduce another variable to distribute them -- Automake will only know
about them if you tell it.
</P><P>

Not all primaries are distributed by default.  The rule is arbitrary,
but pretty simple: of all the primaries, only <SAMP>`_TEXINFOS'</SAMP> and
<SAMP>`_HEADERS'</SAMP> are distributed by default.  (Sources that make up
programs and libraries are also distributed by default, but, perhaps
confusingly, <SAMP>`_SOURCES'</SAMP> is not considered a primary.)
</P><P>

While there is no rhyme, there is a reason: defaults were chosen based
on feedback from users.  Typically, `enough' reports of the form `I
auto-generate my <SAMP>`_SCRIPTS'</SAMP>.  How do I prevent them from ending up
in the distribution?' would cause a change in the default.
</P><P>

Although the defaults are adequate in many situations, sometimes you
have to distribute files which aren't covered automatically.
It is easy to add additional files to a distribution; simply list them in
the macro <SAMP>`EXTRA_DIST'</SAMP>.  You can list files in subdirectories
here.  You can also list a directory's name here and the entire contents
will be copied into the distribution by <CODE>make dist</CODE>.
Use this last feature with care.  A typical failure is that you'll put a
`temporary' file in the directory and then it will end up in the
distribution when you forget to remove it.  Similarly, version control
files, such as a <TT>`CVS'</TT> subdirectory, can easily end up in a
distribution this way.
</P><P>

If a primary is not distributed by default, but in your case it ought to
be, you can easily correct it with <SAMP>`EXTRA_DIST'</SAMP>:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>EXTRA_DIST = $(bin_SCRIPTS)
</pre></td></tr></table></P><P>

The next major Automake release <A NAME="DOCF28" HREF="autobook_fot.html#FOOT28">(28)</A> will
have a better method for controlling whether primaries do or do not go
into the distribution.  In 1.5 you will be able to use the <SAMP>`dist'</SAMP>
and <SAMP>`nodist'</SAMP> prefixes to control distribution on a per-variable
basis.  You will even be able to simultaneously use both prefixes with a
given primary to include some files and omit others:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>dist_bin_SCRIPTS = distribute-this
nodist_bin_SCRIPTS = but-not-this
</pre></td></tr></table></P><P>

<A NAME="The distcheck rule"></A>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Gary V. Vaughan</I> on <I>May, 24  2001</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
