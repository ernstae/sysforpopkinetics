<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on May, 24  2001 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>Autoconf, Automake, and Libtool: Executable Filename Extensions</TITLE>

<META NAME="description" CONTENT="Autoconf, Automake, and Libtool: Executable Filename Extensions">
<META NAME="keywords" CONTENT="Autoconf, Automake, and Libtool: Executable Filename Extensions">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">
<script language="Javascript">
<!--    
// Check the browser version.

    function checkVersion() {
      if (navigator.appVersion.charAt(0)>=3) return true;
      if (navigator.appVersion.charAt(0)>=4) return true;
      else return false;
    }

      if (checkVersion()) {
             homeon = new Image();
             homeon.src = "homeon.png";

             homeoff = new Image();
             homeoff.src = "home.png";

             tocon = new Image();
             tocon.src = "tocon.png";

             tocoff = new Image();
             tocoff.src = "toc.png";

             indexon = new Image();
             indexon.src = "indexon.png";

             indexoff = new Image();
             indexoff.src = "index.png";

             helpon = new Image();
             helpon.src = "helpon.png";

             helpoff = new Image();
             helpoff.src = "help.png";

             backon = new Image();
             backon.src = "backon.png";

             backoff = new Image();
             backoff.src = "back.png";

             forwardon = new Image();
             forwardon.src = "forwardon.png";

             forwardoff = new Image();
             forwardoff.src = "forward.png";

             prevon = new Image();
             prevon.src = "prevon.png";

             prevoff = new Image();
             prevoff.src = "prev.png";

             nexton = new Image();
             nexton.src = "nexton.png";

             nextoff = new Image();
             nextoff.src = "next.png";

             upon = new Image();
             upon.src = "upon.png";

             upoff = new Image();
             upoff.src = "up.png";
         }

     function img_act(imgName) {
             if (checkVersion()) {
             imgOn = eval(imgName + "on.src");
             document [imgName].src = imgOn;
             }
     }

     function img_inact(imgName) {
             if (checkVersion()) {
             imgOff = eval(imgName + "off.src");
             document [imgName].src = imgOff;
             }
     }
// -->
</SCRIPT>

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#6688AA" VLINK="#336688" ALINK="#808080">

<A NAME="SEC250"></A>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=10>
<TR VALIGN="TOP">
<TD ALIGN="MIDDLE" WIDTH=50 BGCOLOR="#e6e6e6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_249.html#SEC249" onMouseover="img_act('prev')" onMouseout="img_inact('prev')"><IMG SRC="prev.png" BORDER="0" ALT="Back: Separators and Drive Letters" ALIGN="MIDDLE" NAME="prev"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_251.html#SEC251" onMouseover="img_act('next')" onMouseout="img_inact('next')"><IMG SRC="next.png" BORDER="0" ALT="Forward: DLLs with Libtool" ALIGN="MIDDLE" NAME="next"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_251.html#SEC251" onMouseover="img_act('back')" onMouseout="img_inact('back')"><IMG SRC="back.png" BORDER="0" ALT="FastBack: DLLs with Libtool" ALIGN="MIDDLE" NAME="back"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_245.html#SEC245" onMouseover="img_act('up')" onMouseout="img_inact('up')"><IMG SRC="up.png" BORDER="0" ALT="Up: Writing A Cygwin Friendly Package" ALIGN="MIDDLE" NAME="up"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_251.html#SEC251" onMouseover="img_act('forward')" onMouseout="img_inact('forward')"><IMG SRC="forward.png" BORDER="0" ALT="FastForward: DLLs with Libtool" ALIGN="MIDDLE" NAME="forward"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook.html#SEC_Top" onMouseover="img_act('home')" onMouseout="img_inact('home')"><IMG SRC="home.png" BORDER="0" ALT="Top: Autoconf, Automake, and Libtool" ALIGN="MIDDLE" NAME="home"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_toc.html#SEC_Contents" onMouseover="img_act('toc')" onMouseout="img_inact('toc')"><IMG SRC="toc.png" BORDER="0" ALT="Contents: Table of Contents" ALIGN="MIDDLE" NAME="toc"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_285.html#SEC285" onMouseover="img_act('index')" onMouseout="img_inact('index')"><IMG SRC="index.png" BORDER="0" ALT="Index: Index" ALIGN="MIDDLE" NAME="index"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_abt.html#SEC_About" onMouseover="img_act('help')" onMouseout="img_inact('help')"><IMG SRC="help.png" BORDER="0" ALT="About: About this document" ALIGN="MIDDLE" NAME="help"></A></TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="LEFT">
<H3> 25.3.3 Executable Filename Extensions </H3>
<!--docid::SEC250::-->
<P>

As I already noted in <A HREF="autobook_257.html#SEC257">25.5 Package Installation</A>, the fact that Windows
requires that all program files be named with the extension <SAMP>`.exe'</SAMP>,
is the cause of several inconsistencies in package behaviour between
Windows and Unix.
</P><P>

For example, where Libtool is involved, if a package
builds an executable which is linked against an as yet uninstalled
library, <CODE>libtool</CODE> puts the real executable in the <TT>`.libs'</TT>
(or <TT>`_libs'</TT>) subdirectory, and writes a shell script to the
original destination of the executable<A NAME="DOCF64" HREF="autobook_fot.html#FOOT64">(64)</A>, which ensures the runtime library search paths
are adjusted to find the  correct (uninstalled) libraries that it
depends upon.  On Windows, only a PE-COFF executable is allowed to bear
the <CODE>.exe</CODE> extension, so the wrapper script has to be named
differently to the executable it is substituted for (i.e the script is
only executed correctly by the operating system if it does <STRONG>not</STRONG>
have an <TT>`.exe'</TT> extension). The result of this confusion is that the
<TT>`Makefile'</TT> can't see some of the executables it builds with Libtool
because the generated rules assume an <TT>`.exe'</TT> extension will be in
evidence.  This problem will be addressed in some future revision of
Automake and Libtool.  In the mean time, it is sometimes necessary to
move the executables from the <TT>`.libs'</TT> directory to their install
destination by hand.  The continual rebuilding of wrapped executables at
each invocation of <CODE>make</CODE> is another symptom of using wrapper
scripts with a different name to the executable which they represent.
</P><P>

It is very important to correctly add the <SAMP>`.exe'</SAMP> extension to
program file names in your <TT>`Makefile.am'</TT>, otherwise many of the
generated rules will not work correctly while they await a file without
the <SAMP>`.exe'</SAMP> extension.  Fortunately, Automake will do this for you
where ever it is able to tell that a file is a program -- everything
listed in <SAMP>`bin_PROGRAMS'</SAMP> for example.  Occasionaly you will find
cases where there is no way for Automake to be sure of this, in which
case you must be sure to add the <SAMP>`$(EXEEXT)'</SAMP> suffix.  By
structuring your <TT>`Makefile.am'</TT> carefully, this can be avoided in
the majority of cases:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>TESTS = $(check_SCRIPTS) script-test bin1-test$(EXEEXT)
</pre></td></tr></table></P><P>

could be rewritten as:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>check_PROGRAMS = bin1-test
TESTS = $(check_SCRIPTS) script-test $(check_PROGRAMS)
</pre></td></tr></table></P><P>

The value of <SAMP>`EXEEXT'</SAMP> is always set correctly with respect to the
host machine if you use Libtool in your project.  If you don't use
Libtool, you must manually call the Autoconf macro, <SAMP>`AC_EXEEXT'</SAMP> in
your <TT>`configure.in'</TT> to make sure that it is initialiesed
correctly.  If you don't call this macro (either directly or implicity
with <SAMP>`AC_PROG_LIBTOOL'</SAMP>), your project will almost certainly not
build correctly on Cygwin.
</P><P>

<A NAME="DLLs with Libtool"></A>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Gary V. Vaughan</I> on <I>May, 24  2001</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
