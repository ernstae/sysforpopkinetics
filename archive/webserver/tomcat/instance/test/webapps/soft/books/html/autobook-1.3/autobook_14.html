<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on May, 24  2001 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>Autoconf, Automake, and Libtool: Configuring</TITLE>

<META NAME="description" CONTENT="Autoconf, Automake, and Libtool: Configuring">
<META NAME="keywords" CONTENT="Autoconf, Automake, and Libtool: Configuring">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">
<script language="Javascript">
<!--    
// Check the browser version.

    function checkVersion() {
      if (navigator.appVersion.charAt(0)>=3) return true;
      if (navigator.appVersion.charAt(0)>=4) return true;
      else return false;
    }

      if (checkVersion()) {
             homeon = new Image();
             homeon.src = "homeon.png";

             homeoff = new Image();
             homeoff.src = "home.png";

             tocon = new Image();
             tocon.src = "tocon.png";

             tocoff = new Image();
             tocoff.src = "toc.png";

             indexon = new Image();
             indexon.src = "indexon.png";

             indexoff = new Image();
             indexoff.src = "index.png";

             helpon = new Image();
             helpon.src = "helpon.png";

             helpoff = new Image();
             helpoff.src = "help.png";

             backon = new Image();
             backon.src = "backon.png";

             backoff = new Image();
             backoff.src = "back.png";

             forwardon = new Image();
             forwardon.src = "forwardon.png";

             forwardoff = new Image();
             forwardoff.src = "forward.png";

             prevon = new Image();
             prevon.src = "prevon.png";

             prevoff = new Image();
             prevoff.src = "prev.png";

             nexton = new Image();
             nexton.src = "nexton.png";

             nextoff = new Image();
             nextoff.src = "next.png";

             upon = new Image();
             upon.src = "upon.png";

             upoff = new Image();
             upoff.src = "up.png";
         }

     function img_act(imgName) {
             if (checkVersion()) {
             imgOn = eval(imgName + "on.src");
             document [imgName].src = imgOn;
             }
     }

     function img_inact(imgName) {
             if (checkVersion()) {
             imgOff = eval(imgName + "off.src");
             document [imgName].src = imgOff;
             }
     }
// -->
</SCRIPT>

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#6688AA" VLINK="#336688" ALINK="#808080">

<A NAME="SEC14"></A>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=10>
<TR VALIGN="TOP">
<TD ALIGN="MIDDLE" WIDTH=50 BGCOLOR="#e6e6e6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_13.html#SEC13" onMouseover="img_act('prev')" onMouseout="img_inact('prev')"><IMG SRC="prev.png" BORDER="0" ALT="Back: Invoking configure" ALIGN="MIDDLE" NAME="prev"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_15.html#SEC15" onMouseover="img_act('next')" onMouseout="img_inact('next')"><IMG SRC="next.png" BORDER="0" ALT="Forward: Files generated by configure" ALIGN="MIDDLE" NAME="next"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_13.html#SEC13" onMouseover="img_act('back')" onMouseout="img_inact('back')"><IMG SRC="back.png" BORDER="0" ALT="FastBack: Invoking configure" ALIGN="MIDDLE" NAME="back"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_13.html#SEC13" onMouseover="img_act('up')" onMouseout="img_inact('up')"><IMG SRC="up.png" BORDER="0" ALT="Up: Invoking configure" ALIGN="MIDDLE" NAME="up"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_18.html#SEC18" onMouseover="img_act('forward')" onMouseout="img_inact('forward')"><IMG SRC="forward.png" BORDER="0" ALT="FastForward: Introducing Makefiles" ALIGN="MIDDLE" NAME="forward"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook.html#SEC_Top" onMouseover="img_act('home')" onMouseout="img_inact('home')"><IMG SRC="home.png" BORDER="0" ALT="Top: Autoconf, Automake, and Libtool" ALIGN="MIDDLE" NAME="home"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_toc.html#SEC_Contents" onMouseover="img_act('toc')" onMouseout="img_inact('toc')"><IMG SRC="toc.png" BORDER="0" ALT="Contents: Table of Contents" ALIGN="MIDDLE" NAME="toc"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_285.html#SEC285" onMouseover="img_act('index')" onMouseout="img_inact('index')"><IMG SRC="index.png" BORDER="0" ALT="Index: Index" ALIGN="MIDDLE" NAME="index"></A></TD>
</TR>
<TR VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="MIDDLE" ALIGN="LEFT"><A HREF="autobook_abt.html#SEC_About" onMouseover="img_act('help')" onMouseout="img_inact('help')"><IMG SRC="help.png" BORDER="0" ALT="About: About this document" ALIGN="MIDDLE" NAME="help"></A></TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="LEFT">
<H2> 3.1 Configuring </H2>
<!--docid::SEC14::-->
<P>

A <TT>`configure'</TT> script takes a large number of command line options.
The set of options can vary from one package to the next, although a
number of basic options are always present.  The available options can
be discovered by running <TT>`configure'</TT> with the <SAMP>`--help'</SAMP>
option.  Although many of these options are esoteric, it's worthwhile
knowing of their existence when configuring packages with special
installation requirements.  Each option will be briefly described below:
</P><P>

<DL COMPACT>
<DT><SAMP>`--cache-file=<VAR>file</VAR>'</SAMP>
<DD><TT>`configure'</TT> runs tests on your system to determine the availability
of features (or bugs!).  The results of these tests can be stored in a
<EM>cache file</EM> to speed up subsequent invocations of
<CODE>configure</CODE>.  The presence of a well primed cache file makes a
big improvement when configuring a complex tree which has
<TT>`configure'</TT> scripts in each subtree.
<P>

<DT><SAMP>`--help'</SAMP>
<DD>Outputs a help message.  Even experienced users of <TT>`configure'</TT> need
to use <SAMP>`--help'</SAMP> occasionally, as complex projects will include
additional options for per-project configuration.  For example,
<TT>`configure'</TT> in the GCC package allows you to control whether
the GNU assembler will be built and used by GCC in preference
to a vendor's assembler.
<P>

<DT><SAMP>`--no-create'</SAMP>
<DD>One of the primary functions of <TT>`configure'</TT> is to generate output
files.  This option prevents <TT>`configure'</TT> from generating such
output files.  You can think of this as a kind of <EM>dry run</EM>,
although the cache will still be modified.
<P>

<DT><SAMP>`--quiet'</SAMP>
<DD><DT><SAMP>`--silent'</SAMP>
<DD>As <TT>`configure'</TT> runs its tests, it outputs brief messages telling
the user what the script is doing.  This was done because
<TT>`configure'</TT> can be slow.  If there was no such output, the user
would be left wondering what is happening.  By using this option, you
too can be left wondering!
<P>

<DT><SAMP>`--version'</SAMP>
<DD>Prints the version of Autoconf that was used to generate the
<TT>`configure'</TT> script.
<P>

<DT><SAMP>`--prefix=<VAR>prefix</VAR>'</SAMP>
<DD>The --prefix option is one of the most frequently used. If generated
<TT>`Makefile'</TT>s choose to observe the argument you pass with this
option, it is possible to entirely relocate the architecture-independent
portion of a package when it is installed. For example, when installing
a package like Emacs, the following command line will cause the Emacs
Lisp files to be installed in <TT>`/opt/gnu/share'</TT>:
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>	$ ./configure --prefix=/opt/gnu
</FONT></pre></td></tr></table></P><P>

It is important to stress that this behavior is dependent on the
generated files making use of this information.  For developers writing
these files, Automake simplifies this process a great deal.  Automake is
introduced in <A HREF="autobook_35.html#SEC35">7. Introducing GNU Automake</A>.
</P><P>

<DT><SAMP>`--exec-prefix=<VAR>eprefix</VAR>'</SAMP>
<DD>Similar to <SAMP>`--prefix'</SAMP>, except that it sets the location of
installed files which are architecture-dependent.  The compiled
<SAMP>`emacs'</SAMP> binary is such a file.  If this option is not given, the
default <SAMP>`exec-prefix'</SAMP> value inserted into generated files is set to
the same values at the <SAMP>`prefix'</SAMP>.
<P>

<DT><SAMP>`--bindir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of installed binary files.  While there may be
other generated files which are binary in nature, binary files here are
defined to be programs that are run directly by users.
<P>

<DT><SAMP>`--sbindir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of installed superuser binary files.  These are
programs which are usually only run by the superuser.
<P>

<DT><SAMP>`--libexecdir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of installed executable support files.
Contrasted with `binary files', these files are never run directly by
users, but may be executed by the binary files mentioned above.
<P>

<DT><SAMP>`--datadir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of generic data files.
<P>

<DT><SAMP>`--sysconfdir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of read-only data used on a single machine.
<P>

<DT><SAMP>`--sharedstatedir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of data which may be modified, and which may be
shared across several machines.
<P>

<DT><SAMP>`--localstatedir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies the location of data which may be modified, but which is
specific to a single machine.
<P>

<DT><SAMP>`--libdir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies where object code library should be installed.
<P>

<DT><SAMP>`--includedir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies where C header files should be installed.  Header files for
other languages such as C++ may be installed here also.
<P>

<DT><SAMP>`--oldincludedir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies where C header files should be installed for compilers other
than GCC.
<P>

<DT><SAMP>`--infodir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies where Info format documentation files should be installed.
Info is the documentation format used by the GNU project.
<P>

<DT><SAMP>`--mandir=<VAR>dir</VAR>'</SAMP>
<DD>Specifies where manual pages should be installed.
<P>

<DT><SAMP>`--srcdir=<VAR>dir</VAR>'</SAMP>
<DD>This option does not affect installation.  Instead, it tells
<TT>`configure'</TT> where the source files may be found.  It is normally
not necessary to specify this, since the configure script is normally in
the same directory as the source files.
<P>

<DT><SAMP>`--program-prefix=<VAR>prefix</VAR>'</SAMP>
<DD>Specifies a prefix which should be added to the name of a program when
installing it.  For example, using <SAMP>`--program-prefix=g'</SAMP> when
configuring a program normally named <TT>`tar'</TT> will cause the installed
program to be named <TT>`gtar'</TT> instead.  As with the other installation
options, this <TT>`configure'</TT> option only works if it is utilized by
the <TT>`Makefile.in'</TT> file.
<P>

<DT><SAMP>`--program-suffix=<VAR>suffix</VAR>'</SAMP>
<DD>Specifies a suffix which should be appended to the name of a program
when installing it.
<P>

<DT><SAMP>`--program-transform-name=<VAR>program</VAR>'</SAMP>
<DD>Here, <VAR>program</VAR> is a <CODE>sed</CODE> script.  When a program is
installed, its name will be run through <SAMP>`sed -e <VAR>script</VAR>'</SAMP> to
produce the installed name.
</DL>
<P>

<DL COMPACT>
<DT><SAMP>`--build=<VAR>build</VAR>'</SAMP>
<DD>Specifies the type of system on which the package will be built.  If
not specified, the default will be the same configuration name as the host.
<P>

<DT><SAMP>`--host=<VAR>host</VAR>'</SAMP>
<DD>Specifies the type of system on which the package will run--or <EM>be
hosted</EM>.  If not specified, the host triplet is determined by executing
<TT>`config.guess'</TT>.
<P>

<DT><SAMP>`--target=<VAR>target</VAR>'</SAMP>
<DD>Specifies the type of system which the package is to be targeted to.
This makes the most sense in the context of programming language tools
like compilers and assemblers.  If not specified, the default will be
the same configuration name as the host.
<P>

<DT><SAMP>`--disable-<VAR>feature</VAR>'</SAMP>
<DD>Some packages may choose to provide compile-time configurability for
large-scale options such as using the Kerberos authentication system or
an experimental compiler optimization pass.  If the default is to
provide such features, they may be disabled with
<SAMP>`--disable-<VAR>feature</VAR>'</SAMP>, where <VAR>feature</VAR> is the feature's
designated name.  For example:
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>$ ./configure --disable-gui
</FONT></pre></td></tr></table></P><P>

<DT><SAMP>`--enable-<VAR>feature</VAR>[=<VAR>arg</VAR>]'</SAMP>
<DD>Conversely, some packages may provide features which are disabled by
default.  To enable them, use <SAMP>`--enable-<VAR>feature</VAR>'</SAMP>, where
<VAR>feature</VAR> is the feature's designated name.  A feature may accept an
optional argument.  For example:
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>	$ ./configure --enable-buffers=128
</FONT></pre></td></tr></table></P><P>

Using <SAMP>`--enable-<VAR>feature</VAR>=no'</SAMP> is synonymous with
<SAMP>`--disable-<VAR>feature</VAR>'</SAMP>, described above.
</P><P>

<DT><SAMP>`--with-<VAR>package</VAR>[=<VAR>arg</VAR>]'</SAMP>
<DD>In the free software community, there is a healthy tendency to reuse
existing packages and libraries where possible.  At the time when a
source tree is configured by <TT>`configure'</TT>, it is possible to
provide hints about other installed packages.  For example, the BLT
widget toolkit relies on Tcl and Tk.  To configure BLT, it may be
necessary to give <TT>`configure'</TT> some hints about where you have
installed Tcl and Tk:
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>	$ ./configure --with-tcl=/usr/local --with-tk=/usr/local
</FONT></pre></td></tr></table></P><P>

Using <SAMP>`--with-<VAR>package</VAR>=no'</SAMP> is synonymous with
<SAMP>`--without-<VAR>package</VAR>'</SAMP> which is described below.
</P><P>

<DT><SAMP>`--without-<VAR>package</VAR>'</SAMP>
<DD>Sometimes you may not want your package to inter-operate with some
pre-existing package installed on your system.  For example, you might
not want your new compiler to use GNU <CODE>ld</CODE>.  You can prevent
this by using an option such as:
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>	$ ./configure --without-gnu-ld
</FONT></pre></td></tr></table></P><P>

<DT><SAMP>`--x-includes=<VAR>dir</VAR>'</SAMP>
<DD>This option is really a specific instance of a <SAMP>`--with-package'</SAMP>
option.  At the time when Autoconf was initially being developed, it was
common to use <TT>`configure'</TT> to build programs to run on the X Window
System as an alternative to Imake.  The <SAMP>`--x-includes'</SAMP> option
provides a way to guide the configure script to the directory containing
the X11 header files.
<P>

<DT><SAMP>`--x-libraries=<VAR>dir</VAR>'</SAMP>
<DD>Similarly, the --x-libraries option provides a way to guide
<TT>`configure'</TT> to the directory containing the X11 libraries.
</DL>
<P>

It is unnecessary, and often undesirable, to run <TT>`configure'</TT> from
within the source tree.  Instead, a well-written <TT>`Makefile'</TT>
generated by <TT>`configure'</TT> will be able to build packages whose
source files reside in another tree.  The advantages of building derived
files in a separate tree to the source code are fairly obvious: the
derived files, such as object files, would clutter the source tree.
This would also make it impossible to build those same object files on a
different system or with a different configuration.  Instead, it is
recommended to use three trees: a source tree, a build tree and an
<EM>install tree</EM>.  Here is a closing example of how to build the
GNU malloc package in this way:
</P><P>

<TABLE width=100%><tr><td>&nbsp;</td><td class=example bgcolor=#6688aa><br><pre>  $ gtar zxf mmalloc-1.0.tar.gz
  $ mkdir build &#38;&#38; cd build
  $ ../mmalloc-1.0/configure
  creating cache ./config.cache
  checking for gcc... gcc
  checking whether the C compiler (gcc  ) works... yes
  checking whether the C compiler (gcc  ) is a cross-compiler... no
  checking whether we are using GNU C... yes
  checking whether gcc accepts -g... yes
  checking for a BSD compatible install... /usr/bin/install -c
  checking host system type... i586-pc-linux-gnu
  checking build system type... i586-pc-linux-gnu
  checking for ar... ar
  checking for ranlib... ranlib
  checking how to run the C preprocessor... gcc -E
  checking for unistd.h... yes
  checking for getpagesize... yes
  checking for working mmap... yes
  checking for limits.h... yes
  checking for stddef.h... yes
  updating cache ../config.cache
  creating ./config.status
</pre></td></tr></table></P><P>

Now that this build tree is configured, it is possible to go on and
build the package and install it into the default location of
<TT>`/usr/local'</TT>:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>  $ make all &#38;&#38; make install
</FONT></pre></td></tr></table></P><P>

<A NAME="Files generated by configure"></A>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Gary V. Vaughan</I> on <I>May, 24  2001</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
