<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on April 2, 2002 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU Emacs Manual: Programs</TITLE>

<META NAME="description" CONTENT="GNU Emacs Manual: Programs">
<META NAME="keywords" CONTENT="GNU Emacs Manual: Programs">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC268"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_23.html#SEC267"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC269"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_23.html#SEC233"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> U. Editing Programs </H1>
<!--docid::SEC268::-->
<P>

  Emacs provides many features to facilitate editing programs.  Some
of these features can
</P><P>

<UL>
<LI>
Find or move over top-level definitions (see section <A HREF="emacs_24.html#SEC270">U.2 Top-Level Definitions, or Defuns</A>).
<LI>
Apply the usual indentation conventions of the language
(see section <A HREF="emacs_24.html#SEC275">U.3 Indentation for Programs</A>).
<LI>
Insert, kill or align comments (see section <A HREF="emacs_24.html#SEC285">U.5 Manipulating Comments</A>).
<LI>
Balance parentheses (see section <A HREF="emacs_24.html#SEC281">U.4 Commands for Editing with Parentheses</A>).
<LI>
Highlight program syntax (see section <A HREF="emacs_13.html#SEC79">J.2 Font Lock mode</A>).
</UL>
<P>

  This chapter describes these features and many more.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC269">U.1 Major Modes for Programming Languages</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Major modes for editing programs.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC270">U.2 Top-Level Definitions, or Defuns</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to operate on major top-level parts
                          of a program.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC275">U.3 Indentation for Programs</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Adjusting indentation to show the nesting.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC285">U.5 Manipulating Comments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Inserting, killing, and aligning comments.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC281">U.4 Commands for Editing with Parentheses</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands that operate on parentheses.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC289">U.6 Documentation Lookup</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Getting documentation of functions you plan to call.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC293">U.7 Hideshow minor mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Displaying blocks selectively.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC294">U.8 Completion for Symbol Names</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Completion on symbol names of your program or language.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC295">U.9 Glasses minor mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Making identifiersLikeThis more readable.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC296">U.10 Other Features Useful for Editing Programs</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Other Emacs features useful for editing programs.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC297">U.11 C and Related Modes</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Special commands of C, C++, Objective-C,
                          Java, and Pike modes.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC303">U.12 Fortran Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Fortran mode and its special features.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC315">U.13 Asm Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Asm mode and its special features.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Program Modes"></A>
<HR SIZE="6">
<A NAME="SEC269"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.1 Major Modes for Programming Languages </H2>
<!--docid::SEC269::-->
<P>

  Emacs has specialized major modes for various programming languages.
See section <A HREF="emacs_21.html#SEC227">R. Major Modes</A>.  A programming language major mode typically
specifies the syntax of expressions, the customary rules for
indentation, how to do syntax highlighting for the language, and how
to find the beginning of a function definition.  It often customizes
or provides facilities for compiling and debugging programs as well.
</P><P>

  Ideally, Emacs should provide a major mode for each programming
language that you might want to edit; if it doesn't have a mode for
your favorite language, you can contribute one.  But often the mode
for one language can serve for other syntactically similar languages.
The major mode for language <VAR>l</VAR> is called <CODE><VAR>l</VAR>-mode</CODE>,
and you can select it by typing <KBD>M-x <VAR>l</VAR>-mode <KBD>RET</KBD></KBD>.
See section <A HREF="emacs_21.html#SEC228">R.1 How Major Modes are Chosen</A>.
</P><P>

<A NAME="IDX1340"></A>
<A NAME="IDX1341"></A>
<A NAME="IDX1342"></A>
<A NAME="IDX1343"></A>
<A NAME="IDX1344"></A>
<A NAME="IDX1345"></A>
<A NAME="IDX1346"></A>
<A NAME="IDX1347"></A>
<A NAME="IDX1348"></A>
<A NAME="IDX1349"></A>
<A NAME="IDX1350"></A>
<A NAME="IDX1351"></A>
<A NAME="IDX1352"></A>
<A NAME="IDX1353"></A>
<A NAME="IDX1354"></A>
<A NAME="IDX1355"></A>
<A NAME="IDX1356"></A>
  The existing programming language major modes include Lisp, Scheme (a
variant of Lisp) and the Scheme-based DSSSL expression language, Ada,
Awk, C, C++, Delphi (Object Pascal), Fortran (free format and fixed
format), Icon, IDL (CORBA), IDLWAVE, Java, Metafont (TeX's
companion for font creation), Modula2, Objective-C, Octave, Pascal,
Perl, Pike, PostScript, Prolog, Simula, Tcl, and VHDL.  There is
also a major mode for makefiles, called Makefile mode.  An alternative
mode for Perl is called CPerl mode.  Modes are available for the
scripting languages of the common GNU and Unix shells, VMS DCL, and
MS-DOS/MS-Windows <SAMP>`BAT'</SAMP> files.  There are also major modes for
editing various sorts of configuration files.
</P><P>

<A NAME="IDX1357"></A>
<A NAME="IDX1358"></A>
  In most programming languages, indentation should vary from line to
line to illustrate the structure of the program.  So the major modes
for programming languages arrange for <KBD>TAB</KBD> to update the
indentation of the current line.  They also rebind <KBD>DEL</KBD> to treat
a tab as if it were the equivalent number of spaces; this lets you
delete one column of indentation without worrying whether the
whitespace consists of spaces or tabs.  Use <KBD>C-b C-d</KBD> to delete a
tab character before point, in these modes.
</P><P>

  Separate manuals are available for the modes for Ada (see section `Ada Mode' in <CITE>Ada Mode</CITE>), C/C++/Objective C/Java/Corba IDL
(see section `CC Mode' in <CITE>CC Mode</CITE>) and the IDLWAVE modes
(see section `IDLWAVE' in <CITE>IDLWAVE User Manual</CITE>).
</P><P>

<A NAME="IDX1359"></A>
<A NAME="IDX1360"></A>
<A NAME="IDX1361"></A>
<A NAME="IDX1362"></A>
<A NAME="IDX1363"></A>
<A NAME="IDX1364"></A>
  Turning on a major mode runs a normal hook called the <EM>mode
hook</EM>, which is the value of a Lisp variable.  Each major mode has a
mode hook, and the hook's name is always made from the mode command's
name by adding <SAMP>`-hook'</SAMP>.  For example, turning on C mode runs the
hook <CODE>c-mode-hook</CODE>, while turning on Lisp mode runs the hook
<CODE>lisp-mode-hook</CODE>.  The purpose of the mode hook is to give you a
place to set up customizations for that major mode.  See section <A HREF="emacs_33.html#SEC484">AD.2.3 Hooks</A>.
</P><P>

<A NAME="Defuns"></A>
<HR SIZE="6">
<A NAME="SEC270"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC269"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC271"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.2 Top-Level Definitions, or Defuns </H2>
<!--docid::SEC270::-->
<P>

  In Emacs, a major definition at the top level in the buffer is
called a <EM>defun</EM>.  The name comes from Lisp, but in Emacs we use
it for all languages.
</P><P>

  In most programming language modes, Emacs assumes that a defun is
any pair of parentheses (or braces, if the language uses braces this
way) that starts at the left margin.  For example, in C, the body of a
function definition is normally a defun, because the open-brace that
begins it is normally at the left margin.  A variable's initializer
can also count as a defun, if the open-brace that begins the
initializer is at the left margin.
</P><P>

  However, some language modes provide their own code for recognizing
defuns in a way that suits the language syntax and conventions better.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC271">U.2.1 Left Margin Convention</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">An open-paren or similar opening delimiter
                          starts a defun if it is at the left margin.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC272">U.2.2 Moving by Defuns</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to move over or mark a major definition.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC273">U.2.3 Imenu</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Making buffer indexes as menus.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC274">U.2.4 Which Function Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Which Function mode shows which function you are in.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Left Margin Paren"></A>
<HR SIZE="6">
<A NAME="SEC271"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC272"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.2.1 Left Margin Convention </H3>
<!--docid::SEC271::-->
<P>

<A NAME="IDX1365"></A>
<A NAME="IDX1366"></A>
  In most major modes, Emacs assumes that any opening delimiter found
at the left margin is the start of a top-level definition, or defun.
Therefore, <STRONG>never put an opening delimiter at the left margin
unless it should have that significance.</STRONG>  For instance, never put an
open-parenthesis at the left margin in a Lisp file unless it is the
start of a top-level list.  Never put an open-brace or other opening
delimiter at the beginning of a line of C code unless it is at top
level.
</P><P>

  If you don't follow this convention, not only will you have trouble
when you explicitly use the commands for motion by defuns; other
features that use them will also give you trouble.  This includes
the indentation commands (see section <A HREF="emacs_24.html#SEC275">U.3 Indentation for Programs</A>) and Font Lock
mode (see section <A HREF="emacs_13.html#SEC79">J.2 Font Lock mode</A>).
</P><P>

  The most likely problem case is when you want an opening delimiter
at the start of a line inside a string.  To avoid trouble, put an
escape character (<SAMP>`\'</SAMP>, in C and Emacs Lisp, <SAMP>`/'</SAMP> in some
other Lisp dialects) before the opening delimiter.  This will not
affect the contents of the string, but will prevent that opening
delimiter from starting a defun.  Here's an example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>  (insert "Foo:
\(bar)
")
</pre></td></tr></table></P><P>

  In the earliest days, the original Emacs found defuns by moving
upward a level of parentheses or braces until there were no more
levels to go up.  This always required scanning all the way back to
the beginning of the buffer, even for a small function.  To speed up
the operation, we changed Emacs to assume that any opening delimiter
at the left margin is the start of a defun.  This heuristic is nearly
always right, and avoids the need to scan back to the beginning of the
buffer.  However, it mandates following the convention described
above.
</P><P>

<A NAME="Moving by Defuns"></A>
<HR SIZE="6">
<A NAME="SEC272"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC271"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC273"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC273"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.2.2 Moving by Defuns </H3>
<!--docid::SEC272::-->
<P>

  These commands move point or set up the region based on top-level
major definitions, also called <EM>defuns</EM>.
</P><P>

<DL COMPACT>
<DT><KBD>C-M-a</KBD>
<DD>Move to beginning of current or preceding defun
(<CODE>beginning-of-defun</CODE>).
<DT><KBD>C-M-e</KBD>
<DD>Move to end of current or following defun (<CODE>end-of-defun</CODE>).
<DT><KBD>C-M-h</KBD>
<DD>Put region around whole current or following defun (<CODE>mark-defun</CODE>).
</DL>
<P>

<A NAME="IDX1367"></A>
<A NAME="IDX1368"></A>
<A NAME="IDX1369"></A>
<A NAME="IDX1370"></A>
<A NAME="IDX1371"></A>
<A NAME="IDX1372"></A>
<A NAME="IDX1373"></A>
<A NAME="IDX1374"></A>
  The commands to move to the beginning and end of the current defun
are <KBD>C-M-a</KBD> (<CODE>beginning-of-defun</CODE>) and <KBD>C-M-e</KBD>
(<CODE>end-of-defun</CODE>).  If you repeat one of these commands, or use a
positive numeric argument, each repetition moves to the next defun in
the direction of motion.
</P><P>

  <KBD>C-M-a</KBD> with a negative argument -<VAR>n</VAR> moves forward
<VAR>n</VAR> times to the next beginning of a defun.  This is not exactly
the same place that <KBD>C-M-e</KBD> with argument <VAR>n</VAR> would move to;
the end of this defun is not usually exactly the same place as the
beginning of the following defun.  (Whitespace, comments, and perhaps
declarations can separate them.)  Likewise, <KBD>C-M-e</KBD> with a
negative argument moves back to an end of a defun, which is not quite
the same as <KBD>C-M-a</KBD> with a positive argument.
</P><P>

<A NAME="IDX1375"></A>
<A NAME="IDX1376"></A>
  To operate on the current defun, use <KBD>C-M-h</KBD> (<CODE>mark-defun</CODE>)
which puts point at the beginning and mark at the end of the current
defun.  This is the easiest way to get ready to kill the defun in
order to move it to a different place in the file.  If you use the
command while point is between defuns, it uses the following defun.
</P><P>

  In C mode, <KBD>C-M-h</KBD> runs the function <CODE>c-mark-function</CODE>,
which is almost the same as <CODE>mark-defun</CODE>; the difference is that
it backs up over the argument declarations, function name and returned
data type so that the entire C function is inside the region.  This is
an example of how major modes adjust the standard key bindings so that
they do their standard jobs in a way better fitting a particular
language.  Other major modes may replace any or all of these key
bindings for that purpose.
</P><P>

<A NAME="Imenu"></A>
<HR SIZE="6">
<A NAME="SEC273"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC272"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC274"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC274"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.2.3 Imenu </H3>
<!--docid::SEC273::-->
<P>

  The Imenu facility offers a way to find the the major definitions in
a file by name.  It is also useful in text formatter major modes,
where it treats each chapter, section, etc., as a definition.
(See section <A HREF="emacs_26.html#SEC334">W.2 Tags Tables</A>, for a more powerful feature that handles multiple files
together.)
</P><P>

<A NAME="IDX1377"></A>
  If you type <KBD>M-x imenu</KBD>, it reads the name of a definition using
the minibuffer, then moves point to that definition.  You can use
completion to specify the name; the command always displays the whole
list of valid names.
</P><P>

<A NAME="IDX1378"></A>
  Alternatively, you can bind the command <CODE>imenu</CODE> to a mouse
click.  Then it displays mouse menus for you to select a definition
name.  You can also add the buffer's index to the menu bar by calling
<CODE>imenu-add-menubar-index</CODE>.  If you want to have this menu bar
item available for all buffers in a certain major mode, you can do
this by adding <CODE>imenu-add-menubar-index</CODE> to its mode hook.  But
if you have done that, you will have to wait each time you visit a
file in that mode, while Emacs finds all the definitions in that
buffer.
</P><P>

<A NAME="IDX1379"></A>
  When you change the contents of a buffer, if you add or delete
definitions, you can update the buffer's index based on the
new contents by invoking the <SAMP>`*Rescan*'</SAMP> item in the menu.
Rescanning happens automatically if you set <CODE>imenu-auto-rescan</CODE> to
a non-<CODE>nil</CODE> value.  There is no need to rescan because of small
changes in the text.
</P><P>

<A NAME="IDX1380"></A>
  You can customize the way the menus are sorted by setting the
variable <CODE>imenu-sort-function</CODE>.  By default, names are ordered as
they occur in the buffer; if you want alphabetic sorting, use the
symbol <CODE>imenu--sort-by-name</CODE> as the value.  You can also
define your own comparison function by writing Lisp code.
</P><P>

  Imenu provides the information to guide Which Function mode
(see section <A HREF="emacs_24.html#SEC274">U.2.4 Which Function Mode</A>).
The Speedbar can also use it (see section <A HREF="emacs_19.html#SEC200">P.9 Making and Using a Speedbar Frame</A>).
</P><P>

<A NAME="Which Function"></A>
<HR SIZE="6">
<A NAME="SEC274"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC273"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.2.4 Which Function Mode </H3>
<!--docid::SEC274::-->
<P>

  Which Function mode is a minor mode that displays the current
function name in the mode line, updating it as you move around in a
buffer.
</P><P>

<A NAME="IDX1381"></A>
<A NAME="IDX1382"></A>
  To enable (or disable) Which Function mode, use the command <KBD>M-x
which-function-mode</KBD>.  This command is global; it applies to all
buffers, both existing ones and those yet to be created.  However,
it only takes effect in certain major modes, those listed in the value of
<CODE>which-func-modes</CODE>.  If the value is <CODE>t</CODE>, then Which
Function mode applies to all major modes that know how to support
it--in other words, all the major modes that support Imenu.
</P><P>

<A NAME="Program Indent"></A>
<HR SIZE="6">
<A NAME="SEC275"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC274"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC276"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.3 Indentation for Programs </H2>
<!--docid::SEC275::-->
<P>

  The best way to keep a program properly indented is to use Emacs to
reindent it as you change it.  Emacs has commands to indent properly
either a single line, a specified number of lines, or all of the lines
inside a single parenthetical grouping.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC276">U.3.1 Basic Program Indentation Commands</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Indenting a single line.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC277">U.3.2 Indenting Several Lines</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to reindent many lines at once.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC278">U.3.3 Customizing Lisp Indentation</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Specifying how each Lisp function should be indented.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC279">U.3.4 Commands for C Indentation</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Extra features for indenting C and related modes.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC280">U.3.5 Customizing C Indentation</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Controlling indentation style for C and related modes.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="IDX1383"></A>
  Emacs also provides a Lisp pretty-printer in the library <CODE>pp</CODE>.
This program reformats a Lisp object with indentation chosen to look nice.
</P><P>

<A NAME="Basic Indent"></A>
<HR SIZE="6">
<A NAME="SEC276"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC277"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.3.1 Basic Program Indentation Commands </H3>
<!--docid::SEC276::-->
<P>

  The basic indentation commands indent a single line according to the
usual conventions of the language you are editing.
</P><P>

<DL COMPACT>
<DT><KBD><KBD>TAB</KBD></KBD>
<DD>Adjust indentation of current line.
<DT><KBD>C-j</KBD>
<DD>Equivalent to <KBD>RET</KBD> followed by <KBD>TAB</KBD> (<CODE>newline-and-indent</CODE>).
<DT><KBD><KBD>LINEFEED</KBD></KBD>
<DD>This key, if the keyboard has it, is another way to enter <KBD>C-j</KBD>.
</DL>
<P>

<A NAME="IDX1384"></A>
<A NAME="IDX1385"></A>
<A NAME="IDX1386"></A>
<A NAME="IDX1387"></A>
  The basic indentation command is <KBD>TAB</KBD>, which gives the current line
the correct indentation as determined from the previous lines.  The
function that <KBD>TAB</KBD> runs depends on the major mode; it is
<CODE>indent-for-tab-command</CODE>
in Lisp mode, <CODE>c-indent-command</CODE> in C mode, etc.  These functions
understand the syntax and conventions of different languages, but they all do
conceptually the same job: <KBD>TAB</KBD> in any programming-language major mode
inserts or deletes whitespace at the beginning of the current line,
independent of where point is in the line.  If point was inside the
whitespace at the beginning of the line, <KBD>TAB</KBD> puts it at the end of
that whitespace; otherwise, <KBD>TAB</KBD> keeps point fixed with respect to
the characters around it.
</P><P>

  Use <KBD>C-q <KBD>TAB</KBD></KBD> to insert a tab at point.
</P><P>

<A NAME="IDX1388"></A>
<A NAME="IDX1389"></A>
  When entering lines of new code, use <KBD>C-j</KBD>
(<CODE>newline-and-indent</CODE>), which is equivalent to a <KBD>RET</KBD>
followed by a <KBD>TAB</KBD>.  <KBD>C-j</KBD> at the end of a line creates a
blank line and then gives it the appropriate indentation.
</P><P>

  <KBD>TAB</KBD> indents lines that start within a parenthetical grouping
each under the preceding line (or the text after the parenthesis).
Therefore, if you manually give one of these lines a nonstandard
indentation, the lines below will tend to follow it.  This behavior is
convenient in cases where you have overridden the standard result of
<KBD>TAB</KBD> because you find it unaesthetic for a particular line.
</P><P>

  Remember that an open-parenthesis, open-brace or other opening delimiter
at the left margin is assumed by Emacs (including the indentation routines)
to be the start of a function.  Therefore, you must never have an opening
delimiter in column zero that is not the beginning of a function, not even
inside a string.  This restriction is vital for making the indentation
commands fast; you must simply accept it.  See section <A HREF="emacs_24.html#SEC271">U.2.1 Left Margin Convention</A>,
for more information on this.
</P><P>

  Normally, lines are indented with tabs and spaces.  If you want Emacs
to use spaces only, see <A HREF="emacs_22.html#SEC232">S.3 Tabs vs. Spaces</A>.
</P><P>

<A NAME="Multi-line Indent"></A>
<HR SIZE="6">
<A NAME="SEC277"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC276"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC278"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC278"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.3.2 Indenting Several Lines </H3>
<!--docid::SEC277::-->
<P>

  When you wish to reindent several lines of code which have been
altered or moved to a different level in the parenthesis structure,
you have several commands available.
</P><P>

<DL COMPACT>
<DT><KBD>C-M-q</KBD>
<DD>Reindent all the lines within one parenthetical grouping(<CODE>indent-sexp</CODE>).
<DT><KBD>C-M-\</KBD>
<DD>Reindent all lines in the region (<CODE>indent-region</CODE>).
<DT><KBD>C-u <KBD>TAB</KBD></KBD>
<DD>Shift an entire parenthetical grouping rigidly sideways so that its
first line is properly indented.
<DT><KBD>M-x indent-code-rigidly</KBD>
<DD>Shift all the lines in the region rigidly sideways, but do not alter
lines that start inside comments and strings.
</DL>
<P>

<A NAME="IDX1390"></A>
<A NAME="IDX1391"></A>
  You can reindent the contents of a single parenthetical grouping by
positioning point before the beginning of it and typing <KBD>C-M-q</KBD>
(<CODE>indent-sexp</CODE> in Lisp mode, <CODE>c-indent-exp</CODE> in C mode; also
bound to other suitable commands in other modes).  The indentation of
the line where the grouping starts is not changed; therefore, this
changes only the relative indentation within the grouping, not its
overall indentation.  To correct that as well, type <KBD>TAB</KBD> first.
</P><P>

  Another way to specify the range to be reindented is with the
region.  The command <KBD>C-M-\</KBD> (<CODE>indent-region</CODE>) applies
<KBD>TAB</KBD> to every line whose first character is between point and
mark.
</P><P>

<A NAME="IDX1392"></A>
  If you like the relative indentation within a grouping, but not the
indentation of its first line, you can type <KBD>C-u <KBD>TAB</KBD></KBD> to
reindent the whole grouping as a rigid unit.  (This works in Lisp
modes and C and related modes.)  <KBD>TAB</KBD> with a numeric argument
reindents the current line as usual, then reindents by the same amount
all the lines in the parenthetical grouping starting on the current
line.  It is clever, though, and does not alter lines that start
inside strings, or C preprocessor lines when in C mode.
</P><P>

<A NAME="IDX1393"></A>
  You can also perform this operation on the region, using the command
<KBD>M-x indent-code-rigidly</KBD>.  It rigidly shifts all the lines in the
region sideways, like <CODE>indent-rigidly</CODE> does (see section <A HREF="emacs_22.html#SEC230">S.1 Indentation Commands and Techniques</A>).  It doesn't alter the indentation of lines that start
inside a comment or a string, unless the region starts inside that
comment or string.
</P><P>

<A NAME="Lisp Indent"></A>
<HR SIZE="6">
<A NAME="SEC278"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC277"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC279"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC279"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.3.3 Customizing Lisp Indentation </H3>
<!--docid::SEC278::-->
<P>

  The indentation pattern for a Lisp expression can depend on the function
called by the expression.  For each Lisp function, you can choose among
several predefined patterns of indentation, or define an arbitrary one with
a Lisp program.
</P><P>

  The standard pattern of indentation is as follows: the second line of the
expression is indented under the first argument, if that is on the same
line as the beginning of the expression; otherwise, the second line is
indented underneath the function name.  Each following line is indented
under the previous line whose nesting depth is the same.
</P><P>

<A NAME="IDX1394"></A>
  If the variable <CODE>lisp-indent-offset</CODE> is non-<CODE>nil</CODE>, it overrides
the usual indentation pattern for the second line of an expression, so that
such lines are always indented <CODE>lisp-indent-offset</CODE> more columns than
the containing list.
</P><P>

<A NAME="IDX1395"></A>
  Certain functions override the standard pattern.  Functions whose
names start with <CODE>def</CODE> treat the the second lines as the start of
a <EM>body</EM>, by indenting the second line <CODE>lisp-body-indent</CODE>
additional columns beyond the open-parenthesis that starts the
expression.
</P><P>

  You can override the standard pattern in various ways for individual
functions, according to the <CODE>lisp-indent-function</CODE> property of the
function name.  There are four possibilities for this property:
</P><P>

<DL COMPACT>
<DT><CODE>nil</CODE>
<DD>This is the same as no property--use the standard indentation pattern.
<DT><CODE>defun</CODE>
<DD>Handle this function like a <SAMP>`def'</SAMP> construct: treat the second
line as the start of a <EM>body</EM>.
<DT>a number, <VAR>number</VAR>
<DD>The first <VAR>number</VAR> arguments of the function are
<EM>distinguished</EM> arguments; the rest are considered the body
of the expression.  A line in the expression is indented according to
whether the first argument on it is distinguished or not.  If the
argument is part of the body, the line is indented <CODE>lisp-body-indent</CODE>
more columns than the open-parenthesis starting the containing
expression.  If the argument is distinguished and is either the first
or second argument, it is indented <EM>twice</EM> that many extra columns.
If the argument is distinguished and not the first or second argument,
the line uses the standard pattern.
<DT>a symbol, <VAR>symbol</VAR>
<DD><VAR>symbol</VAR> should be a function name; that function is called to
calculate the indentation of a line within this expression.  The
function receives two arguments:
<DL COMPACT>
<DT><VAR>state</VAR>
<DD>The value returned by <CODE>parse-partial-sexp</CODE> (a Lisp primitive for
indentation and nesting computation) when it parses up to the
beginning of this line.
<DT><VAR>pos</VAR>
<DD>The position at which the line being indented begins.
</DL>
It should return either a number, which is the number of columns of
indentation for that line, or a list whose car is such a number.  The
difference between returning a number and returning a list is that a
number says that all following lines at the same nesting level should
be indented just like this one; a list says that following lines might
call for different indentations.  This makes a difference when the
indentation is being computed by <KBD>C-M-q</KBD>; if the value is a
number, <KBD>C-M-q</KBD> need not recalculate indentation for the following
lines until the end of the list.
</DL>
<P>

<A NAME="C Indent"></A>
<HR SIZE="6">
<A NAME="SEC279"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC278"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC280"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC280"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.3.4 Commands for C Indentation </H3>
<!--docid::SEC279::-->
<P>

  Here are special features for indentation in C mode and related modes:
</P><P>

<DL COMPACT>
<DT><CODE>C-c C-q</CODE>
<DD><A NAME="IDX1396"></A>
<A NAME="IDX1397"></A>
Reindent the current top-level function definition or aggregate type
declaration (<CODE>c-indent-defun</CODE>).
<P>

<DT><CODE>C-M-q</CODE>
<DD><A NAME="IDX1398"></A>
<A NAME="IDX1399"></A>
Reindent each line in the balanced expression that follows point
(<CODE>c-indent-exp</CODE>).  A prefix argument inhibits error checking and
warning messages about invalid syntax.
<P>

<DT><CODE><KBD>TAB</KBD></CODE>
<DD><A NAME="IDX1400"></A>
Reindent the current line, and/or in some cases insert a tab character
(<CODE>c-indent-command</CODE>).
<P>

If <CODE>c-tab-always-indent</CODE> is <CODE>t</CODE>, this command always reindents
the current line and does nothing else.  This is the default.
</P><P>

If that variable is <CODE>nil</CODE>, this command reindents the current line
only if point is at the left margin or in the line's indentation;
otherwise, it inserts a tab (or the equivalent number of spaces,
if <CODE>indent-tabs-mode</CODE> is <CODE>nil</CODE>).
</P><P>

Any other value (not <CODE>nil</CODE> or <CODE>t</CODE>) means always reindent the
line, and also insert a tab if within a comment, a string, or a
preprocessor directive.
</DL>
<P>

  To reindent the whole current buffer, type <KBD>C-x h C-M-\</KBD>.  This
first selects the whole buffer as the region, then reindents that
region.
</P><P>

  To reindent the current block, use <KBD>C-M-u C-M-q</KBD>.  This moves
to the front of the block and then reindents it all.
</P><P>

<A NAME="Custom C Indent"></A>
<HR SIZE="6">
<A NAME="SEC280"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC279"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC275"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.3.5 Customizing C Indentation </H3>
<!--docid::SEC280::-->
<P>

  C mode and related modes use a simple yet flexible mechanism for
customizing indentation.  The mechanism works in two steps: first it
classifies the line syntactically according to its contents and context;
second, it associates each kind of syntactic construct with an
indentation offset based on your selected <EM>style</EM>.
</P><P>

<DL COMPACT>
<DT><KBD>M-x c-set-style <KBD>RET</KBD> <VAR>style</VAR> <KBD>RET</KBD></KBD>
<DD>Select predefined indentation style <VAR>style</VAR>.
</DL>
<P>

  A style is a named collection of indentation customizations that can
be used in C mode and the related modes.  Emacs comes with several
predefined styles, including <CODE>gnu</CODE>, <CODE>k&#38;r</CODE>, <CODE>bsd</CODE>,
<CODE>stroustrup</CODE>, <CODE>linux</CODE>, <CODE>python</CODE>, <CODE>java</CODE>,
<CODE>whitesmith</CODE>, <CODE>ellemtel</CODE>, <CODE>cc-mode</CODE>, and <CODE>user</CODE>.
Some of these styles are primarily intended for one language, but any
of them can be used with any of the languages supported by these
modes.  To find out what a style looks like, select it and reindent
some code, e.g., by typing <KBD>C-M-q</KBD> at the start of a function
definition.
</P><P>

<A NAME="IDX1401"></A>
  To choose a style for the current buffer, use the command <KBD>M-x
c-set-style</KBD>.  Specify a style name as an argument (case is not
significant).  This command affects the current buffer only, and it
affects only future invocations of the indentation commands; it does
not reindent the code in the buffer.  To reindent the whole buffer in
the new style, you can type <KBD>C-x h C-M-\</KBD>.
</P><P>

<A NAME="IDX1402"></A>
  You can also set the variable <CODE>c-default-style</CODE> to specify the
default style for various major modes.  Its value should be an alist,
in which each element specifies one major mode and which indentation
style to use for it.  For example,
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(setq c-default-style
      '((java-mode . "java") (other . "gnu")))
</pre></td></tr></table></P><P>

specifies an explicit choice for Java mode, and the default <SAMP>`gnu'</SAMP>
style for the other C-like modes.  This variable takes effect when you
select one of the C-like major modes; thus, if you specify a new
default style for Java mode, you can make it take effect in an
existing Java mode buffer by typing <KBD>M-x java-mode</KBD> there.
</P><P>

  The <CODE>gnu</CODE> style specifies the formatting recommended by the GNU
Project for C; it is the default, so as to encourage use of our
recommended style.
</P><P>

  See section `Customizing Indentation' in <CITE>the CC Mode Manual</CITE>, for
more information on customizing indentation for C and related modes,
including how to override parts of an existing style and how to define
your own styles.
</P><P>

<A NAME="Parentheses"></A>
<HR SIZE="6">
<A NAME="SEC281"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC280"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC282"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.4 Commands for Editing with Parentheses </H2>
<!--docid::SEC281::-->
<P>

<A NAME="IDX1403"></A>
<A NAME="IDX1404"></A>
  This section describes the commands and features that take advantage
of the parenthesis structure in a program, or help you keep it
balanced.
</P><P>

  When talking about these facilities, the term "parenthesis" also
includes braces, brackets, or whatever delimiters are defined to match
in pairs.  The major mode controls which delimiters are significant,
through the syntax table (see section <A HREF="emacs_33.html#SEC504">AD.6 The Syntax Table</A>).  In Lisp, only parentheses
count; in C, these commands apply to braces and brackets too.
</P><P>

  You can use <KBD>M-x check-parens</KBD> to find any unbalanced
parentheses and unbalanced string quotes in the buffer.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC282">U.4.1 Expressions with Balanced Parentheses</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Expressions with balanced parentheses.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC283">U.4.2 Moving in the Parenthesis Structure</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands for moving up, down and across
                          in the structure of parentheses.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC284">U.4.3 Automatic Display Of Matching Parentheses</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Insertion of a close-delimiter flashes matching open.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Expressions"></A>
<HR SIZE="6">
<A NAME="SEC282"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC283"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.4.1 Expressions with Balanced Parentheses </H3>
<!--docid::SEC282::-->
<P>

<A NAME="IDX1405"></A>
<A NAME="IDX1406"></A>
<A NAME="IDX1407"></A>
  These commands deal with balanced expressions, also called
<EM>sexps</EM><A NAME="DOCF9" HREF="emacs_fot.html#FOOT9">(9)</A>.
</P><P>

<DL COMPACT>
<DT><KBD>C-M-f</KBD>
<DD>Move forward over a balanced expression (<CODE>forward-sexp</CODE>).
<DT><KBD>C-M-b</KBD>
<DD>Move backward over a balanced expression(<CODE>backward-sexp</CODE>).
<DT><KBD>C-M-k</KBD>
<DD>Kill balanced expression forward (<CODE>kill-sexp</CODE>).
<DT><KBD>C-M-<KBD>DEL</KBD></KBD>
<DD>Kill balanced expression backward (<CODE>backward-kill-sexp</CODE>).
<DT><KBD>C-M-t</KBD>
<DD>Transpose expressions (<CODE>transpose-sexps</CODE>).
<DT><KBD>C-M-@</KBD>
<DD>Put mark after following expression (<CODE>mark-sexp</CODE>).
</DL>
<P>

  Each programming language major mode customizes the definition of
balanced expressions to suit that language.  Balanced expressions
typically include symbols, numbers, and string constants, as well as
any pair of matching delimiters and their contents.  Some languages
have obscure forms of expression syntax that nobody has bothered to
implement in Emacs.
</P><P>

<A NAME="IDX1408"></A>
  By convention, the keys for these commands are all Control-Meta
characters.  They usually act on expressions just as the corresponding
Meta characters act on words.  For instance, the command <KBD>C-M-b</KBD>
moves backward over a balanced expression, just as <KBD>M-b</KBD> moves
back over a word.
</P><P>

<A NAME="IDX1409"></A>
<A NAME="IDX1410"></A>
<A NAME="IDX1411"></A>
<A NAME="IDX1412"></A>
  To move forward over a balanced expression, use <KBD>C-M-f</KBD>
(<CODE>forward-sexp</CODE>).  If the first significant character after point
is an opening delimiter (<SAMP>`('</SAMP> in Lisp; <SAMP>`('</SAMP>, <SAMP>`['</SAMP> or
<SAMP>`{'</SAMP> in C), <KBD>C-M-f</KBD> moves past the matching closing
delimiter.  If the character begins a symbol, string, or number,
<KBD>C-M-f</KBD> moves over that.
</P><P>

  The command <KBD>C-M-b</KBD> (<CODE>backward-sexp</CODE>) moves backward over a
balanced expression.  The detailed rules are like those above for
<KBD>C-M-f</KBD>, but with directions reversed.  If there are prefix
characters (single-quote, backquote and comma, in Lisp) preceding the
expression, <KBD>C-M-b</KBD> moves back over them as well.  The balanced
expression commands move across comments as if they were whitespace,
in most modes.
</P><P>

  <KBD>C-M-f</KBD> or <KBD>C-M-b</KBD> with an argument repeats that operation the
specified number of times; with a negative argument, it moves in the
opposite direction.
</P><P>

<A NAME="IDX1413"></A>
<A NAME="IDX1414"></A>
<A NAME="IDX1415"></A>
<A NAME="IDX1416"></A>
<A NAME="IDX1417"></A>
  Killing a whole balanced expression can be done with <KBD>C-M-k</KBD>
(<CODE>kill-sexp</CODE>) or <KBD>C-M-<KBD>DEL</KBD></KBD> (<CODE>backward-kill-sexp</CODE>).
<KBD>C-M-k</KBD> kills the characters that <KBD>C-M-f</KBD> would move over, and
<KBD>C-M-<KBD>DEL</KBD></KBD> kills the characters that <KBD>C-M-b</KBD> would move
over.  On some machines, <KBD>C-M-<KBD>DEL</KBD></KBD> typed on the console is a
command to reboot; when that is so, you cannot use it as an Emacs
command.  This conflict is rare, though: usually the <KBD>DEL</KBD> key for
Emacs is really <KBD>BACKSPACE</KBD>, and the reboot command is
<KBD>C-M-<KBD>DELETE</KBD></KBD>, so there is no conflict.
</P><P>

<A NAME="IDX1418"></A>
<A NAME="IDX1419"></A>
<A NAME="IDX1420"></A>
  A somewhat random-sounding command which is nevertheless handy is
<KBD>C-M-t</KBD> (<CODE>transpose-sexps</CODE>), which drags the previous
balanced expression across the next one.  An argument serves as a
repeat count, and a negative argument drags the previous balanced
expression backwards across those before it (thus canceling out the
effect of <KBD>C-M-t</KBD> with a positive argument).  An argument of zero,
rather than doing nothing, transposes the balanced expressions ending
at or after point and the mark.
</P><P>

<A NAME="IDX1421"></A>
<A NAME="IDX1422"></A>
  To set the region around the next balanced expression in the buffer,
use <KBD>C-M-@</KBD> (<CODE>mark-sexp</CODE>), which sets mark at the same place
that <KBD>C-M-f</KBD> would move to.  <KBD>C-M-@</KBD> takes arguments like
<KBD>C-M-f</KBD>.  In particular, a negative argument is useful for putting
the mark at the beginning of the previous balanced expression.
</P><P>

  In languages that use infix operators, such as C, it is not possible
to recognize all balanced expressions as such because there can be
multiple possibilities at a given position.  For example, C mode does
not treat <SAMP>`foo + bar'</SAMP> as a single expression, even though it
<EM>is</EM> one C expression; instead, it recognizes <SAMP>`foo'</SAMP> as one
expression and <SAMP>`bar'</SAMP> as another, with the <SAMP>`+'</SAMP> as punctuation
between them.  Both <SAMP>`foo + bar'</SAMP> and <SAMP>`foo'</SAMP> are legitimate
choices for "the expression following point" when point is at the
<SAMP>`f'</SAMP>, so the expression commands must perforce choose one or the
other to operate on.  Note that <SAMP>`(foo + bar)'</SAMP> is recognized as a
single expression in C mode, because of the parentheses.
</P><P>

<A NAME="Moving by Parens"></A>
<HR SIZE="6">
<A NAME="SEC283"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC282"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC284"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC284"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.4.2 Moving in the Parenthesis Structure </H3>
<!--docid::SEC283::-->
<P>

<A NAME="IDX1423"></A>
<A NAME="IDX1424"></A>
<A NAME="IDX1425"></A>
<A NAME="IDX1426"></A>
<A NAME="IDX1427"></A>
  The Emacs commands for handling parenthetical groupings see nothing
except parentheses (or whatever characters must balance in the
language you are working with), and the escape characters that might
be used to quote those.  They are mainly intended for editing
programs, but can be useful for editing any text that has parentheses.
They are sometimes called "list" commands because in Lisp these
groupings are lists.
</P><P>

<DL COMPACT>
<DT><KBD>C-M-n</KBD>
<DD>Move forward over a parenthetical group (<CODE>forward-list</CODE>).
<DT><KBD>C-M-p</KBD>
<DD>Move backward over a parenthetical group(<CODE>backward-list</CODE>).
<DT><KBD>C-M-u</KBD>
<DD>Move up in parenthesis structure (<CODE>backward-up-list</CODE>).
<DT><KBD>C-M-d</KBD>
<DD>Move down in parenthesis structure (<CODE>down-list</CODE>).
</DL>
<P>

<A NAME="IDX1428"></A>
<A NAME="IDX1429"></A>
<A NAME="IDX1430"></A>
<A NAME="IDX1431"></A>
  The "list" commands <KBD>C-M-n</KBD> (<CODE>forward-list</CODE>) and
<KBD>C-M-p</KBD> (<CODE>backward-list</CODE>) move over one (or <VAR>n</VAR>)
parenthetical groupings, skipping blithely over any amount of text
that doesn't include meaningful parentheses (symbols, strings, etc.).
</P><P>

<A NAME="IDX1432"></A>
<A NAME="IDX1433"></A>
<A NAME="IDX1434"></A>
<A NAME="IDX1435"></A>
  <KBD>C-M-n</KBD> and <KBD>C-M-p</KBD> try to stay at the same level in the
parenthesis structure.  To move <EM>up</EM> one (or <VAR>n</VAR>) levels, use
<KBD>C-M-u</KBD> (<CODE>backward-up-list</CODE>).  <KBD>C-M-u</KBD> moves backward up
past one unmatched opening delimiter.  A positive argument serves as a
repeat count; a negative argument reverses the direction of motion, so
that the command moves forward and up one or more levels.
</P><P>

  To move <EM>down</EM> in the parenthesis structure, use <KBD>C-M-d</KBD>
(<CODE>down-list</CODE>).  In Lisp mode, where <SAMP>`('</SAMP> is the only opening
delimiter, this is nearly the same as searching for a <SAMP>`('</SAMP>.  An
argument specifies the number of levels to go down.
</P><P>

<A NAME="Matching"></A>
<HR SIZE="6">
<A NAME="SEC284"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC283"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC281"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.4.3 Automatic Display Of Matching Parentheses </H3>
<!--docid::SEC284::-->
<P>

  The Emacs parenthesis-matching feature is designed to show
automatically how parentheses (and other matching delimiters) match in
the text.  Whenever you type a self-inserting character that is a
closing delimiter, the cursor moves momentarily to the location of the
matching opening delimiter, provided that is on the screen.  If it is
not on the screen, Emacs displays some of the text near it in the echo
area.  Either way, you can tell which grouping you are closing off.
</P><P>

  If the opening delimiter and closing delimiter are mismatched--such
as in <SAMP>`[x)'</SAMP>---a warning message is displayed in the echo area.
</P><P>

<A NAME="IDX1436"></A>
<A NAME="IDX1437"></A>
<A NAME="IDX1438"></A>
  Three variables control parenthesis match display.
<CODE>blink-matching-paren</CODE> turns the feature on or off: <CODE>nil</CODE>
disables it, but the default is <CODE>t</CODE> to enable match display.
</P><P>

  <CODE>blink-matching-delay</CODE> says how many seconds to leave the
cursor on the matching opening delimiter, before bringing it back to
the real location of point; the default is 1, but on some systems it
is useful to specify a fraction of a second.
</P><P>

  <CODE>blink-matching-paren-distance</CODE> specifies how many characters
back to search to find the matching opening delimiter.  If the match
is not found in that distance, scanning stops, and nothing is displayed.
This is to prevent the scan for the matching delimiter from wasting
lots of time when there is no match.  The default is 25600.
</P><P>

<A NAME="IDX1439"></A>
<A NAME="IDX1440"></A>
<A NAME="IDX1441"></A>
  Show Paren mode provides a more powerful kind of automatic matching.
Whenever point is after a closing delimiter, that delimiter and its
matching opening delimiter are both highlighted; otherwise, if point
is before an opening delimiter, the matching closing delimiter is
highlighted.  (There is no need to highlight the opening delimiter in
that case, because the cursor appears on top of that character.)  Use
the command <KBD>M-x show-paren-mode</KBD> to enable or disable this mode.
</P><P>

  By default, <CODE>show-paren-mode</CODE> uses colors to highlight the
parentheses.  However, if your display doesn't support colors, you can
customize the faces <CODE>show-paren-match-face</CODE> and
<CODE>show-paren-mismatch-face</CODE> to use other attributes, such as bold or
underline.  See section <A HREF="emacs_33.html#SEC482">AD.2.2.3 Customizing Faces</A>.
</P><P>

<A NAME="Comments"></A>
<HR SIZE="6">
<A NAME="SEC285"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC284"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC286"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.5 Manipulating Comments </H2>
<!--docid::SEC285::-->
<P>

  Because comments are such an important part of programming, Emacs
provides special commands for editing and inserting comments.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC286">U.5.1 Comment Commands</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Inserting, killing, and indenting comments.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC287">U.5.2 Multiple Lines of Comments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands for adding and editing multi-line comments.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC288">U.5.3 Options Controlling Comments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Customizing the comment features.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Comment Commands"></A>
<HR SIZE="6">
<A NAME="SEC286"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC287"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.5.1 Comment Commands </H3>
<!--docid::SEC286::-->
<P>

  The comment commands in this table insert, kill and align comments.
They are described in this section and following sections.
</P><P>

<DL COMPACT>
<DT><KBD>M-;</KBD>
<DD>Insert or realign comment on current line; alternatively, comment or
uncomment the region (<CODE>comment-dwim</CODE>).
<DT><KBD>C-u M-;</KBD>
<DD>Kill comment on current line (<CODE>comment-kill</CODE>).
<DT><KBD>C-x ;</KBD>
<DD>Set comment column (<CODE>comment-set-column</CODE>).
<DT><KBD>C-M-j</KBD>
<DD>Like <KBD>RET</KBD> followed by inserting and aligning a comment
(<CODE>comment-indent-new-line</CODE>).
<DT><KBD>M-x comment-region</KBD>
<DD>Add or remove comment delimiters on all the lines in the region.
</DL>
<P>

<A NAME="IDX1442"></A>
<A NAME="IDX1443"></A>
  The command to create or align a comment is <KBD>M-;</KBD>
(<CODE>comment-dwim</CODE>).  The word "dwim" is an acronym for "Do What
I Mean"; it indicates that this command can be used for many
different jobs relating to comments, depending on the situation where
you use it.
</P><P>

  If there is no comment already on the line, <KBD>M-;</KBD> inserts a new
comment, aligned at a specific column called the <EM>comment column</EM>.
The new comment begins with the string Emacs thinks comments should
start with (the value of <CODE>comment-start</CODE>; see below).  Point is
after that string, so you can insert the text of the comment right
away.  If the major mode has specified a string to terminate comments,
<KBD>M-;</KBD> inserts that too, to keep the syntax valid.
</P><P>

  If the text of the line extends past the comment column, then the
comment start string is indented to a suitable boundary (usually, at
least one space is inserted).
</P><P>

  You can also use <KBD>M-;</KBD> to align an existing comment.  If a line
already contains the comment-start string, <KBD>M-;</KBD> reindents it to
the conventional alignment and moves point after it.  (Exception:
comments starting in column 0 are not moved.)  Even when an existing
comment is properly aligned, <KBD>M-;</KBD> is still useful for moving
directly to the start of the text inside the comment.
</P><P>

<A NAME="IDX1444"></A>
<A NAME="IDX1445"></A>
  <KBD>C-u M-;</KBD> kills any comment on the current line, along with the
whitespace before it.  To reinsert the comment on another line, move
to the end of that line, do <KBD>C-y</KBD>, and then do <KBD>M-;</KBD> to
realign it.
</P><P>

  Note that <KBD>C-u M-;</KBD> is not a distinct key; it is <KBD>M-;</KBD>
(<CODE>comment-dwim</CODE>) with a prefix argument.  That command is
programmed so that when it receives a prefix argument it calls
<CODE>comment-kill</CODE>.  However, <CODE>comment-kill</CODE> is a valid command
in its own right, and you can bind it directly to a key if you wish.
</P><P>

  <KBD>M-;</KBD> does two other jobs when used with an active region in
Transient Mark mode (see section <A HREF="emacs_11.html#SEC54">H.2 Transient Mark Mode</A>).  Then it either adds or
removes comment delimiters on each line of the region.  (If every line
is a comment, it removes comment delimiters from each; otherwise, it
adds comment delimiters to each.)  If you are not using Transient Mark
mode, then you should use the commands <CODE>comment-region</CODE> and
<CODE>uncomment-region</CODE> to do these jobs (see section <A HREF="emacs_24.html#SEC287">U.5.2 Multiple Lines of Comments</A>).
A prefix argument used in these circumstances specifies how many
comment delimiters to add or how many to delete.
</P><P>

  Some major modes have special rules for indenting certain kinds of
comments in certain contexts.  For example, in Lisp code, comments which
start with two semicolons are indented as if they were lines of code,
instead of at the comment column.  Comments which start with three
semicolons are supposed to start at the left margin.  Emacs understands
these conventions by indenting a double-semicolon comment using <KBD>TAB</KBD>,
and by not changing the indentation of a triple-semicolon comment at all.
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>;; This function is just an example
;;; Here either two or three semicolons are appropriate.
(defun foo (x)
;;; And now, the first part of the function:
  ;; The following line adds one.
  (1+ x))           ; This line adds one.
</pre></td></tr></table></P><P>

  In C code, a comment preceded on its line by nothing but whitespace
is indented like a line of code.
</P><P>

<A NAME="Multi-Line Comments"></A>
<HR SIZE="6">
<A NAME="SEC287"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC286"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC288"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC288"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.5.2 Multiple Lines of Comments </H3>
<!--docid::SEC287::-->
<P>

<A NAME="IDX1446"></A>
<A NAME="IDX1447"></A>
<A NAME="IDX1448"></A>
  If you are typing a comment and wish to continue it on another line,
you can use the command <KBD>C-M-j</KBD> (<CODE>comment-indent-new-line</CODE>).
This terminates the comment you are typing, creates a new blank line
afterward, and begins a new comment indented under the old one.  When
Auto Fill mode is on, going past the fill column while typing a comment
causes the comment to be continued in just this fashion.  If point is
not at the end of the line when <KBD>C-M-j</KBD> is typed, the text on
the rest of the line becomes part of the new comment line.
</P><P>

<A NAME="IDX1449"></A>
  To turn existing lines into comment lines, use the <KBD>M-x
comment-region</KBD> command.  It adds comment delimiters to the lines that start
in the region, thus commenting them out.  With a negative argument, it
does the opposite--it deletes comment delimiters from the lines in the
region.
</P><P>

  With a positive argument, <CODE>comment-region</CODE> duplicates the last
character of the comment start sequence it adds; the argument specifies
how many copies of the character to insert.  Thus, in Lisp mode,
<KBD>C-u 2 M-x comment-region</KBD> adds <SAMP>`;;'</SAMP> to each line.  Duplicating
the comment delimiter is a way of calling attention to the comment.  It
can also affect how the comment is indented.  In Lisp, for proper
indentation, you should use an argument of two or three, if between defuns;
if within a defun, it must be three.
</P><P>

<A NAME="Options for Comments"></A>
<HR SIZE="6">
<A NAME="SEC288"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC287"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC285"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.5.3 Options Controlling Comments </H3>
<!--docid::SEC288::-->
<P>

<A NAME="IDX1450"></A>
<A NAME="IDX1451"></A>
<A NAME="IDX1452"></A>
  The comment column is stored in the variable <CODE>comment-column</CODE>.  You
can set it to a number explicitly.  Alternatively, the command <KBD>C-x ;</KBD>
(<CODE>comment-set-column</CODE>) sets the comment column to the column point is
at.  <KBD>C-u C-x ;</KBD> sets the comment column to match the last comment
before point in the buffer, and then does a <KBD>M-;</KBD> to align the
current line's comment under the previous one.
</P><P>

  The variable <CODE>comment-column</CODE> is per-buffer: setting the variable
in the normal fashion affects only the current buffer, but there is a
default value which you can change with <CODE>setq-default</CODE>.
See section <A HREF="emacs_33.html#SEC485">AD.2.4 Local Variables</A>.  Many major modes initialize this variable for the
current buffer.
</P><P>

<A NAME="IDX1453"></A>
  The comment commands recognize comments based on the regular
expression that is the value of the variable <CODE>comment-start-skip</CODE>.
Make sure this regexp does not match the null string.  It may match more
than the comment starting delimiter in the strictest sense of the word;
for example, in C mode the value of the variable is
<CODE>"/\\*+ *\\|//+ *""</CODE>, which matches extra stars and spaces
after the <SAMP>`/*'</SAMP> itself, and accepts C++ style comments also.
(Note that <SAMP>`\\'</SAMP> is needed in Lisp syntax to include a <SAMP>`\'</SAMP> in
the string, which is needed to deny the first star its special meaning
in regexp syntax.  See section <A HREF="emacs_14.html#SEC97">K.5 Syntax of Regular Expressions</A>.)
</P><P>

<A NAME="IDX1454"></A>
<A NAME="IDX1455"></A>
  When a comment command makes a new comment, it inserts the value of
<CODE>comment-start</CODE> to begin it.  The value of <CODE>comment-end</CODE> is
inserted after point, so that it will follow the text that you will insert
into the comment.  In C mode, <CODE>comment-start</CODE> has the value
<CODE>"/* "</CODE> and <CODE>comment-end</CODE> has the value <CODE>" */"</CODE>.
</P><P>

<A NAME="IDX1456"></A>
  The variable <CODE>comment-padding</CODE> specifies how many spaces
<CODE>comment-region</CODE> should insert on each line between the
comment delimiter and the line's original text.  The default is 1,
to insert one space.
</P><P>

<A NAME="IDX1457"></A>
  The variable <CODE>comment-multi-line</CODE> controls how <KBD>C-M-j</KBD>
(<CODE>indent-new-comment-line</CODE>) behaves when used inside a comment.  If
<CODE>comment-multi-line</CODE> is <CODE>nil</CODE>, as it normally is, then the
comment on the starting line is terminated and a new comment is started
on the new following line.  If <CODE>comment-multi-line</CODE> is not
<CODE>nil</CODE>, then the new following line is set up as part of the same
comment that was found on the starting line.  This is done by not
inserting a terminator on the old line, and not inserting a starter on
the new line.  In languages where multi-line comments work, the choice
of value for this variable is a matter of taste.
</P><P>

<A NAME="IDX1458"></A>
  The variable <CODE>comment-indent-function</CODE> should contain a function
that will be called to compute the indentation for a newly inserted
comment or for aligning an existing comment.  It is set differently by
various major modes.  The function is called with no arguments, but with
point at the beginning of the comment, or at the end of a line if a new
comment is to be inserted.  It should return the column in which the
comment ought to start.  For example, in Lisp mode, the indent hook
function bases its decision on how many semicolons begin an existing
comment, and on the code in the preceding lines.
</P><P>

<A NAME="Documentation"></A>
<HR SIZE="6">
<A NAME="SEC289"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC288"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC290"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.6 Documentation Lookup </H2>
<!--docid::SEC289::-->
<P>

  Emacs provides several features you can use to look up the
documentation of functions, variables and commands that you plan to
use in your program.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC290">U.6.1 Info Documentation Lookup</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Looking up library functions and commands
                          in Info files.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC291">U.6.2 Man Page Lookup</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Looking up man pages of library functions and commands.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC292">U.6.3 Emacs Lisp Documentation Lookup</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Looking up Emacs Lisp functions, etc.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Info Lookup"></A>
<HR SIZE="6">
<A NAME="SEC290"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC291"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.6.1 Info Documentation Lookup </H3>
<!--docid::SEC290::-->
<P>

<A NAME="IDX1459"></A>
<A NAME="IDX1460"></A>
<A NAME="IDX1461"></A>
  For C, Lisp, and other languages that have documentation in Info,
you can use <KBD>C-h C-i</KBD> (<CODE>info-lookup-symbol</CODE>) to view the Info
documentation for a symbol.  You specify the symbol with the
minibuffer; the default is the symbol appearing in the buffer at
point.
</P><P>

  The major mode determines where to look for documentation for the
symbol--which Info files to look in, and which indices to search.
You can also use <KBD>M-x info-lookup-file</KBD> to look for documentation
for a file name.
</P><P>

  This feature currently supports the modes Awk, Autoconf, Bison, C,
Emacs Lisp, LaTeX, M4, Makefile, Octave, Perl, Scheme, and Texinfo,
provided you have installed the relevant Info files, which are
typically available with the appropriate GNU package.
</P><P>

<A NAME="Man Page"></A>
<HR SIZE="6">
<A NAME="SEC291"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC290"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC292"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC292"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.6.2 Man Page Lookup </H3>
<!--docid::SEC291::-->
<P>

<A NAME="IDX1462"></A>
  On Unix, the main form of on-line documentation was the <EM>manual
page</EM> or <EM>man page</EM>.  In the GNU operating system, we hope to
replace man pages with better-organized manuals that you can browse
with Info (see section <A HREF="emacs_10.html#SEC50">G.8 Other Help Commands</A>).  This process is not finished, so it is
still useful to read manual pages.
</P><P>

<A NAME="IDX1463"></A>
  You can read the man page for an operating system command, library
function, or system call, with the <KBD>M-x manual-entry</KBD> command.  It
runs the <CODE>man</CODE> program to format the man page; if the system
permits, it runs <CODE>man</CODE> asynchronously, so that you can keep on
editing while the page is being formatted.  (On MS-DOS and MS-Windows
3, you cannot edit while Emacs waits for <CODE>man</CODE> to finish.)  The
result goes in a buffer named <SAMP>`*Man <VAR>topic</VAR>*'</SAMP>.  These buffers
use a special major mode, Man mode, that facilitates scrolling and
jumping to other manual pages.  For details, type <KBD>C-h m</KBD> while in
a man page buffer.
</P><P>

<A NAME="IDX1464"></A>
  Each man page belongs to one of ten or more <EM>sections</EM>, each
named by a digit or by a digit and a letter.  Sometimes there are
multiple man pages with the same name in different sections.  To read
a man page from a specific section, type
<SAMP>`<VAR>topic</VAR>(<VAR>section</VAR>)'</SAMP> or <SAMP>`<VAR>section</VAR> <VAR>topic</VAR>'</SAMP>
when <KBD>M-x manual-entry</KBD> prompts for the topic.  For example, to
read the man page for the C library function <CODE>chmod</CODE> (as opposed
to a command of the same name), type <KBD>M-x manual-entry <KBD>RET</KBD>
chmod(2) <KBD>RET</KBD></KBD> (<CODE>chmod</CODE> is a system call, so it is in
section <SAMP>`2'</SAMP>).
</P><P>

<A NAME="IDX1465"></A>
  If you do not specify a section, the results depend on how the
<CODE>man</CODE> program works on your system.  Some of them display only
the first man page they find.  Others display all man pages that have
the specified name, so you can move between them with the <KBD>M-n</KBD>
and <KBD>M-p</KBD> keys<A NAME="DOCF10" HREF="emacs_fot.html#FOOT10">(10)</A>.
The mode line shows how many manual pages are present in the Man buffer.
</P><P>

<A NAME="IDX1466"></A>
  By default, Emacs highlights the text in man pages.  For a long man
page, highlighting can take substantial time.  You can turn off
highlighting of man pages by setting the variable
<CODE>Man-fontify-manpage-flag</CODE> to <CODE>nil</CODE>.
</P><P>

<A NAME="IDX1467"></A>
  If you insert the text of a man page into an Emacs buffer in some
other fashion, you can use the command <KBD>M-x Man-fontify-manpage</KBD> to
perform the same conversions that <KBD>M-x manual-entry</KBD> does.
</P><P>

<A NAME="IDX1468"></A>
<A NAME="IDX1469"></A>
  An alternative way of reading manual pages is the <KBD>M-x woman</KBD>
command<A NAME="DOCF11" HREF="emacs_fot.html#FOOT11">(11)</A>.  Unlike <KBD>M-x man</KBD>, it does not run any external
programs to format and display the man pages; instead it does the job
in Emacs Lisp, so it works on systems such as MS-Windows, where the
<CODE>man</CODE> program (and the other programs it uses) are not generally
available.
</P><P>

  <KBD>M-x woman</KBD> prompts for a name of a manual page, and provides
completion based on the list of manual pages that are installed on
your machine; the list of available manual pages is computed
automatically the first time you invoke <CODE>woman</CODE>.  The word at
point in the current buffer is used to suggest the default for the
name the manual page.
</P><P>

  With a numeric argument, <KBD>M-x woman</KBD> recomputes the list of the
manual pages used for completion.  This is useful if you add or delete
manual pages.
</P><P>

  If you type a name of a manual page and <KBD>M-x woman</KBD> finds that
several manual pages by the same name exist in different sections, it
pops up a window with possible candidates asking you to choose one of
them.
</P><P>

<A NAME="IDX1470"></A>
  By default, <KBD>M-x woman</KBD> looks for manual pages in the
directories specified in the <CODE>MANPATH</CODE> environment variable.  (If
<CODE>MANPATH</CODE> is not set, <CODE>woman</CODE> uses a suitable default value,
which can be customized.)  More precisely, <CODE>woman</CODE> looks for
subdirectories that match the shell wildcard pattern <TT>`man*'</TT> in each one
of these directories, and tries to find the manual pages in those
subdirectories.  When first invoked, <KBD>M-x woman</KBD> converts the
value of <CODE>MANPATH</CODE> to a list of directory names and stores that
list in the <CODE>woman-manpath</CODE> variable.  Changing the value of this
variable is another way to control the list of directories used.
</P><P>

<A NAME="IDX1471"></A>
  You can also augment the list of directories searched by
<CODE>woman</CODE> by setting the value of the <CODE>woman-path</CODE> variable.
This variable should hold a list of specific directories which
<CODE>woman</CODE> should search, in addition to those in
<CODE>woman-manpath</CODE>.  Unlike <CODE>woman-manpath</CODE>, the directories in
<CODE>woman-path</CODE> are searched for the manual pages, not for
<TT>`man*'</TT> subdirectories.
</P><P>

<A NAME="IDX1472"></A>
  Occasionally, you might need to display manual pages that are not in
any of the directories listed by <CODE>woman-manpath</CODE> and
<CODE>woman-path</CODE>.  The <KBD>M-x woman-find-file</KBD> command prompts for a
name of a manual page file, with completion, and then formats and
displays that file like <KBD>M-x woman</KBD> does.
</P><P>

<A NAME="IDX1473"></A>
  The first time you invoke <KBD>M-x woman</KBD>, it defines the Dired
<KBD>W</KBD> key to run the <CODE>woman-find-file</CODE> command on the current
line's file.  You can disable this by setting the variable
<CODE>woman-dired-keys</CODE> to <CODE>nil</CODE>.  See section <A HREF="emacs_31.html#SEC396">AB. Dired, the Directory Editor</A>.  In addition,
the Tar-mode <KBD>w</KBD> key is define to invoke <CODE>woman-find-file</CODE> on
the current line's archive member.
</P><P>

  For more information about setting up and using <KBD>M-x woman</KBD>, see
section `Browse UN*X Manual Pages WithOut Man' in <CITE>The WoMan Manual</CITE>.
</P><P>

<A NAME="Lisp Doc"></A>
<HR SIZE="6">
<A NAME="SEC292"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC291"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC289"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.6.3 Emacs Lisp Documentation Lookup </H3>
<!--docid::SEC292::-->
<P>

  As you edit Lisp code to be run in Emacs, you can use the commands
<KBD>C-h f</KBD> (<CODE>describe-function</CODE>) and <KBD>C-h v</KBD>
(<CODE>describe-variable</CODE>) to view documentation of functions and
variables that you want to use.  These commands use the minibuffer to
read the name of a function or variable to document, and display the
documentation in a window.  Their default arguments are based on the
code in the neighborhood of point.  For <KBD>C-h f</KBD>, the default is
the function called in the innermost list containing point.  <KBD>C-h
v</KBD> uses the symbol name around or adjacent to point as its default.
</P><P>

<A NAME="IDX1474"></A>
<A NAME="IDX1475"></A>
  A more automatic but less powerful method is Eldoc mode.  This minor
mode constantly displays in the echo area the argument list for the
function being called at point.  (In other words, it finds the
function call that point is contained in, and displays the argument
list of that function.)  Eldoc mode applies in Emacs Lisp and Lisp
Interaction modes only.  Use the command <KBD>M-x eldoc-mode</KBD> to
enable or disable this feature.
</P><P>

<A NAME="Hideshow"></A>
<HR SIZE="6">
<A NAME="SEC293"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC292"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC294"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC294"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.7 Hideshow minor mode </H2>
<!--docid::SEC293::-->
<P>

<A NAME="IDX1476"></A>
  Hideshow minor mode provides selective display of portions of a
program, known as <EM>blocks</EM>.  You can use <KBD>M-x hs-minor-mode</KBD>
to enable or disable this mode, or add <CODE>hs-minor-mode</CODE> to the
mode hook for certain major modes in order to enable it automatically
for those modes.
</P><P>

  Just what constitutes a block depends on the major mode.  In C mode
or C++ mode, they are delimited by braces, while in Lisp mode and
similar modes they are delimited by parentheses.  Multi-line comments
also count as blocks.
</P><P>

<A NAME="IDX1477"></A>
<A NAME="IDX1478"></A>
<A NAME="IDX1479"></A>
<A NAME="IDX1480"></A>
<A NAME="IDX1481"></A>
<A NAME="IDX1482"></A>
<A NAME="IDX1483"></A>
<A NAME="IDX1484"></A>
<A NAME="IDX1485"></A>
<A NAME="IDX1486"></A>
<A NAME="IDX1487"></A>
<A NAME="IDX1488"></A>
<A NAME="IDX1489"></A>
<A NAME="IDX1490"></A>
<DL COMPACT>
<DT><KBD>C-c @ C-h</KBD>
<DD>Hide the current block (<CODE>hs-hide-block</CODE>).
<DT><KBD>C-c @ C-s</KBD>
<DD>Show the current block (<CODE>hs-show-block</CODE>).
<DT><KBD>C-c @ C-c</KBD>
<DD>Either hide or show the current block (<CODE>hs-toggle-hiding</CODE>)
<DT><KBD>S-Mouse-2</KBD>
<DD>Either hide or show the block you click on (<CODE>hs-mouse-toggle-hiding</CODE>)
<DT><KBD>C-c @ C-M-h</KBD>
<DD>Hide all top-level blocks (<CODE>hs-hide-all</CODE>).
<DT><KBD>C-c @ C-M-s</KBD>
<DD>Show everything in the buffer (<CODE>hs-show-all</CODE>).
<DT><KBD>C-c @ C-l</KBD>
<DD>Hide all blocks <VAR>n</VAR> levels below this block
(<CODE>hs-hide-level</CODE>).
</DL>
<P>

<A NAME="IDX1491"></A>
<A NAME="IDX1492"></A>
<A NAME="IDX1493"></A>
  These user options exist for customizing Hideshow mode.
</P><P>

<DL COMPACT>
<DT><CODE>hs-hide-comments-when-hiding-all</CODE>
<DD>Non-<CODE>nil</CODE> says that <KBD>hs-hide-all</KBD> should hide comments too.
<P>

<DT><CODE>hs-isearch-open</CODE>
<DD>Specifies what kind of hidden blocks to open in Isearch mode.
The value should be one of these four symbols.
<P>

<DL COMPACT>
<DT><CODE>code</CODE>
<DD>Open only code blocks.
<DT><CODE>comment</CODE>
<DD>Open only comments.
<DT><CODE>t</CODE>
<DD>Open both code blocks and comments.
<DT><CODE>nil</CODE>
<DD>Open neither code blocks nor comments.
</DL>
<P>

<DT><CODE>hs-special-modes-alist</CODE>
<DD>A list of elements, each specifying how to initialize Hideshow
variables for one major mode.  See the variable's documentation string
for more information.
</DL>
<P>

<A NAME="Symbol Completion"></A>
<HR SIZE="6">
<A NAME="SEC294"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC293"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC295"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC295"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.8 Completion for Symbol Names </H2>
<!--docid::SEC294::-->
<P>

  In Emacs, completion is something you normally do in the minibuffer.
But one kind of completion is available in all buffers: completion for
symbol names.
</P><P>

<A NAME="IDX1494"></A>
  The character <KBD>M-<KBD>TAB</KBD></KBD> runs a command to complete the
partial symbol before point against the set of meaningful symbol
names.  This command inserts at point any additional characters that
it can determine from the partial name.
</P><P>

  If the partial name in the buffer has multiple possible completions
that differ in the very next character, so that it is impossible to
complete even one more character, <KBD>M-<KBD>TAB</KBD></KBD> displays a list of
all possible completions in another window.
</P><P>

<A NAME="IDX1495"></A>
<A NAME="IDX1496"></A>
<A NAME="IDX1497"></A>
  In most programming language major modes, <KBD>M-<KBD>TAB</KBD></KBD> runs the
command <CODE>complete-symbol</CODE>, which provides two kinds of completion.
Normally it does completion based on a tags table (see section <A HREF="emacs_26.html#SEC334">W.2 Tags Tables</A>); with a
numeric argument (regardless of the value), it does completion based on
the names listed in the Info file indexes for your language.  Thus, to
complete the name of a symbol defined in your own program, use
<KBD>M-<KBD>TAB</KBD></KBD> with no argument; to complete the name of a standard
library function, use <KBD>C-u M-<KBD>TAB</KBD></KBD>.  Of course, Info-based
completion works only if there is an Info file for the standard library
functions of your language, and only if it is installed at your site.
</P><P>

<A NAME="IDX1498"></A>
<A NAME="IDX1499"></A>
<A NAME="IDX1500"></A>
  In Emacs-Lisp mode, the name space for completion normally consists of
nontrivial symbols present in Emacs--those that have function
definitions, values or properties.  However, if there is an
open-parenthesis immediately before the beginning of the partial symbol,
only symbols with function definitions are considered as completions.
The command which implements this is <CODE>lisp-complete-symbol</CODE>.
</P><P>

  In Text mode and related modes, <KBD>M-<KBD>TAB</KBD></KBD> completes words
based on the spell-checker's dictionary.  See section <A HREF="emacs_15.html#SEC109">L.4 Checking and Correcting Spelling</A>.
</P><P>

<A NAME="Glasses"></A>
<HR SIZE="6">
<A NAME="SEC295"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC294"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC296"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.9 Glasses minor mode </H2>
<!--docid::SEC295::-->
<P>

  Glasses minor mode makes <SAMP>`unreadableIdentifiersLikeThis'</SAMP>
readable by altering the way they display.  It knows two different
ways to do this: by displaying underscores between a lower-case letter
and the following capital letter, and by emboldening the capital
letters.  It does not alter the buffer text, only the way they
display, so you can use it even on read-only buffers.  You can use the
command <KBD>M-x glasses-mode</KBD> to enable or disable the mode in the
current buffer; you can also add <CODE>glasses-mode</CODE> to the mode hook
of the programming language major modes in which you normally want
to use Glasses mode.        
</P><P>

<A NAME="Misc for Programs"></A>
<HR SIZE="6">
<A NAME="SEC296"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC295"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.10 Other Features Useful for Editing Programs </H2>
<!--docid::SEC296::-->
<P>

  A number of Emacs commands that aren't designed specifically for
editing programs are useful for that nonetheless.
</P><P>

  The Emacs commands that operate on words, sentences and paragraphs
are useful for editing code.  Most symbols names contain words
(see section <A HREF="emacs_23.html#SEC234">T.1 Words</A>); sentences can be found in strings and comments
(see section <A HREF="emacs_23.html#SEC235">T.2 Sentences</A>).  Paragraphs in the strict sense can be found in
program code (in long comments), but the paragraph commands are useful
in other places too, because programming language major modes define
paragraphs to begin and end at blank lines (see section <A HREF="emacs_23.html#SEC236">T.3 Paragraphs</A>).
Judicious use of blank lines to make the program clearer will also
provide useful chunks of text for the paragraph commands to work on.
Auto Fill mode, if enabled in a programming language major mode,
indents the new lines which it creates.
</P><P>

  The selective display feature is useful for looking at the overall
structure of a function (see section <A HREF="emacs_13.html#SEC86">J.9 Selective Display</A>).  This feature
hides the lines that are indented more than a specified amount.
Programming modes often support Outline minor mode (see section <A HREF="emacs_23.html#SEC246">T.8 Outline Mode</A>).  The Foldout package provides folding-editor features
(see section <A HREF="emacs_23.html#SEC251">T.8.5 Folding Editing</A>).
</P><P>

  The "automatic typing" features may be useful for writing programs.
See section `Autotyping' in <CITE>Autotyping</CITE>.
</P><P>

<A NAME="C Modes"></A>
<HR SIZE="6">
<A NAME="SEC297"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC296"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC298"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.11 C and Related Modes </H2>
<!--docid::SEC297::-->
<P>

  This section gives a brief description of the special features
available in C, C++, Objective-C, Java, CORBA IDL, and Pike modes.
(These are called "C mode and related modes.")  See section `ccmode' in <CITE>CC Mode</CITE>, for a more extensive description of these modes
and their special features.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC298">U.11.1 C Mode Motion Commands</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands to move by C statements, etc.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC299">U.11.2 Electric C Characters</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Colon and other chars can automatically reindent.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC300">U.11.3 Hungry Delete Feature in C</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">A more powerful DEL command.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC301">U.11.4 Other Commands for C Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Filling comments, viewing expansion of macros,
                          and other neat features.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC302">U.11.5 Comments in C Modes</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Options for customizing comment style.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Motion in C"></A>
<HR SIZE="6">
<A NAME="SEC298"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC299"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.11.1 C Mode Motion Commands </H3>
<!--docid::SEC298::-->
<P>

  This section describes commands for moving point, in C mode and
related modes.
</P><P>

<DL COMPACT>
<DT><CODE>C-c C-u</CODE>
<DD><A NAME="IDX1501"></A>
<A NAME="IDX1502"></A>
Move point back to the containing preprocessor conditional, leaving the
mark behind.  A prefix argument acts as a repeat count.  With a negative
argument, move point forward to the end of the containing
preprocessor conditional.  When going backwards, <CODE>#elif</CODE> is treated
like <CODE>#else</CODE> followed by <CODE>#if</CODE>.  When going forwards,
<CODE>#elif</CODE> is ignored.<P>

<DT><CODE>C-c C-p</CODE>
<DD><A NAME="IDX1503"></A>
<A NAME="IDX1504"></A>
Move point back over a preprocessor conditional, leaving the mark
behind.  A prefix argument acts as a repeat count.  With a negative
argument, move forward.
<P>

<DT><CODE>C-c C-n</CODE>
<DD><A NAME="IDX1505"></A>
<A NAME="IDX1506"></A>
Move point forward across a preprocessor conditional, leaving the mark
behind.  A prefix argument acts as a repeat count.  With a negative
argument, move backward.
<P>

<DT><CODE>M-a</CODE>
<DD><A NAME="IDX1507"></A>
<A NAME="IDX1508"></A>
Move point to the beginning of the innermost C statement
(<CODE>c-beginning-of-statement</CODE>).  If point is already at the beginning
of a statement, move to the beginning of the preceding statement.  With
prefix argument <VAR>n</VAR>, move back <VAR>n</VAR> - 1 statements.
<P>

If point is within a string or comment, or next to a comment (only
whitespace between them), this command moves by sentences instead of
statements.
</P><P>

When called from a program, this function takes three optional
arguments: the numeric prefix argument, a buffer position limit
(don't move back before that place), and a flag that controls whether
to do sentence motion when inside of a comment.
</P><P>

<DT><CODE>M-e</CODE>
<DD><A NAME="IDX1509"></A>
<A NAME="IDX1510"></A>
Move point to the end of the innermost C statement; like <KBD>M-a</KBD>
except that it moves in the other direction (<CODE>c-end-of-statement</CODE>).
<P>

<DT><CODE>M-x c-backward-into-nomenclature</CODE>
<DD><A NAME="IDX1511"></A>
Move point backward to beginning of a C++ nomenclature section or word.
With prefix argument <VAR>n</VAR>, move <VAR>n</VAR> times.  If <VAR>n</VAR> is
negative, move forward.  C++ nomenclature means a symbol name in the
style of NamingSymbolsWithMixedCaseAndNoUnderlines; each capital letter
begins a section or word.
<P>

In the GNU project, we recommend using underscores to separate words
within an identifier in C or C++, rather than using case distinctions.
</P><P>

<DT><CODE>M-x c-forward-into-nomenclature</CODE>
<DD><A NAME="IDX1512"></A>
Move point forward to end of a C++ nomenclature section or word.
With prefix argument <VAR>n</VAR>, move <VAR>n</VAR> times.
</DL>
<P>

<A NAME="Electric C"></A>
<HR SIZE="6">
<A NAME="SEC299"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC298"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC300"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC300"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.11.2 Electric C Characters </H3>
<!--docid::SEC299::-->
<P>

  In C mode and related modes, certain printing characters are
"electric"---in addition to inserting themselves, they also reindent
the current line and may insert newlines.  This feature is controlled by
the variable <CODE>c-auto-newline</CODE>.  The "electric" characters are
<KBD>{</KBD>, <KBD>}</KBD>, <KBD>:</KBD>, <KBD>#</KBD>, <KBD>;</KBD>, <KBD>,</KBD>, <KBD>&#60;</KBD>,
<KBD>&#62;</KBD>, <KBD>/</KBD>, <KBD>*</KBD>, <KBD>(</KBD>, and <KBD>)</KBD>.
</P><P>

  Electric characters insert newlines only when the <EM>auto-newline</EM>
feature is enabled (indicated by <SAMP>`/a'</SAMP> in the mode line after the
mode name).  This feature is controlled by the variable
<CODE>c-auto-newline</CODE>.  You can turn this feature on or off with the
command <KBD>C-c C-a</KBD>:
</P><P>

<DL COMPACT>
<DT><KBD>C-c C-a</KBD>
<DD><A NAME="IDX1513"></A>
<A NAME="IDX1514"></A>
Toggle the auto-newline feature (<CODE>c-toggle-auto-state</CODE>).  With a
prefix argument, this command turns the auto-newline feature on if the
argument is positive, and off if it is negative.
</DL>
<P>

  The colon character is electric because that is appropriate for a
single colon.  But when you want to insert a double colon in C++, the
electric behavior of colon is inconvenient.  You can insert a double
colon with no reindentation or newlines by typing <KBD>C-c :</KBD>:
</P><P>

<DL COMPACT>
<DT><KBD>C-c :</KBD>
<DD><A NAME="IDX1515"></A>
<A NAME="IDX1516"></A>
Insert a double colon scope operator at point, without reindenting the
line or adding any newlines (<CODE>c-scope-operator</CODE>).
</DL>
<P>

  The electric <KBD>#</KBD> key reindents the line if it appears to be the
beginning of a preprocessor directive.  This happens when the value of
<CODE>c-electric-pound-behavior</CODE> is <CODE>(alignleft)</CODE>.  You can turn
this feature off by setting <CODE>c-electric-pound-behavior</CODE> to
<CODE>nil</CODE>.
</P><P>

   The variable <CODE>c-hanging-braces-alist</CODE> controls the insertion of
newlines before and after inserted braces.  It is an association list
with elements of the following form: <CODE>(<VAR>syntactic-symbol</VAR>
. <VAR>nl-list</VAR>)</CODE>.  Most of the syntactic symbols that appear in
<CODE>c-offsets-alist</CODE> are meaningful here as well.
</P><P>

   The list <VAR>nl-list</VAR> may contain either of the symbols
<CODE>before</CODE> or <CODE>after</CODE>, or both; or it may be <CODE>nil</CODE>.  When a
brace is inserted, the syntactic context it defines is looked up in
<CODE>c-hanging-braces-alist</CODE>; if it is found, the <VAR>nl-list</VAR> is used
to determine where newlines are inserted: either before the brace,
after, or both.  If not found, the default is to insert a newline both
before and after braces.
</P><P>

   The variable <CODE>c-hanging-colons-alist</CODE> controls the insertion of
newlines before and after inserted colons.  It is an association list
with elements of the following form: <CODE>(<VAR>syntactic-symbol</VAR>
. <VAR>nl-list</VAR>)</CODE>.  The list <VAR>nl-list</VAR> may contain either of the
symbols <CODE>before</CODE> or <CODE>after</CODE>, or both; or it may be <CODE>nil</CODE>.
</P><P>

   When a colon is inserted, the syntactic symbol it defines is looked
up in this list, and if found, the <VAR>nl-list</VAR> is used to determine
where newlines are inserted: either before the brace, after, or both.
If the syntactic symbol is not found in this list, no newlines are
inserted.
</P><P>

   Electric characters can also delete newlines automatically when the
auto-newline feature is enabled.  This feature makes auto-newline more
acceptable, by deleting the newlines in the most common cases where you
do not want them.  Emacs can recognize several cases in which deleting a
newline might be desirable; by setting the variable
<CODE>c-cleanup-list</CODE>, you can specify <EM>which</EM> of these cases that
should happen.  The variable's value is a list of symbols, each
describing one case for possible deletion of a newline.  Here are the
meaningful symbols, and their meanings:
</P><P>

<DL COMPACT>
<DT><CODE>brace-catch-brace</CODE>
<DD>Clean up <SAMP>`} catch (<VAR>condition</VAR>) {'</SAMP> constructs by placing the
entire construct on a single line.  The clean-up occurs when you type
the <SAMP>`{'</SAMP>, if there is nothing between the braces aside from
<CODE>catch</CODE> and <VAR>condition</VAR>.
<P>

<DT><CODE>brace-else-brace</CODE>
<DD>Clean up <SAMP>`} else {'</SAMP> constructs by placing the entire construct on
a single line.  The clean-up occurs when you type the <SAMP>`{'</SAMP> after
the <CODE>else</CODE>, but only if there is nothing but white space between
the braces and the <CODE>else</CODE>.
<P>

<DT><CODE>brace-elseif-brace</CODE>
<DD>Clean up <SAMP>`} else if (<small>...</small>) {'</SAMP> constructs by placing the entire
construct on a single line.  The clean-up occurs when you type the
<SAMP>`{'</SAMP>, if there is nothing but white space between the <SAMP>`}'</SAMP> and
<SAMP>`{'</SAMP> aside from the keywords and the <CODE>if</CODE>-condition.
<P>

<DT><CODE>empty-defun-braces</CODE>
<DD>Clean up empty defun braces by placing the braces on the same
line.  Clean-up occurs when you type the closing brace.
<P>

<DT><CODE>defun-close-semi</CODE>
<DD>Clean up the semicolon after a <CODE>struct</CODE> or similar type
declaration, by placing the semicolon on the same line as the closing
brace.  Clean-up occurs when you type the semicolon.
<P>

<DT><CODE>list-close-comma</CODE>
<DD>Clean up commas following braces in array and aggregate
initializers.  Clean-up occurs when you type the comma.
<P>

<DT><CODE>scope-operator</CODE>
<DD>Clean up double colons which may designate a C++ scope operator, by
placing the colons together.  Clean-up occurs when you type the second
colon, but only when the two colons are separated by nothing but
whitespace.
</DL>
<P>

<A NAME="Hungry Delete"></A>
<HR SIZE="6">
<A NAME="SEC300"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC299"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC301"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC301"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.11.3 Hungry Delete Feature in C </H3>
<!--docid::SEC300::-->
<P>

  When the <EM>hungry-delete</EM> feature is enabled (indicated by
<SAMP>`/h'</SAMP> or <SAMP>`/ah'</SAMP> in the mode line after the mode name), a single
<KBD>DEL</KBD> command deletes all preceding whitespace, not just one space.
To turn this feature on or off, use <KBD>C-c C-d</KBD>:
</P><P>

<DL COMPACT>
<DT><KBD>C-c C-d</KBD>
<DD><A NAME="IDX1517"></A>
<A NAME="IDX1518"></A>
Toggle the hungry-delete feature (<CODE>c-toggle-hungry-state</CODE>).  With a
prefix argument, this command turns the hungry-delete feature on if the
argument is positive, and off if it is negative.
<P>

<DT><KBD>C-c C-t</KBD>
<DD><A NAME="IDX1519"></A>
<A NAME="IDX1520"></A>
Toggle the auto-newline and hungry-delete features, both at once
(<CODE>c-toggle-auto-hungry-state</CODE>).
</DL>
<P>

<A NAME="IDX1521"></A>
   The variable <CODE>c-hungry-delete-key</CODE> controls whether the
hungry-delete feature is enabled.
</P><P>

<A NAME="Other C Commands"></A>
<HR SIZE="6">
<A NAME="SEC301"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC300"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC302"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC302"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.11.4 Other Commands for C Mode </H3>
<!--docid::SEC301::-->
<P>

<DL COMPACT>
<DT><KBD>C-M-h</KBD>
<DD>Put mark at the end of a function definition, and put point at the
beginning (<CODE>c-mark-function</CODE>).
<P>

<DT><KBD>M-q</KBD>
<DD><A NAME="IDX1522"></A>
<A NAME="IDX1523"></A>
Fill a paragraph, handling C and C++ comments (<CODE>c-fill-paragraph</CODE>).
If any part of the current line is a comment or within a comment, this
command fills the comment or the paragraph of it that point is in,
preserving the comment indentation and comment delimiters.
<P>

<DT><KBD>C-c C-e</KBD>
<DD><A NAME="IDX1524"></A>
<A NAME="IDX1525"></A>
<A NAME="IDX1526"></A>
<A NAME="IDX1527"></A>
Run the C preprocessor on the text in the region, and show the result,
which includes the expansion of all the macro calls
(<CODE>c-macro-expand</CODE>).  The buffer text before the region is also
included in preprocessing, for the sake of macros defined there, but the
output from this part isn't shown.
<P>

When you are debugging C code that uses macros, sometimes it is hard to
figure out precisely how the macros expand.  With this command, you
don't have to figure it out; you can see the expansions.
</P><P>

<DT><KBD>C-c C-\</KBD>
<DD><A NAME="IDX1528"></A>
<A NAME="IDX1529"></A>
Insert or align <SAMP>`\'</SAMP> characters at the ends of the lines of the
region (<CODE>c-backslash-region</CODE>).  This is useful after writing or
editing a C macro definition.
<P>

If a line already ends in <SAMP>`\'</SAMP>, this command adjusts the amount of
whitespace before it.  Otherwise, it inserts a new <SAMP>`\'</SAMP>.  However,
the last line in the region is treated specially; no <SAMP>`\'</SAMP> is
inserted on that line, and any <SAMP>`\'</SAMP> there is deleted.
</P><P>

<DT><KBD>M-x cpp-highlight-buffer</KBD>
<DD><A NAME="IDX1530"></A>
<A NAME="IDX1531"></A>
Highlight parts of the text according to its preprocessor conditionals.
This command displays another buffer named <SAMP>`*CPP Edit*'</SAMP>, which
serves as a graphic menu for selecting how to display particular kinds
of conditionals and their contents.  After changing various settings,
click on <SAMP>`[A]pply these settings'</SAMP> (or go to that buffer and type
<KBD>a</KBD>) to rehighlight the C mode buffer accordingly.
<P>

<DT><KBD>C-c C-s</KBD>
<DD><A NAME="IDX1532"></A>
<A NAME="IDX1533"></A>
Display the syntactic information about the current source line
(<CODE>c-show-syntactic-information</CODE>).  This is the information that
directs how the line is indented.
<P>

<DT><KBD>M-x cwarn-mode</KBD>
<DD><DT><KBD>M-x global-cwarn-mode</KBD>
<DD><A NAME="IDX1534"></A>
<A NAME="IDX1535"></A>
<A NAME="IDX1536"></A>
<A NAME="IDX1537"></A>
CWarn minor mode highlights certain suspicious C and C++ constructions:
<P>

<UL>
<LI>
Assignments inside expressions.
<LI>
Semicolon following immediately after <SAMP>`if'</SAMP>, <SAMP>`for'</SAMP>, and <SAMP>`while'</SAMP>
(except after a <SAMP>`do <small>...</small> while'</SAMP> statement);
<LI>
C++ functions with reference parameters.
</UL>
<P>

You can enable the mode for one buffer with the command <KBD>M-x
cwarn-mode</KBD>, or for all suitable buffers with the command <KBD>M-x
global-cwarn-mode</KBD> or by customizing the variable
<CODE>global-cwarn-mode</CODE>.  You must also enable Font Lock mode to make
it work.
</P><P>

<DT><KBD>M-x hide-ifdef-mode</KBD>
<DD><A NAME="IDX1538"></A>
<A NAME="IDX1539"></A>
Hide-ifdef minor mode hides selected code within <SAMP>`#if'</SAMP> and
<SAMP>`#ifdef'</SAMP> preprocessor blocks.  See the documentation string of
<CODE>hide-ifdef-mode</CODE> for more information.
<P>

<DT><KBD>M-x ff-find-related-file</KBD>
<DD><A NAME="IDX1540"></A>
<A NAME="IDX1541"></A>
<A NAME="IDX1542"></A>
Find a file "related" in a special way to the file visited by the
current buffer.  Typically this will be the header file corresponding
to a C/C++ source file, or vice versa.  The variable
<CODE>ff-related-file-alist</CODE> specifies how to compute related file
names.
</DL>
<P>

<A NAME="Comments in C"></A>
<HR SIZE="6">
<A NAME="SEC302"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC301"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC297"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.11.5 Comments in C Modes </H3>
<!--docid::SEC302::-->
<P>

   C mode and related modes use a number of variables for controlling
comment format.
</P><P>

<DL COMPACT>
<DT><CODE>c-comment-only-line-offset</CODE>
<DD><A NAME="IDX1543"></A>
Extra offset for line which contains only the start of a comment.  It
can be either an integer or a cons cell of the form
<CODE>(<VAR>non-anchored-offset</VAR> . <VAR>anchored-offset</VAR>)</CODE>, where
<VAR>non-anchored-offset</VAR> is the amount of offset given to
non-column-zero anchored comment-only lines, and <VAR>anchored-offset</VAR>
is the amount of offset to give column-zero anchored comment-only lines.
Just an integer as value is equivalent to <CODE>(<VAR>val</VAR> . 0)</CODE>.
<P>

<DT><CODE>c-comment-start-regexp</CODE>
<DD><A NAME="IDX1544"></A>
This buffer-local variable specifies how to recognize the start of a comment.
<P>

<DT><CODE>c-hanging-comment-ender-p</CODE>
<DD><A NAME="IDX1545"></A>
If this variable is <CODE>nil</CODE>, <CODE>c-fill-paragraph</CODE> leaves the
comment terminator of a block comment on a line by itself.  The default
value is <CODE>t</CODE>, which puts the comment-end delimiter <SAMP>`*/'</SAMP> at the
end of the last line of the comment text.
<P>

<DT><CODE>c-hanging-comment-starter-p</CODE>
<DD><A NAME="IDX1546"></A>
If this variable is <CODE>nil</CODE>, <CODE>c-fill-paragraph</CODE> leaves the
starting delimiter of a block comment on a line by itself.  The default
value is <CODE>t</CODE>, which puts the comment-start delimiter <SAMP>`/*'</SAMP> at
the beginning of the first line of the comment text.
</DL>
<P>

<A NAME="Fortran"></A>
<HR SIZE="6">
<A NAME="SEC303"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC302"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC304"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.12 Fortran Mode </H2>
<!--docid::SEC303::-->
<P>

  Fortran mode provides special motion commands for Fortran statements and
subprograms, and indentation commands that understand Fortran conventions
of nesting, line numbers and continuation statements.  Fortran mode has
its own Auto Fill mode that breaks long lines into proper Fortran
continuation lines.
</P><P>

  Special commands for comments are provided because Fortran comments
are unlike those of other languages.  Built-in abbrevs optionally save
typing when you insert Fortran keywords.
</P><P>

  Use <KBD>M-x fortran-mode</KBD> to switch to this major mode.  This command
runs the hook <CODE>fortran-mode-hook</CODE> (see section <A HREF="emacs_33.html#SEC484">AD.2.3 Hooks</A>).
</P><P>

<A NAME="IDX1547"></A>
<A NAME="IDX1548"></A>
<A NAME="IDX1549"></A>
  Fortan mode is meant for editing Fortran77 "fixed format" source
code.  For editing the modern Fortran90 "free format" source code,
use F90 mode (<CODE>f90-mode</CODE>).  Emacs normally uses Fortran mode for
files with extension <SAMP>`.f'</SAMP>, <SAMP>`.F'</SAMP> or <SAMP>`.for'</SAMP>, and F90 mode
for the extension <SAMP>`.f90'</SAMP>.  GNU Fortran supports both kinds of
format.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC304">U.12.1 Motion Commands</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Moving point by statements or subprograms.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC305">U.12.2 Fortran Indentation</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Indentation commands for Fortran.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC311">U.12.3 Fortran Comments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Inserting and aligning comments.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC312">U.12.4 Fortran Auto Fill Mode</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Auto fill minor mode for Fortran.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC313">U.12.5 Checking Columns in Fortran</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Measuring columns for valid Fortran.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC314">U.12.6 Fortran Keyword Abbrevs</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Built-in abbrevs for Fortran keywords.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Fortran Motion"></A>
<HR SIZE="6">
<A NAME="SEC304"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.1 Motion Commands </H3>
<!--docid::SEC304::-->
<P>

  In addition to the normal commands for moving by and operating on
"defuns" (Fortran subprograms--functions and subroutines), Fortran
mode provides special commands to move by statements.
</P><P>

<DL COMPACT>
<A NAME="IDX1550"></A>
<A NAME="IDX1551"></A>
<DT><KBD>C-c C-n</KBD>
<DD>Move to beginning of current or next statement
(<CODE>fortran-next-statement</CODE>).
<P>

<A NAME="IDX1552"></A>
<A NAME="IDX1553"></A>
<DT><KBD>C-c C-p</KBD>
<DD>Move to beginning of current or previous statement
(<CODE>fortran-previous-statement</CODE>).
</DL>
<P>

<A NAME="Fortran Indent"></A>
<HR SIZE="6">
<A NAME="SEC305"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC304"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC306"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.2 Fortran Indentation </H3>
<!--docid::SEC305::-->
<P>

  Special commands and features are needed for indenting Fortran code in
order to make sure various syntactic entities (line numbers, comment line
indicators and continuation line flags) appear in the columns that are
required for standard Fortran.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC306">U.12.2.1 Fortran Indentation and Filling Commands</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Commands for indenting and filling Fortran.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC307">U.12.2.2 Continuation Lines</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How continuation lines indent.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC308">U.12.2.3 Line Numbers</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How line numbers auto-indent.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC309">U.12.2.4 Syntactic Conventions</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Conventions you must obey to avoid trouble.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="emacs_24.html#SEC310">U.12.2.5 Variables for Fortran Indentation</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Variables controlling Fortran indent style.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="ForIndent Commands"></A>
<HR SIZE="6">
<A NAME="SEC306"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC307"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H4> U.12.2.1 Fortran Indentation and Filling Commands </H4>
<!--docid::SEC306::-->
<P>

<DL COMPACT>
<DT><KBD>C-M-j</KBD>
<DD>Break the current line and set up a continuation line
(<CODE>fortran-split-line</CODE>).
<DT><KBD>M-^</KBD>
<DD>Join this line to the previous line (<CODE>fortran-join-line</CODE>).
<DT><KBD>C-M-q</KBD>
<DD>Indent all the lines of the subprogram point is in
(<CODE>fortran-indent-subprogram</CODE>).
<DT><KBD>M-q</KBD>
<DD>Fill a comment block or statement.
</DL>
<P>

<A NAME="IDX1554"></A>
<A NAME="IDX1555"></A>
  The key <KBD>C-M-q</KBD> runs <CODE>fortran-indent-subprogram</CODE>, a command
to reindent all the lines of the Fortran subprogram (function or
subroutine) containing point.
</P><P>

<A NAME="IDX1556"></A>
<A NAME="IDX1557"></A>
  The key <KBD>C-M-j</KBD> runs <CODE>fortran-split-line</CODE>, which splits
a line in the appropriate fashion for Fortran.  In a non-comment line,
the second half becomes a continuation line and is indented
accordingly.  In a comment line, both halves become separate comment
lines.
</P><P>

<A NAME="IDX1558"></A>
<A NAME="IDX1559"></A>
<A NAME="IDX1560"></A>
  <KBD>M-^</KBD> or <KBD>C-c C-d</KBD> runs the command <CODE>fortran-join-line</CODE>,
which joins a continuation line back to the previous line, roughly as
the inverse of <CODE>fortran-split-line</CODE>.  The point must be on a
continuation line when this command is invoked.
</P><P>

<A NAME="IDX1561"></A>
<KBD>M-q</KBD> in Fortran mode fills the comment block or statement that
point is in.  This removes any excess statement continuations.
</P><P>

<A NAME="ForIndent Cont"></A>
<HR SIZE="6">
<A NAME="SEC307"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC306"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC308"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC308"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H4> U.12.2.2 Continuation Lines </H4>
<!--docid::SEC307::-->
<P>

<A NAME="IDX1562"></A>
  Most modern Fortran compilers allow two ways of writing continuation
lines.  If the first non-space character on a line is in column 5, then
that line is a continuation of the previous line.  We call this
<EM>fixed format</EM>.  (In GNU Emacs we always count columns from 0.)  The
variable <CODE>fortran-continuation-string</CODE> specifies what character to
put on column 5.  A line that starts with a tab character followed by
any digit except <SAMP>`0'</SAMP> is also a continuation line.  We call this
style of continuation <EM>tab format</EM>.
</P><P>

<A NAME="IDX1563"></A>
  Fortran mode can make either style of continuation line, but you
must specify which one you prefer.  The value of the variable
<CODE>indent-tabs-mode</CODE> controls the choice: <CODE>nil</CODE> for fixed
format, and non-<CODE>nil</CODE> for tab format.  You can tell which style
is presently in effect by the presence or absence of the string
<SAMP>`Tab'</SAMP> in the mode line.
</P><P>

  If the text on a line starts with the conventional Fortran
continuation marker <SAMP>`$'</SAMP>, or if it begins with any non-whitespace
character in column 5, Fortran mode treats it as a continuation line.
When you indent a continuation line with <KBD>TAB</KBD>, it converts the line
to the current continuation style.  When you split a Fortran statement
with <KBD>C-M-j</KBD>, the continuation marker on the newline is created
according to the continuation style.
</P><P>

  The setting of continuation style affects several other aspects of
editing in Fortran mode.  In fixed format mode, the minimum column
number for the body of a statement is 6.  Lines inside of Fortran
blocks that are indented to larger column numbers always use only the
space character for whitespace.  In tab format mode, the minimum
column number for the statement body is 8, and the whitespace before
column 8 must always consist of one tab character.
</P><P>

<A NAME="IDX1564"></A>
<A NAME="IDX1565"></A>
  When you enter Fortran mode for an existing file, it tries to deduce the
proper continuation style automatically from the file contents.  The first
line that begins with either a tab character or six spaces determines the
choice.  The variable <CODE>fortran-analyze-depth</CODE> specifies how many lines
to consider (at the beginning of the file); if none of those lines
indicates a style, then the variable <CODE>fortran-tab-mode-default</CODE>
specifies the style.  If it is <CODE>nil</CODE>, that specifies fixed format, and
non-<CODE>nil</CODE> specifies tab format.
</P><P>

<A NAME="ForIndent Num"></A>
<HR SIZE="6">
<A NAME="SEC308"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC307"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC309"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC309"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H4> U.12.2.3 Line Numbers </H4>
<!--docid::SEC308::-->
<P>

  If a number is the first non-whitespace in the line, Fortran
indentation assumes it is a line number and moves it to columns 0
through 4.  (Columns always count from 0 in GNU Emacs.)
</P><P>

<A NAME="IDX1566"></A>
  Line numbers of four digits or less are normally indented one space.
The variable <CODE>fortran-line-number-indent</CODE> controls this; it
specifies the maximum indentation a line number can have.  Line numbers
are indented to right-justify them to end in column 4 unless that would
require more than this maximum indentation.  The default value of the
variable is 1.
</P><P>

<A NAME="IDX1567"></A>
  Simply inserting a line number is enough to indent it according to
these rules.  As each digit is inserted, the indentation is recomputed.
To turn off this feature, set the variable
<CODE>fortran-electric-line-number</CODE> to <CODE>nil</CODE>.  Then inserting line
numbers is like inserting anything else.
</P><P>

<A NAME="ForIndent Conv"></A>
<HR SIZE="6">
<A NAME="SEC309"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC308"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC310"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC310"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H4> U.12.2.4 Syntactic Conventions </H4>
<!--docid::SEC309::-->
<P>

  Fortran mode assumes that you follow certain conventions that simplify
the task of understanding a Fortran program well enough to indent it
properly:
</P><P>

<UL>
<LI>
Two nested <SAMP>`do'</SAMP> loops never share a <SAMP>`continue'</SAMP> statement.
<P>

<LI>
Fortran keywords such as <SAMP>`if'</SAMP>, <SAMP>`else'</SAMP>, <SAMP>`then'</SAMP>, <SAMP>`do'</SAMP>
and others are written without embedded whitespace or line breaks.
<P>

Fortran compilers generally ignore whitespace outside of string
constants, but Fortran mode does not recognize these keywords if they
are not contiguous.  Constructs such as <SAMP>`else if'</SAMP> or <SAMP>`end do'</SAMP>
are acceptable, but the second word should be on the same line as the
first and not on a continuation line.
</UL>
<P>

If you fail to follow these conventions, the indentation commands may
indent some lines unaesthetically.  However, a correct Fortran program
retains its meaning when reindented even if the conventions are not
followed.
</P><P>

<A NAME="ForIndent Vars"></A>
<HR SIZE="6">
<A NAME="SEC310"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC309"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC305"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H4> U.12.2.5 Variables for Fortran Indentation </H4>
<!--docid::SEC310::-->
<P>

<A NAME="IDX1568"></A>
<A NAME="IDX1569"></A>
<A NAME="IDX1570"></A>
<A NAME="IDX1571"></A>
<A NAME="IDX1572"></A>
<A NAME="IDX1573"></A>
  Several additional variables control how Fortran indentation works:
</P><P>

<DL COMPACT>
<DT><CODE>fortran-do-indent</CODE>
<DD>Extra indentation within each level of <SAMP>`do'</SAMP> statement (default 3).
<P>

<DT><CODE>fortran-if-indent</CODE>
<DD>Extra indentation within each level of <SAMP>`if'</SAMP> statement (default 3).
This value is also used for extra indentation within each level of the
Fortran 90 <SAMP>`where'</SAMP> statement.
<P>

<DT><CODE>fortran-structure-indent</CODE>
<DD>Extra indentation within each level of <SAMP>`structure'</SAMP>, <SAMP>`union'</SAMP>, or
<SAMP>`map'</SAMP> statements (default 3).
<P>

<DT><CODE>fortran-continuation-indent</CODE>
<DD>Extra indentation for bodies of continuation lines (default 5).
<P>

<DT><CODE>fortran-check-all-num-for-matching-do</CODE>
<DD>If this is <CODE>nil</CODE>, indentation assumes that each <SAMP>`do'</SAMP> statement
ends on a <SAMP>`continue'</SAMP> statement.  Therefore, when computing
indentation for a statement other than <SAMP>`continue'</SAMP>, it can save time
by not checking for a <SAMP>`do'</SAMP> statement ending there.  If this is
non-<CODE>nil</CODE>, indenting any numbered statement must check for a
<SAMP>`do'</SAMP> that ends there.  The default is <CODE>nil</CODE>.
<P>

<DT><CODE>fortran-blink-matching-if</CODE>
<DD>If this is <CODE>t</CODE>, indenting an <SAMP>`endif'</SAMP> statement moves the
cursor momentarily to the matching <SAMP>`if'</SAMP> statement to show where it
is.  The default is <CODE>nil</CODE>.
<P>

<DT><CODE>fortran-minimum-statement-indent-fixed</CODE>
<DD>Minimum indentation for fortran statements when using fixed format
continuation line style.  Statement bodies are never indented less than
this much.  The default is 6.
<P>

<DT><CODE>fortran-minimum-statement-indent-tab</CODE>
<DD>Minimum indentation for fortran statements for tab format continuation line
style.  Statement bodies are never indented less than this much.  The
default is 8.
</DL>
<P>

<A NAME="Fortran Comments"></A>
<HR SIZE="6">
<A NAME="SEC311"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC310"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC312"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC312"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.3 Fortran Comments </H3>
<!--docid::SEC311::-->
<P>

  The usual Emacs comment commands assume that a comment can follow a line
of code.  In Fortran, the standard comment syntax requires an entire line
to be just a comment.  Therefore, Fortran mode replaces the standard Emacs
comment commands and defines some new variables.
</P><P>

  Fortran mode can also handle the Fortran90 comment syntax where comments
start with <SAMP>`!'</SAMP> and can follow other text.  Because only some Fortran77
compilers accept this syntax, Fortran mode will not insert such comments
unless you have said in advance to do so.  To do this, set the variable
<CODE>comment-start</CODE> to <SAMP>`"!"'</SAMP> (see section <A HREF="emacs_33.html#SEC477">AD.2 Variables</A>).
</P><P>

<DL COMPACT>
<DT><KBD>M-;</KBD>
<DD>Align comment or insert new comment (<CODE>fortran-comment-indent</CODE>).
<P>

<DT><KBD>C-x ;</KBD>
<DD>Applies to nonstandard <SAMP>`!'</SAMP> comments only.
<P>

<DT><KBD>C-c ;</KBD>
<DD>Turn all lines of the region into comments, or (with argument) turn them back
into real code (<CODE>fortran-comment-region</CODE>).
</DL>
<P>

  <KBD>M-;</KBD> in Fortran mode is redefined as the command
<CODE>fortran-comment-indent</CODE>.  Like the usual <KBD>M-;</KBD> command, this
recognizes any kind of existing comment and aligns its text appropriately;
if there is no existing comment, a comment is inserted and aligned.  But
inserting and aligning comments are not the same in Fortran mode as in
other modes.
</P><P>

  When a new comment must be inserted, if the current line is blank, a
full-line comment is inserted.  On a non-blank line, a nonstandard <SAMP>`!'</SAMP>
comment is inserted if you have said you want to use them.  Otherwise a
full-line comment is inserted on a new line before the current line.
</P><P>

  Nonstandard <SAMP>`!'</SAMP> comments are aligned like comments in other
languages, but full-line comments are different.  In a standard full-line
comment, the comment delimiter itself must always appear in column zero.
What can be aligned is the text within the comment.  You can choose from
three styles of alignment by setting the variable
<CODE>fortran-comment-indent-style</CODE> to one of these values:
</P><P>

<A NAME="IDX1574"></A>
<A NAME="IDX1575"></A>
<DL COMPACT>
<DT><CODE>fixed</CODE>
<DD>Align the text at a fixed column, which is the sum of
<CODE>fortran-comment-line-extra-indent</CODE> and the minimum statement
indentation.  This is the default.
<P>

The minimum statement indentation is
<CODE>fortran-minimum-statement-indent-fixed</CODE> for fixed format
continuation line style and <CODE>fortran-minimum-statement-indent-tab</CODE>
for tab format style.
</P><P>

<DT><CODE>relative</CODE>
<DD>Align the text as if it were a line of code, but with an additional
<CODE>fortran-comment-line-extra-indent</CODE> columns of indentation.
<P>

<DT><CODE>nil</CODE>
<DD>Don't move text in full-line comments automatically at all.
</DL>
<P>

<A NAME="IDX1576"></A>
  In addition, you can specify the character to be used to indent within
full-line comments by setting the variable
<CODE>fortran-comment-indent-char</CODE> to the single-character string you want
to use.
</P><P>

<A NAME="IDX1577"></A>
<A NAME="IDX1578"></A>
  Fortran mode introduces two variables <CODE>comment-line-start</CODE> and
<CODE>comment-line-start-skip</CODE>, which play for full-line comments the same
roles played by <CODE>comment-start</CODE> and <CODE>comment-start-skip</CODE> for
ordinary text-following comments.  Normally these are set properly by
Fortran mode, so you do not need to change them.
</P><P>

  The normal Emacs comment command <KBD>C-x ;</KBD> has not been redefined.  If
you use <SAMP>`!'</SAMP> comments, this command can be used with them.  Otherwise
it is useless in Fortran mode.
</P><P>

<A NAME="IDX1579"></A>
<A NAME="IDX1580"></A>
<A NAME="IDX1581"></A>
  The command <KBD>C-c ;</KBD> (<CODE>fortran-comment-region</CODE>) turns all the
lines of the region into comments by inserting the string <SAMP>`C$$$'</SAMP> at
the front of each one.  With a numeric argument, it turns the region
back into live code by deleting <SAMP>`C$$$'</SAMP> from the front of each line
in it.  The string used for these comments can be controlled by setting
the variable <CODE>fortran-comment-region</CODE>.  Note that here we have an
example of a command and a variable with the same name; these two uses
of the name never conflict because in Lisp and in Emacs it is always
clear from the context which one is meant.
</P><P>

<A NAME="Fortran Autofill"></A>
<HR SIZE="6">
<A NAME="SEC312"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC311"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC313"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC313"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.4 Fortran Auto Fill Mode </H3>
<!--docid::SEC312::-->
<P>

  Fortran Auto Fill mode is a minor mode which automatically splits
Fortran statements as you insert them when they become too wide.
Splitting a statement involves making continuation lines using
<CODE>fortran-continuation-string</CODE> (see section <A HREF="emacs_24.html#SEC307">U.12.2.2 Continuation Lines</A>).  This
splitting happens when you type <KBD>SPC</KBD>, <KBD>RET</KBD>, or <KBD>TAB</KBD>, and
also in the Fortran indentation commands.
</P><P>

<A NAME="IDX1582"></A>
  <KBD>M-x fortran-auto-fill-mode</KBD> turns Fortran Auto Fill mode on if it
was off, or off if it was on.  This command works the same as <KBD>M-x
auto-fill-mode</KBD> does for normal Auto Fill mode (see section <A HREF="emacs_23.html#SEC238">T.5 Filling Text</A>).  A
positive numeric argument turns Fortran Auto Fill mode on, and a
negative argument turns it off.  You can see when Fortran Auto Fill mode
is in effect by the presence of the word <SAMP>`Fill'</SAMP> in the mode line,
inside the parentheses.  Fortran Auto Fill mode is a minor mode, turned
on or off for each buffer individually.  See section <A HREF="emacs_33.html#SEC476">AD.1 Minor Modes</A>.
</P><P>

<A NAME="IDX1583"></A>
   Fortran Auto Fill mode breaks lines at spaces or delimiters when the
lines get longer than the desired width (the value of <CODE>fill-column</CODE>).
The delimiters that Fortran Auto Fill mode may break at are <SAMP>`,'</SAMP>,
<SAMP>`''</SAMP>, <SAMP>`+'</SAMP>, <SAMP>`-'</SAMP>, <SAMP>`/'</SAMP>, <SAMP>`*'</SAMP>, <SAMP>`='</SAMP>, and <SAMP>`)'</SAMP>.
The line break comes after the delimiter if the variable
<CODE>fortran-break-before-delimiters</CODE> is <CODE>nil</CODE>.  Otherwise (and by
default), the break comes before the delimiter.
</P><P>

  By default, Fortran Auto Fill mode is not enabled.  If you want this
feature turned on permanently, add a hook function to
<CODE>fortran-mode-hook</CODE> to execute <CODE>(fortran-auto-fill-mode 1)</CODE>.
See section <A HREF="emacs_33.html#SEC484">AD.2.3 Hooks</A>.
</P><P>

<A NAME="Fortran Columns"></A>
<HR SIZE="6">
<A NAME="SEC313"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC312"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC314"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC314"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.5 Checking Columns in Fortran </H3>
<!--docid::SEC313::-->
<P>

<DL COMPACT>
<DT><KBD>C-c C-r</KBD>
<DD>Display a "column ruler" momentarily above the current line
(<CODE>fortran-column-ruler</CODE>).
<DT><KBD>C-c C-w</KBD>
<DD>Split the current window horizontally temporarily so that it is 72
columns wide (<CODE>fortran-window-create-momentarily</CODE>).  This may
help you avoid making lines longer than the 72-character limit that
some Fortran compilers impose.
<DT><KBD>C-u C-c C-w</KBD>
<DD>Split the current window horizontally so that it is 72 columns wide
(<CODE>fortran-window-create</CODE>).  You can then continue editing.
<DT><KBD>M-x fortran-strip-sequence-nos</KBD>
<DD>Delete all text in column 72 and beyond.
</DL>
<P>

<A NAME="IDX1584"></A>
<A NAME="IDX1585"></A>
  The command <KBD>C-c C-r</KBD> (<CODE>fortran-column-ruler</CODE>) shows a column
ruler momentarily above the current line.  The comment ruler is two lines
of text that show you the locations of columns with special significance in
Fortran programs.  Square brackets show the limits of the columns for line
numbers, and curly brackets show the limits of the columns for the
statement body.  Column numbers appear above them.
</P><P>

  Note that the column numbers count from zero, as always in GNU Emacs.
As a result, the numbers may be one less than those you are familiar
with; but the positions they indicate in the line are standard for
Fortran.
</P><P>

<A NAME="IDX1586"></A>
<A NAME="IDX1587"></A>
  The text used to display the column ruler depends on the value of
the variable <CODE>indent-tabs-mode</CODE>.  If <CODE>indent-tabs-mode</CODE> is
<CODE>nil</CODE>, then the value of the variable
<CODE>fortran-column-ruler-fixed</CODE> is used as the column ruler.
Otherwise, the variable <CODE>fortran-column-ruler-tab</CODE> is displayed.
By changing these variables, you can change the column ruler display.
</P><P>

<A NAME="IDX1588"></A>
<A NAME="IDX1589"></A>
  <KBD>C-c C-w</KBD> (<CODE>fortran-window-create-momentarily</CODE>) temporarily
splits the current window horizontally, making a window 72 columns
wide, so you can see which lines that is too long.  Type a space to
restore the normal width.
</P><P>

<A NAME="IDX1590"></A>
<A NAME="IDX1591"></A>
  You can also split the window horizontally and continue editing with
the split in place.  To do this, use <KBD>C-u C-c C-w</KBD> (<CODE>M-x
fortran-window-create</CODE>).  By editing in this window you can
immediately see when you make a line too wide to be correct Fortran.
</P><P>

<A NAME="IDX1592"></A>
  The command <KBD>M-x fortran-strip-sequence-nos</KBD> deletes all text in
column 72 and beyond, on all lines in the current buffer.  This is the
easiest way to get rid of old sequence numbers.
</P><P>

<A NAME="Fortran Abbrev"></A>
<HR SIZE="6">
<A NAME="SEC314"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC313"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC303"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC315"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> U.12.6 Fortran Keyword Abbrevs </H3>
<!--docid::SEC314::-->
<P>

  Fortran mode provides many built-in abbrevs for common keywords and
declarations.  These are the same sort of abbrev that you can define
yourself.  To use them, you must turn on Abbrev mode.  See section <A HREF="emacs_27.html#SEC350">X. Abbrevs</A>.
</P><P>

  The built-in abbrevs are unusual in one way: they all start with a
semicolon.  You cannot normally use semicolon in an abbrev, but Fortran
mode makes this possible by changing the syntax of semicolon to "word
constituent."
</P><P>

  For example, one built-in Fortran abbrev is <SAMP>`;c'</SAMP> for
<SAMP>`continue'</SAMP>.  If you insert <SAMP>`;c'</SAMP> and then insert a punctuation
character such as a space or a newline, the <SAMP>`;c'</SAMP> expands automatically
to <SAMP>`continue'</SAMP>, provided Abbrev mode is enabled.</P><P>

  Type <SAMP>`;?'</SAMP> or <SAMP>`;C-h'</SAMP> to display a list of all the built-in
Fortran abbrevs and what they stand for.
</P><P>

<A NAME="Asm Mode"></A>
<HR SIZE="6">
<A NAME="SEC315"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC314"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC268"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> U.13 Asm Mode </H2>
<!--docid::SEC315::-->
<P>

<A NAME="IDX1593"></A>
<A NAME="IDX1594"></A>
Asm mode is a major mode for editing files of assembler code.  It
defines these commands:
</P><P>

<DL COMPACT>
<DT><KBD><KBD>TAB</KBD></KBD>
<DD><CODE>tab-to-tab-stop</CODE>.
<DT><KBD>C-j</KBD>
<DD>Insert a newline and then indent using <CODE>tab-to-tab-stop</CODE>.
<DT><KBD>:</KBD>
<DD>Insert a colon and then remove the indentation from before the label
preceding colon.  Then do <CODE>tab-to-tab-stop</CODE>.
<DT><KBD>;</KBD>
<DD>Insert or align a comment.
</DL>
<P>

  The variable <CODE>asm-comment-char</CODE> specifies which character
starts comments in assembler syntax.
<A NAME="Building"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_24.html#SEC270"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_25.html#SEC316"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="emacs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
on <I>April 2, 2002</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
